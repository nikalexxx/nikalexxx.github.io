import { getCustomElements } from '../../elements.js';

export default (api) => {
    const { _, text, block, control, math } = api;
    const { i, label } = text;
    const { start, end } = control;
    const { ul, li, area } = block;
    const { $ } = math;

    const {problem, paragraph, A, B, C} = getCustomElements(api);
    return _`
${paragraph.key(`equal-sets`)`Равномощные множества`}
Два множества называют ${i`равномощными`}, если между ними можно установить взаимно однозначное соответствие, при котором каждому элементу одного множества соответствует ровно один элемент другого.


Для конечных множеств это означает, что в них одинаковое число элементов, но определение имеет смысл и для бесконечных множеств.
Например, отрезки ${$`[0, 1]`} и ${$`[0, 2]`} равномощны, поскольку отображение ${$`x \\mapsto 2x`} осуществляет искомое соответствие.


${problem`Докажите, что любые два интервала ${$`(a, b)`} и ${$`(c, d)`} на прямой равномощны.`}


${problem`
Докажите, что любые две окружности на плоскости равномощны.
Докажите, что любые два круга на плоскости равномощны.
`}


${problem`Докажите, что полуинтервал ${$`[0, 1)`} равномощен полуинтервалу ${$`(0, 1]`}.`}


Несколько более сложна такая задача: доказать, что интервал ${$`(0, 1)`} и луч ${$`(0, +\\infin)`} равномощны.
Это делается так.
Заметим, что отображение ${$`x \\mapsto 1/x`} является взаимно однозначным соответствием между ${$`(0, 1)`} и ${$`(1, +\\infin)`}, а ${$`x \\mapsto (x - 1)`} — взаимно однозначным соответствием между ${$`(1, +\\infin)`} и ${$`(0, +\\infin)`}, поэтому их композиция ${$`x \\mapsto (1/x) - 1`} является искомым взаимно однозначным соответствием между ${$`(0, 1)`} и ${$`(0, +\\infin)`}.


Вообще, как говорят, отношение равномощности есть ${i`отношение эквивалентности`}.
Это означает, что оно ${i`рефлексивно`} (каждое множество равномощно самому себе),
${i`симметрично`} (если ${A} равномощно ${B}, то и ${B} равномощно ${A}) и ${i`транзитивно`} (если ${A} равномощно ${B} и ${B} равномощно ${C}, то ${A} равномощно ${C}).
Свойством транзитивности мы только что воспользовались, взяв луч ${$`(1, +\\infin)`} в качестве промежуточного множества.


Ещё несколько примеров:
${start(ul)}
${start(li)}
Множество бесконечных последовательностей нулей и единиц равномощно множеству всех подмножеств натурального ряда.
(В самом деле, сопоставим с каждой последовательностью множество номеров мест, на которых стоят единицы: например, последовательность из одних нулей соответствует пустому множеству, из одних единиц — натуральному ряду, а последовательность ${$`10101010\\dots`} — множеству чётных чисел.)
${end(li)}
${start(li)}
Множество бесконечных последовательностей цифр 0, 1, 2, 3 равномощно множеству бесконечных последовательностей нулей и единиц.
(В самом деле, можно закодировать цифры 0, 1, 2, 3 группами 00, 01, 10, 11.
Обратное преобразование разбивает последовательность нулей и единиц на пары, после чего каждая пара заменяется на цифру от 0 до 3.)
${end(li)}
${start(li)}
Множество бесконечных последовательностей цифр 0, 1, 2 равномощно множеству бесконечных последовательностей цифр 0 и 1.
(Можно было бы пытаться рассуждать так: это множество заключено между двумя множествами одной и той же мощности, и потому равномощно каждому из них.
Этот ход мыслей правилен, как показывает ${label.ref('theorem_<>=')`теорема Кантора–Бернштейна`}.
Но здесь можно обойтись и без этой теоремы, если закодировать цифры 0, 1 и 2 последовательностями 0, 10 и 11: легко сообразить, что всякая последовательность нулей и единиц однозначно разбивается на такие блоки слева направо.
Такой способ кодирования называют «префиксным кодом».)
${end(li)}
${start(li)}
${start(area.key('2^U-01'))}
Пример с последовательностями нулей и единиц можно обобщить: множество подмножеств любого множества ${$`U`}
(оно обычно обозначается ${$`P(U)`} и по-английски называется power set)
равномощно множеству всех функций, которые ставят в соответствие каждому элементу ${$`x \\in U`} одно из чисел 0 и 1 (множество таких функций обычно обозначают ${$`2^U`}).
(В самом деле, каждому множеству ${$`X \\sub U`} соответствует его характеристическая функция.)
${end(area)}
${end(li)}
${end(ul)}
Мы продолжим этот список, но сначала докажем несколько простых фактов о счётных множествах (равномощных множеству натуральных чисел).
`;
};
