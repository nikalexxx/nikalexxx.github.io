{"version":3,"sources":["utils/bem.js","utils/style.js","utils/symbols.js","utils/clone.js","utils/diff.js","utils/element.js","utils/css.js","utils/children.js","utils/logger.js","utils/component.js","utils/router.js","utils/custom.js","utils/consoleStyle.js","utils/class.js","utils/index.js","components/Breadcrumbs/Breadcrumbs.js","data/blog/index.js","blocks/Button/Button.js","blocks/Checkbox/Checkbox.js","blocks/Select/Select.js","blocks/index.js","utils/book.js","components/Post/Post.js","components/Blog/Blog.js","components/Physics/Physics.js","components/StandardModel/StandardModel.js","components/Projects/Projects.js","components/Colors/Colors.js","components/Unicode/Unicode.js","components/Design/Design.js","icons/Ban.js","icons/Sun.js","icons/Moon.js","icons/Play.js","icons/PencilAlt.js","icons/Pause.js","icons/StepForward.js","icons/index.js","components/GameOfLife/GameOfLife.js","components/About/About.js","MyComponent.js","map.js","components/App/App.js","components/index.js","index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["block","blockName","String","element","modifiers","mixin","cssStack","elementName","push","mod","value","join","props","cssProps","prop","name","replace","x","toLowerCase","elementSymbol","Symbol","componentSymbol","getClone","cloneNode","Error","nodeType","clone","E","tagName","Object","keys","eventListeners","length","eventName","listeners","listener","addEventListener","Array","from","childNodes","child","cloneChild","append","diffObject","t","delete","primitive","array","raw","D","meta","new","isPrimitive","diff","A","B","toString","isArray","lA","lB","max","min","result","i","indexDiff","key","keyDiff","symbols","namespaceKeys","namespaces","getNode","node","elem","strToArray","strings","list","DOM","elementObject","document","createTextNode","namespace","children","createElementNS","startsWith","setAttribute","values","map","e","dom","parent","ref","patchDOM","upd","parentNode","remove","undefined","nodeValue","replaceWith","newDom","removeAttribute","removeEventListener","deleteListeners","updatedChildKeys","_key","removeChild","newChildren","example","div","class","id","style","span","p","elementStructure","T","Number","data","diffStructure","diffFunctionStructure","Function","params","diffElements","_forceUpdate","_update","diffProps","diffEventListeners","diffChildren","k","diffItems","getProps","attributes","attrs","getChildren","hasAttribute","getAttribute","getElementFromDOM","domElement","namespaceURI","getElement","Proxy","get","target","tag","create","toUpperCase","slice","console","error","nodes","filter","dublicatedKeys","Set","index","add","size","stableElement","items","apply","thisArg","argArray","S","M","getDirPath","fileUrl","URL","pathname","split","sourceUrl","relativePath","type","includes","pathRelative","test","sourcePath","fullPath","Promise","resolve","link","rel","href","head","querySelector","less","script","src","update","window","setTimeout","_log","condition","f","log","loggerSymbol","logAllLevels","setLogger","settings","getCondition","levels","current","level","createLogProxy","set","state","arg","newObject","assign","attr","logAdd","color","backgroundColor","logRemove","getElem","component","fragment","createDocumentFragment","isTypeChanged","newElement","nodeName","componentConstructor","componentName","handlerErrors","makeComponent","componentNameSymbol","didMountEvent","source","dispatchEvent","CustomEvent","detail","willUnmountEvent","prevState","handlerIndex","handlers","count","indexes","bump","initState","startState","changedStateFields","setState","newState","callback","newStateObject","change","field","rerender","changeState","names","stateClass","init","onChange","didMount","onDidMount","event","didMountListener","firstAppend","storage","elements","mo","MutationObserver","mutations","observer","closest","first","innerHTML","disconnect","observe","childList","subtree","render","hooks","componentData","diffElement","item","setComponentData","Component","historyUpdate","pushState","title","url","history","replaceState","getRouterState","routes","location","search","path","URLSearchParams","stack","param","resultParams","resultPath","pathStack","equal","RouteLink","onLinkClick","preventDefault","a","onClick","Switch","getCustom","CustomElement","shadow","attachShadow","mode","slot","HTMLElement","customName","customElements","define","Custom","css","text","consoleStyle","textList","styles","args","s","v","local","mix","background","_func","_var","_const","_op","func","_b","_i","_pre","_h","l","text1","styles1","Class","createClass","fields","getter","initialValues","constructor","o","object","b","Breadcrumbs","last","creationTime","tags","Button","c","disabled","button","Checkbox","label","input","_props","Select","heap","getPreparedValues","groups","option","group","select","options","optgroup","selected","createBook","to","types","html","V","stringElements","brs","match","tail","br","indexOf","subbrs","j","code","pre","h","n","img","alt","external","markdown","repeat","browserConsole","Post","blog","appVersion","fetch","then","blob","default","catch","template","iframe","iframeElem","getElementById","height","contentWindow","body","clientHeight","h2","em","Date","toLocaleString","year","month","day","timezone","hour","minute","second","Blog","total","sort","keyA","keyB","getMs","h3","Physics","padding","sup","particles","symbol","sub","charge","spin","mass","interaction","modifier","category","StandardModel","renderTile","view","firstChild","dataset","prev","strong","fermions","bosons","anti","normal","vector","scalar","leptons","quarks","part","start","Projects","colors","currentListener","Colors","getContrastCondition","rgb","classList","contains","Math","theme","getComputedStyle","documentElement","getPropertyValue","trim","hex","parseInt","contrast","border","colorNode","limit","getUnicodeList","end","table","fromCharCode","Unicode","startI","endI","active","Design","fontSize","fontWeight","BanIcon","svg","focusable","role","xmlns","viewBox","fill","d","SunIcon","MoonIcon","PlayIcon","PencilAltIcon","PauseIcon","StepForwardIcon","Icon","Ban","Sun","Moon","Play","Pause","StepForward","PencilAlt","range","patternGroups","spaceship","puffer","gun","oscillator","methuselah","patterns","swan","loafer","lobster","blinker","beluchenko","cache","getDataFromRLE","RLEString","rows","maxI","row","parts","endsWith","linesCount","width","gameTimeout","Game","H","W","stop","paint","rule","old","custom","pattern","canvas","img_data","ctx","fieldState","fieldStateNext","clearTimeout","startData","set_life","getContext","alpha","getImageData","draw","reduce","sum","paintControl","onmousedown","onmouseup","onmouseout","onmousemove","startDrawing","stopDrawing","context","isDrawing","strokeStyle","lineWidth","pause","getBoundingClientRect","y","beginPath","moveTo","clientX","clientY","xd","yd","lineTo","stroke","life","torsum","i_top_W","i_down_W","i_W","j_l","j_r","getMiddle","startX","startY","clear","putImageData","step","Boolean","one_step","onRuleChange","prevStop","getRuleCaption","patternKey","checked","textarea","bind","about","MyComponent","show","visible","ok","About","book","GameOfLife","Menu","renderLink","Header","savedTheme","localStorage","getItem","setTheme","setItem","toogleTheme","getIcon","dark","light","header","h1","textAlign","Page","nav","main","footer","App","bundleURL","getBundleURLCached","getBundleURL","err","matches","getBaseURL","exports","bundle","require","updateLink","newLink","onload","now","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","module","OVERLAY_ID","OldModule","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","JSON","parse","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","overlay","createErrorOverlay","appendChild","createElement","stackTrace","innerText","getParents","modules","parents","dep","concat","deps","cached","some","cb"],"mappings":"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AACpB,QAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAnM,MAAM;AAAA,aAAIA,MAAM,CAACkM,aAAD,CAAV;AAAA,KAA1B;;AACAH,IAAAA,WAAW,CAAC;AAAC3F,MAAAA,KAAK,EAALA,KAAD;AAAQ+F,MAAAA,WAAW,EAAXA;AAAR,KAAD,CAAX;AACA,WAAO,IAAIvM,KAAJ,CAAU,EAAV,EAAc;AACjBC,MAAAA,GADiB,eACbC,MADa,EACL/H,IADK,EACC;AACd,eAAOA,IAAI,IAAIiU,MAAR,GAAiBA,MAAM,CAACjU,IAAD,CAAN,EAAjB,GAAkCiF,SAAzC;AACH;AAHgB,KAAd,CAAP;AAKH,GARD;AASH,EAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;;;AAEA,IAAMoP,CAAC,GAAG;AAAC3C,EAAAA,CAAC,EAAE;AAAJ,CAAV;;AAEA,SAASjN,CAAT,CAAW6P,MAAX,EAAmB,CAAE;;AAErB7P,CAAC,CAAC4P,CAAD,CAAD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxIA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;A+BVA,IAAI2R,SAAS,GAA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","file":"index.1.4.0.js","sourceRoot":"..","sourcesContent":["const block = blockName => {\n    const block = String(blockName);\n    return function(element, modifiers, mixin) {\n        const cssStack = [];\n        const elementName = block + (element ? `__${element}` : '');\n        cssStack.push(elementName);\n        for (const mod in modifiers) {\n            const value = modifiers[mod];\n            if (typeof value === 'boolean') {\n                if (value) {\n                    cssStack.push(`${elementName}_${mod}`);\n                }\n            } else {\n                cssStack.push(`${elementName}_${mod}_${value}`);\n            }\n        }\n        return cssStack.join(' ');\n    };\n}\n\nexport default block;\n","export default function (props = {}) {\n    const cssProps = [];\n    for (const prop in props) {\n        const name = prop.replace(/[A-Z]/g, x => '-' + x.toLowerCase());\n        cssProps.push(`${name}: ${props[prop]};`);\n    }\n    return cssProps.join(' ');\n}\n","export const elementSymbol = Symbol('element');\nexport const componentSymbol = Symbol('component');\n","import {elementSymbol, componentSymbol} from './symbols.js';\nimport {E} from './element.js';\n\nexport const getClone = element => {\n    // console.log('clone', element);\n    if (!element.cloneNode) {\n        throw new Error('clone не удался')\n        return element;\n    }\n    // console.log({element});\n    if (element.nodeType === 3) {\n        return element.cloneNode(false);\n    }\n    let clone = E[element.tagName.toLowerCase()];\n    if (elementSymbol in element) {\n        clone = clone[Symbol('props')](element[elementSymbol].props)();\n        // clone[elementSymbol] = element[elementSymbol];\n    } else {\n        clone = clone();\n    }\n    if (componentSymbol in element) {\n        clone[componentSymbol] = element[componentSymbol];\n        clone[componentSymbol].element = clone;\n        // element[componentSymbol].element = clone;\n    }\n    if (element[elementSymbol] && Object.keys(element[elementSymbol].eventListeners).length > 0) {\n        for (const eventName of Object.keys(element[elementSymbol].eventListeners)) {\n            const listeners = element[elementSymbol].eventListeners[eventName];\n            for (const listener of listeners) {\n                clone.addEventListener(eventName, listener, false);\n            }\n        }\n    }\n    for (const child of Array.from(element.childNodes)) {\n        const cloneChild = getClone(child);\n        clone.append(cloneChild);\n    }\n    return clone;\n}\n","\nconst diffObject = t => [\n    t.delete, // Symbol('delete') для удаления примитива\n    t.primitive, // новое значение примитива, заменяет предыдущее значение\n    {\n        [t.array]: t`?`(true), // указывает, что значение массив, ключи будут приводится к Number\n        [t.raw]: t`?`(true), // указывает, что объект нужно включать как есть, не разбирая рекурсивно\n        [t(String)]: t`?`(diffObject),\n        [t(Symbol)]: t`?`(diffObject) // для символьных свойств\n    }\n];\n\nconst D = {\n    delete: Symbol('delete'),\n    array: Symbol('array'),\n    raw: Symbol('raw'),\n    meta: Symbol('meta'),\n    new: Symbol('new')\n};\n\nexport const isPrimitive = value => {\n    return value !== new Object(value);\n}\n\nexport const raw = value => {\n    if (isPrimitive(value)) {\n        return value;\n    }\n    // return {\n    //     ...value,\n    //     [D.raw]: true,\n    //     [D.new]: value\n    // }\n    value[D.raw] = true;\n    value[D.new] = value;\n    return value;\n}\n\n\n// TODO: добавить поддержку циклических ссылок\nexport function diff(A, B) {\n    if (A === B) { // равенство по значению(для примитивов), либо по ссылке(для объектов)\n        return {};\n    }\n    if (isPrimitive(A)) {\n        if (isPrimitive(B)) {\n            return B;\n        } else {\n            return raw(B);\n        }\n    } else {\n        if (isPrimitive(B)) {\n            return B;\n        } else {\n            if (typeof A === 'function') { // для функций заменяем всё, возможно стоит добавить другую проверку\n                if (A === B) {\n                    return {};\n                } else if (A.toString() === B.toString()) {\n                    return {};\n                }\n                return raw(B);\n            } else if (Array.isArray(A)) {\n                if (Array.isArray(B)) { // сравнение массивов\n                    const lA = A.length;\n                    const lB = B.length;\n                    const max = lA > lB ? lA : lB;\n                    const min = lA < lB ? lA : lB;\n                    const result = {};\n                    for (let i = 0; i < max; i++) {\n                        if (i < min) { // сравниваем общую часть\n                            const indexDiff = diff(A[i], B[i]); // сравниваем элементы\n                            if (isPrimitive(indexDiff) || indexDiff === D.delete || Object.keys(indexDiff).length > 0 || indexDiff[D.raw]) {\n                                result[String(i)] = indexDiff; // добавляем только отличия\n                            }\n                        } else if (lA < lB) {\n                            result[String(i)] = B[i]; // новые элементы\n                        } else {\n                            result[String(i)] = D.delete; // удаляем лишние\n                        }\n                    }\n                    if (Object.keys(result).length > 0) {\n                        result[D.array] = true;\n                    }\n                    return result;\n                } else { // просто всё затираем\n                    return raw(B);\n                }\n            } else { // обычный объект\n                if (typeof B === 'function' || Array.isArray(B)) { // не обычный объект\n                    return raw(B);\n                } else { // сравнение объектов\n                    const result = {};\n                    for (const key of Object.keys(B)) {\n                        if (!(key in A)) {\n                            result[key] = raw(B[key]); // новые ключи добавляем как есть\n                        }\n                    }\n                    for (const key of Object.keys(A)) {\n                        if (key in B) {\n                            const keyDiff = diff(A[key], B[key]); // сравниваем рекурсивно\n                            if (isPrimitive(keyDiff) || keyDiff === D.delete || Object.keys(keyDiff).length > 0 || keyDiff[D.raw]) {\n                                result[key] = keyDiff; // добавляем только отличия\n                            }\n                        } else {\n                            result[key] = D.delete; // удаляем старые ключи\n                        }\n                    }\n                    return result;\n                }\n            }\n        }\n    }\n}\n\ndiff.symbols = D;\n\n// console.log(diff([1,2,3,6,8], [1,4,3,2]));\n// console.log(diff({a:[1]}, {a:[2]}));\n// console.log(diff({a:1,b:2, c:{}}, {a:2, c: {a:{s:{}}}}));\n// console.log(document.head);\n// console.log(document.body);\n// console.log(diff(document.head, document.body));\n","import {getClone} from './clone.js';\n\nimport {elementSymbol} from './symbols.js';\n\nimport {diff, isPrimitive, raw} from './diff.js';\n\n\n\nconst namespaceKeys = {\n    'http://www.w3.org/1999/xhtml': 0,\n    'http://www.w3.org/2000/svg': 1,\n    'http://www.w3.org/1998/Math/MathML': 2\n}\n\nconst namespaces = {\n    '0': 'http://www.w3.org/1999/xhtml',\n    '1': 'http://www.w3.org/2000/svg',\n    '2': 'http://www.w3.org/1998/Math/MathML'\n}\n\n\nexport function getNode(node) {\n    if (Array.isArray(node)) {\n        const result = [];\n        for (const elem of node) {\n            if (Array.isArray(elem)) {\n                result.push(...getNode(elem));\n            } else {\n                result.push(getNode(elem));\n            }\n        }\n        return result;\n    } else if (typeof node === 'function') {\n        return getNode(node());\n    } else {\n        return node;\n    }\n}\n\nconst strToArray = (strings, ...elements) => {\n    const list = [strings[0]];\n    for (let i = 1; i < strings.length; i++) {\n        list.push(elements[i-1], strings[i]);\n    }\n    return list;\n}\n\nexport const DOM = elementObject => {\n    if (isPrimitive(elementObject)) {\n        return document.createTextNode(elementObject);\n    }\n    const {namespace, tagName, props, children, eventListeners} = elementObject;\n    const element = document.createElementNS(namespaces[String(namespace)], tagName);\n    element[elementSymbol] = {};\n    for (const prop in props) {\n        if (prop.startsWith('_')) {\n            element[elementSymbol][prop] = props[prop];\n        } else {\n            element.setAttribute(prop, String(props[prop]));\n        }\n    }\n    for (const eventName of Object.keys(eventListeners)) {\n        const listener = eventListeners[eventName];\n        element.addEventListener(eventName, listener, false);\n    }\n    if (Object.keys(children).length) {\n        element.append(...Object.values(children).map(e => {\n            const dom = DOM(e);\n            if (!isPrimitive(e)) {\n                e.dom.parent = element;\n            }\n            return dom;\n        }));\n    }\n    elementObject.dom = {ref: element};\n    element[elementSymbol] = elementObject;\n    return element;\n}\n\nexport function patchDOM(dom, diffObject) {\n    const upd = dom.parentNode;\n    if (diffObject === diff.symbols.delete) {\n        if (upd) {\n            delete dom[elementSymbol];\n            dom.remove();\n            return;\n        } else {\n            return undefined;\n        }\n    }\n    if (isPrimitive(diffObject)) {\n\n        if (dom.nodeType === 3) { // текстовый узел\n            if (dom.nodeValue === String(diffObject)) {\n                return undefined; // строки совпали\n            } else {\n                if (upd) {\n                    dom.nodeValue = String(diffObject); // обновляем текст\n                    return;\n                } else {\n                    return document.createTextNode(diffObject);\n                }\n            }\n        } else {\n            if (upd) {\n                dom.replaceWith(document.createTextNode(diffObject));\n                return;\n            } else {\n                return document.createTextNode(diffObject);\n            }\n        }\n    }\n    const {props = {}, children = {}, eventListeners = {}, [diff.symbols.raw]: raw} = diffObject;\n    if (raw) {\n        if (upd) {\n            const newDom = DOM(diffObject);\n            dom.replaceWith(newDom);\n            if (!diffObject[diff.symbols.new].dom) {\n                diffObject[diff.symbols.new].dom = {};\n            }\n            diffObject[diff.symbols.new].dom.ref = newDom;\n\n            return;\n        } else {\n            return DOM(diffObject);\n        }\n    }\n\n    // обновление свойств\n    for (const prop in props) {\n        if (props[prop] === diff.symbols.delete) {\n            if (prop.startsWith('_')) {\n                delete dom[elementSymbol][prop];\n            } else {\n                dom.removeAttribute(prop);\n            }\n        } else {\n            if (prop.startsWith('_')) {\n                dom[elementSymbol][prop] = props[prop];\n            } else {\n                dom.setAttribute(prop, props[prop]);\n            }\n        }\n    }\n\n    // обновление перехватчиков событий\n    for (const eventName of Object.keys(eventListeners)) {\n        const listener = eventListeners[eventName];\n        if (listener === diff.symbols.delete) {\n            dom.removeEventListener(eventName, eventListeners[diff.symbols.meta].deleteListeners[eventName]);\n            delete eventListeners[diff.symbols.meta].deleteListeners[eventName];\n        } else {\n            if (!listener[diff.symbols.raw]) {\n                dom.removeEventListener(eventName, eventListeners[diff.symbols.meta].deleteListeners[eventName]);\n                delete eventListeners[diff.symbols.meta].deleteListeners[eventName];\n            }\n            dom.addEventListener(eventName, listener, false);\n        }\n    }\n\n    // обновление существующих потомков\n    const list = Array.from(dom.childNodes);\n    const updatedChildKeys = {};\n    for (let i = 0; i < list.length; i++) {\n        const child = list[i];\n        const key = (child[elementSymbol] || {})._key || String(i);\n        if (key in children) {\n            if (children[key] === diff.symbols.delete) {\n                dom.removeChild(child);\n            } else {\n                patchDOM(child, children[key]);\n                updatedChildKeys[key] = true;\n            }\n        }\n    }\n\n    // добавление новых потомков\n    const newChildren = [];\n    for (const key in children) {\n        if ((!children[key][diff.symbols.raw] && !isPrimitive(children[key])) || children[key] === diff.symbols.delete) {\n            continue;\n        }\n        if (!(key in updatedChildKeys)) {\n            newChildren.push(DOM(children[key]));\n        }\n    }\n    if (newChildren.length > 0) {\n        dom.append(...newChildren);\n    }\n\n    if (!diffObject[diff.symbols.new].dom) {\n        diffObject[diff.symbols.new].dom = {};\n    }\n    diffObject[diff.symbols.new].dom.ref = dom;\n\n    if (!upd) {\n        return dom;\n    }\n}\n\nconst example = E => E.div.class`example`.id`ex`.style(style)['data-value']`1`(\n    'string',\n    E.span`text`,\n    E.p('str'),\n    E`text v = ${E.span(2)}`,\n    [ // Fragment analog\n        E.div.style`color: red;`,\n        E.div.style`color: red;`('red'),\n        E.div.style`color: red;``red`,\n        E.div.style`color: red;``red ${E.span(1)}`, // red [Function]\n        E.div.style`color: red;`(E`red${E.span(1)}`) // red 1\n    ],\n    ...[1,2,3].map(i => E.i._key(i)(i)),\n    [1,2,3].map(i => E.i._key(i)(i))\n)\n\n\n\nconst elementStructure = T => ({\n    nodeType: T(Number),\n    namespace: T(String),\n    tagName: T(String),\n    props: T`?`({\n        [T(String)]: T(String)\n    }),\n    children: T`?`(Object)(T(elementStructure)),\n    data: T(String)\n});\n\nconst diffStructure = t => ({\n    nodeType: t`?`(Number), // перезаписывает тип узла\n    namespace: t`?`(String), // новое пространство имён\n    tagName: t`?`(String), // новый тег\n    props: t`?`({\n        [t(String)]: [t(String), t(null)] // переписать свойство, добавить, если нет, если null - удалить\n    }),\n    children: t`?`(Object)(t(diffStructure)), // рекурсивно повторить для потомков, лишние удалить, недостающие добавить, в будущем сопоставлять по ключу\n    data: t`?`(String), // поменять текстовый узел\n    delete: t`?`(true) // удалить элемент\n});\n\nconst diffFunctionStructure = t => t(Function)(({params}) =>\n    t({\n        params: {\n            A: t(elementStructure), // старый элемент\n            B: t(elementStructure) // новый элемент\n        }\n    })(t(diffStructure))\n);\n\n/*\nИспользовать хэши от пропсов и потомков\nв случае тектсовых нод - от значений\nможно вычислить уже на этапе создания элемента из кода\nхэш используем в качестве ключа элемента\nрассмотреть случай коллизий\n*/\nlet i = 0;\nexport function diffElements(A, B) {\n    // console.log({A, B});\n    if (!B) {\n        return diff.symbols.delete;\n    }\n    if (isPrimitive(A)) {\n        if (isPrimitive(B)) {\n            if (A !== B) {\n                return raw(B);\n            } else {\n                return {};\n            }\n        } else {\n            return raw(B);\n        }\n    }\n    if (isPrimitive(B)) {\n        return raw(B);\n    }\n    if (A.nodeType !== B.nodeType) {\n        return raw(B);\n    }\n    if (A.namespace !== B.namespace) {\n        return raw(B);\n    }\n    if (A.tagName !== B.tagName) {\n        return raw(B);\n    }\n    if (B.props._forceUpdate) {\n        return raw(B);\n    }\n    if ('_update' in B.props && !B.props._update) {\n        return {};\n    }\n    // console.time('diff props');\n    const diffProps = diff(A.props, B.props);\n    // console.timeEnd('diff props');\n    // console.time('diff events');\n    const diffEventListeners = diff(A.eventListeners, B.eventListeners);\n    for (const eventName of Object.keys(diffEventListeners)) {\n        if (diffEventListeners[eventName] === diff.symbols.delete) {\n            if (!diffEventListeners[diff.symbols.meta]) {\n                diffEventListeners[diff.symbols.meta] = {deleteListeners: {}};\n            }\n            diffEventListeners[diff.symbols.meta].deleteListeners[eventName] = A.eventListeners[eventName];\n        }\n    }\n    // console.timeEnd('diff events');\n    // const kc = 'diff children' + i;\n    // console.time(kc);\n\n    const diffChildren = {};\n    for (const key of Object.keys(B.children)) {\n        if (!(key in A.children)) {\n            diffChildren[key] = raw(B.children[key]); // новые ключи добавляем как есть\n        }\n    }\n    for (const key of Object.keys(A.children)) {\n        if (key in B.children) {\n            i++;\n            const k = 'children diff for key ' + key + i;\n            // console.time(k);\n            const diffItems = diffElements(A.children[key], B.children[key]); // сравниваем рекурсивно\n            if (isPrimitive(diffItems) || diffItems === diff.symbols.delete || Object.keys(diffItems).length > 0) {\n                diffChildren[key] = diffItems; // непустые добавляем\n            }\n            // console.timeEnd(k);\n        } else {\n            diffChildren[key] = diff.symbols.delete; // удаляем старые ключи\n        }\n    }\n    // console.timeEnd(kc);\n    // console.time('diff result');\n\n    const result = {};\n    if (Object.keys(diffProps).length > 0) {\n        result.props = diffProps;\n    }\n    if (Object.keys(diffEventListeners).length > 0) {\n        result.eventListeners = diffEventListeners;\n    }\n    if (Object.keys(diffChildren).length > 0) {\n        result.children = diffChildren;\n    }\n    result[diff.symbols.new] = B;\n    // console.timeEnd('diff result');\n\n    return result;\n}\n\nfunction getProps(attributes) {\n    if (!attributes) {\n        return {};\n    }\n    const attrs = Array.from(attributes);\n    const result = {};\n    for (const {name, value} of attrs) {\n        result[name] = value;\n    }\n    return result;\n}\n\nfunction getChildren(childNodes) {\n    if (!childNodes) {\n        return {};\n    }\n    const children = Array.from(childNodes);\n    const result = {};\n    for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        const key = child.hasAttribute && child.hasAttribute('data-key') ? child.getAttribute('data-key') : String(i);\n        result[key] = getElementFromDOM(child);\n    }\n    return result;\n}\n\nfunction getElementFromDOM(domElement) {\n    return {\n        nodeType: domElement.nodeType,\n        namespace: namespaceKeys[domElement.namespaceURI],\n        tagName: domElement.tagName,\n        props: getProps(domElement.attributes),\n        children: getChildren(domElement.childNodes),\n        data: domElement.data\n    }\n}\n\n// console.log(getElementFromDOM(document.head));\n// console.log(getElementFromDOM(document.body));\n// console.log(diffElements(getElementFromDOM(document.head), getElementFromDOM(document.body)));\n\nconst getElement = namespace => new Proxy(strToArray, {\n    get(target, tag) {\n        const create = (tagName = 'div', props = {}, children = []) => {\n            const element = {\n                namespace: namespaceKeys[namespace],\n                tagName,\n                props: {},\n                children: {},\n                eventListeners: {}\n            };\n            for (const prop in props) {\n                if (prop.length > 2 && prop.startsWith('on') && prop[2] === prop[2].toUpperCase()) {\n                    const eventName = prop[2].toLowerCase() + prop.slice(3);\n                    const listener = props[prop];\n                    if (typeof listener !== 'function') {\n                        console.error(new Error(`${eventName} listener is not function`));\n                        continue;\n                    }\n                    element.eventListeners[eventName] = listener;\n                } else if (props[prop]) {\n                    element.props[prop] = (props[prop]);\n                }\n            }\n            const nodes = [];\n            for (let node of children.filter(e => e)) {\n                node = getNode(node);\n                if (Array.isArray(node)) {\n                    nodes.push(...node.filter(e => e));\n                } else {\n                    nodes.push(node);\n                }\n            }\n            const dublicatedKeys = new Set();\n            for (let i = 0; i < nodes.length; i++) {\n                const node = nodes[i];\n                const key = node.props && node.props._key && String(node.props._key);\n                const index = String(i);\n                if (key && !(key in element.children)) {\n                    element.children[key] = node;\n                } else {\n                    if (key in element.children) {\n                        dublicatedKeys.add(key);\n                    }\n                    element.children[index] = node; // TODO: рекурсивно выбрать уникальное значение\n                }\n            }\n            if (dublicatedKeys.size > 0) {\n                console.error(new Error(`keys ${[...dublicatedKeys]} have been dublicated`));\n            }\n            return element;\n        }\n        function stableElement(name, props) {\n            return new Proxy((...children) => {\n                if (Array.isArray(children[0]) && 'raw' in children[0]) {\n                    return create(name, props, strToArray(...children));\n                }\n                return create(name, props, children);\n            }, {\n                get(target, prop) {\n                    return function (value, ...items) {\n                        if (prop === '_props') {\n                            return stableElement(name, {...props, ...value});\n                        }\n                        if (Array.isArray(value) && 'raw' in value) {\n                            return stableElement(name, {...props, [prop]: strToArray(value, ...items).join('')});\n                        }\n                        return stableElement(name, {...props, [prop]: value});\n                    }\n                },\n                apply(target, thisArg, argArray) {\n                    if (Array.isArray(argArray[0]) && 'raw' in argArray[0]) {\n                        return create(name, props, strToArray(...argArray));\n                    }\n                    return create(name, props, argArray);\n                }\n            })\n        }\n        return stableElement(tag, {})\n    }\n});\n\nexport const E = getElement('http://www.w3.org/1999/xhtml');\nexport const S = getElement('http://www.w3.org/2000/svg');\nexport const M = getElement('http://www.w3.org/1998/Math/MathML');\n\n// console.log(E.div(2));\n// const onHover = () => console.log('hover!');\n// console.log(E.div.id`text`.onclick('alert(2)').onHover(onHover).onClick(() => alert('hi!'))(2, [3,4,[5,6,[7,8, () => 11, {props:{_key: 'a'}, v: 444}]]]));\n// const a = (E.div.class`example`.id`ex`.onHover(onHover).onClick(() => alert('hi!!')).style(`style`)['data-value']`1`(\n//     'string',\n//     E.span`text`,\n//     E.p('str'),\n//     E`text v = ${E.span(2)}`,\n//     [ // Fragment analog\n//         E.div.style`color: red;`,\n//         E.div.style`color: red;`('red'),\n//         E.div.style`color: red;``red`,\n//         E.div.style`color: red;``red ${E.span(1)}`, // red [Function]\n//         E.div.style`color: red;`(E`red${E.span(1)}`) // red 1\n//     ],\n//     ...[1,2,3].map(i => E.i._key(i+'2')(i)),\n//     [1,2,3].map(i => E.i._key(i+'3')(i))\n// ));\n// const b = E.div.onHover(onHover)(55);\n// const c = E.article(\n//     E.span`222${E.span(1+11)}`\n// );\n// console.log({a});\n// console.log({b});\n// console.log(DOM(a));\n// console.log(DOM(b));\n// console.log(diffElements(a, b));\n// const domA = DOM(a);\n// console.log(DOM(a));\n// patchDOM(domA, diffElements(a, b));\n// console.log(domA);\n// const domA2 = DOM(a);\n// const block = DOM(E.div());\n// block.append(domA2);\n// patchDOM(domA2, diffElements(a, b));\n// console.log(diffElements(b, c));\n// patchDOM(domA2, diffElements(b, c));\n// console.log(block);\n// console.dir(block);\n\n\n\n// E.a\n// E['a']\n\n// E[Symbol('a')]\n// E[Symbol('props')]\n// E[Symbol('ref')]\n// // E[E.$`ref`]\n// // E[E.$`props`]\n// // E[E.$({a:1, b:2})]\n// E.$ // внутри []\n\n// E`a` // firstArg.raw - возвратит массив\n\n// E('a'), E([1, 2]), E(1, 2, E.span(1)) // преобразует в DOM\n\n// // резерв\n// E.$a\n// E._\n// E._a\n// E.A\n\n","import {E, DOM} from './element.js';\nconst getDirPath = fileUrl => (new URL(fileUrl)).pathname.split('/').slice(0, -1).join('/');\nexport default function(sourceUrl, relativePath) {\n    const type = relativePath.split('.').slice(-1)[0];\n    if (!['css', 'less'].includes(type)) {\n        throw new Error(`Import file type is ${type}, but 'css' or 'less' types are available only.`);\n    }\n    const pathRelative = /^\\.\\.?\\//.test(relativePath);\n    const sourcePath = getDirPath(sourceUrl).split('/').slice(1).join('/');\n    const fullPath = sourcePath + (pathRelative ? relativePath.replace(/^\\.\\.?/, '') : '/' + relativePath);\n\n    return new Promise(resolve => {\n        const link = DOM(E.link\n            .rel(`stylesheet${type === 'less' ? '/less' : ''}`)\n            .type('text/css')\n            .href(fullPath)());\n        if (type === 'less') {\n            if (!document.head.querySelector('script[src=\"less.js\"]')) {\n                const less = E.script.src('less.js')();\n                document.head.append(DOM(less));\n            }\n            document.head.append(link);\n            function update() {\n                const style = document.head.querySelector(`style[id$=\"${fullPath.split('.')[0].replace(/\\//g, '-')}\"]`);\n                // console.log(1);\n                if (style) {\n                    window.setTimeout(resolve, 100);\n                } else {\n                    window.setTimeout(update, 10);\n                }\n            }\n            update();\n        } else {\n            document.head.append(link);\n            link.addEventListener('load', () => resolve());\n        }\n    });\n}\n","export const getChildren = children => {\n    const nodes = [];\n    for (const node of children) {\n        if (Array.isArray(node)) {\n            nodes.push(...node);\n        } else if ((typeof node) === 'function') {\n            nodes.push(node());\n        } else {\n            nodes.push(node);\n        }\n    }\n    return nodes;\n}\n","const _log = condition => f => {\n    if (condition) {\n        if (typeof f === 'function') {\n            f();\n        } else {\n            console.log(f);\n        }\n    }\n}\nconst loggerSymbol = Symbol('logger');\nexport const logAllLevels = Symbol('all');\nwindow[loggerSymbol] = {};\n\nexport const setLogger = settings => {\n    window[loggerSymbol] = settings;\n};\n\nfunction getCondition(levels) {\n    let current = window[loggerSymbol];\n    for (const level of levels) {\n        if(current && logAllLevels in current) {\n            return true;\n        }\n        if (!(current && level in current)) {\n            return false;\n        }\n        current = current[level];\n    }\n    return true;\n}\n\nfunction createLogProxy(levels) {\n    return new Proxy(f => _log(getCondition(levels))(f), {\n        get: (target, level) => createLogProxy([...levels, level])\n    });\n}\n\nexport const log = createLogProxy([]);\n\n","import {E, DOM, getNode, diffElements, patchDOM} from './element.js';\nimport {getClone} from './clone.js';\nimport {\n    getChildren\n} from './children.js';\nimport style from './style.js';\nimport {log} from './logger.js';\nimport {elementSymbol, componentSymbol} from './symbols.js';\n\nconst set = state => arg => {\n    let newObject;\n    if (typeof arg === 'object') {\n        newObject = arg;\n    } else if (typeof arg === 'function') {\n        newObject = arg(state);\n    }\n    return Object.assign({}, state, newObject);\n}\n\nfunction getProps(element) {\n    if (element.nodeType === 3) { // textNode\n        return {};\n    }\n    const props = {};\n    for (let i = 0; i < element.attributes.length; i++) {\n        const attr = element.attributes[i];\n        props[attr.name] = attr.value;\n    }\n    return props;\n}\n\nfunction logAdd(element) {\n    console.log('%c + ', style({\n        color: 'green',\n        backgroundColor: '#dfd'\n    }), element);\n}\n\nfunction logRemove(element) {\n    console.log('%c - ', style({\n        color: 'red',\n        backgroundColor: '#fdd'\n    }), element);\n}\n\nfunction getElem(component) {\n    if (Array.isArray(component)) {\n        const fragment = document.createDocumentFragment();\n        fragment.append(...component.map(e => getElem(e)));\n        return fragment;\n    }\n    return (typeof component === 'function') ? component() : component;\n}\n\nfunction isTypeChanged(element, newElement) {\n    if (element && !newElement) {\n        return true;\n    }\n    if (element.nodeType !== newElement.nodeType) {\n        return true;\n    }\n    if (element.nodeName !== newElement.nodeName) {\n        return true;\n    }\n    return false;\n}\n\nfunction componentConstructor(componentName) {\n    const handlerErrors = new Proxy({}, {\n        get(target, name) {\n            if (!(name in target)) {\n                target[name] = {};\n            }\n            return target[name];\n        }\n    })\n\n    return function (makeComponent) {\n        const create = (props = {}, children = []) => {\n            // уникальный идентификатор для созданного элемента\n            const componentNameSymbol = Symbol(componentName);\n\n            function didMountEvent(element, source) {\n                // console.group(`didMount[${source}]`);\n                // console.log(element);\n                // console.groupEnd();\n                window.dispatchEvent(new CustomEvent('didMount', {\n                    detail: {\n                        componentNameSymbol: element[componentSymbol].componentNameSymbol\n                    }\n                }));\n            }\n\n            function willUnmountEvent(element, source) {\n                // console.group(`willUnmount[${source}]`);\n                // console.log(element);\n                // console.groupEnd();\n                window.dispatchEvent(new CustomEvent('willUnmount', {\n                    detail: {\n                        componentNameSymbol: element[componentSymbol].componentNameSymbol\n                    }\n                }));\n            }\n\n            // состояние компонента\n            let state = {};\n\n            // предыдущее состояние\n            let prevState = {};\n\n            // элемент DOM, который будет возвращён\n            // TODO: инлайн компоненты, вложенные в одном узле, у списка это родитель\n            // структура цепочки компонентов в элементе\n            // [компонент, который возвращает массив] > [аналогично, только вложенный] > возвращает компонент > который возвращает этот элемент\n\n            let element = {};\n\n            // вызванные обработчики\n            let handlerIndex = 0;\n            const handlers = new Proxy({}, {\n                get(target, name) {\n                    if (!(name in target)) {\n                        target[name] = {\n                            count: 0,\n                            indexes: [],\n                        };\n                        target[name].bump = () => {\n                            handlerIndex++;\n                            target[name].count++;\n                            target[name].indexes.push(handlerIndex);\n                        }\n                    }\n                    return target[name];\n                }\n            });\n            // TODO: отслеживать вызовы и гарантировать порядок\n\n            function initState(startState) {\n                if (handlers.initState.count !== 0) {\n                    if (!handlerErrors.initState.count) {\n                        handlerErrors.initState.count = 1;\n                        console.error(new Error('Повторный вызов инициализации состояния'));\n                    }\n                }\n                handlers.initState.bump();\n                state = startState;\n            }\n\n            let changedStateFields = {};\n\n            function setState(newState, callback) {\n                prevState = state;\n                const newStateObject = typeof newState === 'function' ? newState(state) : newState;\n                const change = {};\n                for (const field of Object.keys(newStateObject)) {\n                    change[field] = true;\n                }\n                changedStateFields = change;\n                // console.log({changedStateFields});\n                state = set(state)(newState);\n                rerender();\n                if (callback) {\n                    callback();\n                }\n            }\n\n            const changeState = (...names) => {\n                for (const name of names) {\n                    if (changedStateFields[name]) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n\n            const stateClass = () => state;\n            stateClass.set = setState;\n            stateClass.init = initState;\n            stateClass.onChange = changeState; // позволит писать _update(state.onChange('name', 'age'))\n            // в перспективе что-то вроде _related(['name', 'age'])\n            // идея - писать в метаинформации объектов state данные о своём state - имя, компонент и т.д.\n            // тогда при обновлении мы посмотрим, и если поля из state.set не имеют отношения к полям, от котрых зависит обновление, то элемент не обновляется\n            // более общий вопрос, как отследить зависимость от некоторого значения из состояния?\n\n            // можно связать свойство элемента со значением свойства, если передавать не само значение, а функцию, что передаёт значение. То есть не Person.age(state.age+1) а Person.age(() => state.age+1). До вызова функции мы посмотрим мету у элемента, а при вызове у значения. Но так будет не так удобно писать, поэтому это может сделать препроцессор? нежелательно!!! к тожу же если передавать просто функцию, профит исчезнет. Не пойдёт!\n            // в общем случае задача почти неразрешима\n            // можно проксировать хоть насквозь, но передай в другую функцию и ничего не выйдет\n            // опять же можно немного подхачить и использовать препроцессор для отслеживания явного применения, он должен быть достаточно умным, чтобы отслеживать зависимости применения переменных;\n            // но можно сделать зависимость от ввода или слуйность и препроцессор такое не поймает\n\n            element[componentNameSymbol] = true;\n\n            const didMount = callback => {\n                function onDidMount(event) {\n                    // console.log('DIDMOUNT', event);\n                    if (event.detail.componentNameSymbol === componentNameSymbol) {\n                        log.component(() => {\n                            // console.group('didMount -- event!!!');\n                            // console.log(element[componentSymbol].element);\n                            // console.log(componentName);\n                            // console.log(event);\n                            // console.log(callback);\n                            // console.groupEnd();\n                        });\n                        callback();\n                        // window.removeEventListener(didMountListener);\n                    }\n                }\n\n                handlers.didMount.bump();\n                const didMountListener = window.addEventListener('didMount', onDidMount, false);\n                // element[elementSymbol].props.onDidMount = onDidMount;\n                // element[elementSymbol].eventListeners.didMount = [onDidMount];\n            }\n\n            let firstAppend = true;\n\n            const storage = {};\n            const elements = [];\n\n            const mo = new MutationObserver(function (mutations, observer) {\n                // console.info('Observer');\n                // console.log({mutations, observer});\n                // console.log('didMount', firstAppend, componentName, element);\n                // console.log(handlers);\n                if (element.dom && element.dom.ref.closest('html')) {\n                    // element = false;\n                    // const componentDOMSymbol = Symbol('componentDOMSymbol');\n                    // if(!storage[componentDOMSymbol]) { // первый рендер\n                    //     storage[componentDOMSymbol] = {first: true};\n                    elements[Object.keys(elements).length] = {\n                        first: true,\n                        element: element.innerHTML\n                    };\n                    // console.log(elements);\n                    // }\n                    // if (storage[componentDOMSymbol].first) {\n                    // console.log('есть', element);\n                    // console.log({storage});\n                    // storage[componentDOMSymbol].first = false;\n                    if (firstAppend) {\n                        window.dispatchEvent(new CustomEvent('didMount', {\n                            detail: {\n                                componentNameSymbol: componentNameSymbol\n                            }\n                        }));\n                        firstAppend = false;\n                        mo.disconnect();\n                    }\n                    // }\n                } else {\n                    // console.log('нет', element);\n                    firstAppend = true;\n                    mo.disconnect();\n                }\n            });\n            mo.observe(document, {\n                attributes: true,\n                childList: true,\n                subtree: true\n            });\n\n\n            props.children = children;\n            const render = makeComponent({\n                props,\n                state: stateClass,\n                hooks: {\n                    didMount\n                }\n            });\n\n            function rerender() {\n                // console.time('get node');\n                const newElement = getNode(render());\n                // console.timeEnd('get node');\n                const dom = element.dom;\n                const componentData = element.component;\n                // console.time('diff');\n                const diffElement = diffElements(element, newElement);\n                // console.log({diffElement});\n                // console.timeEnd('diff');\n\n                // новые элементы создаются без привязки к странице\n\n                element = newElement;\n                // BUG: не сохраняется новый вид элемента\n                element.component = componentData;\n                // console.log('update:', componentName, {element, dom});\n\n                if (dom) { // есть dom\n                    // получить их diff, TODO: учитывая static\n                    // console.log({dom, diffElement});\n                    element.dom = dom;\n                    // надо перепривязать к dom всех потомков\n                    // console.time('patch DOM');\n                    patchDOM(dom.ref, diffElement);\n                    // console.timeEnd('patch DOM');\n                }\n            }\n\n            element = getNode(render()); // первый рендер\n\n            if (Array.isArray(element)) {\n                for (const item of element) {\n                    setComponentData(item, {array: true})\n                }\n            } else {\n                setComponentData(element);\n            }\n\n            function setComponentData(element, {array = false} = {}) {\n                if (!element.component) {\n                    element.component = {level: 0};\n                }\n                const level = element.component.level;\n                element.component[String(level)] = {\n                    array,\n                    name: componentName,\n                    props,\n                    state\n                }\n                element.component.level++;\n            }\n\n            // первое присоединение dom\n            // if (!element.dom) {\n                // element.dom = {};\n            // }\n            // const dom = DOM(element);\n            // element.dom.ref = dom;\n            // if (element.dom.parent) {\n            //     element.dom.parent.append(dom);\n            // }\n\n            // console.log('render:', componentName, {element});\n            return () => element;\n        }\n\n        function stableElement(props) {\n            return new Proxy((...children) => create({}, children), {\n                get(target, prop) {\n                    return function (value) {\n                        // console.log(`added prop ${prop} = ${value}`)\n                        return stableElement({\n                            ...props,\n                            [prop]: value\n                        });\n                    }\n                },\n                apply(target, thisArg, argArray) {\n                    return create(props, argArray);\n                }\n            })\n        }\n        return stableElement({});\n    };\n}\n\nconst Component = new Proxy({}, {\n    get: function (target, componentName) {\n        return componentConstructor(componentName)\n    }\n});\n\nexport default Component;\n","import {\n    E,\n    Component,\n    Custom\n} from './index.js';\n\n\nconst historyUpdate = new CustomEvent('historyUpdate');\n\nfunction pushState(data, title, url) {\n    history.pushState(data, title, url);\n    window.dispatchEvent(historyUpdate);\n}\n\nfunction replaceState(data, title, url) {\n    history.replaceState(data, title, url);\n    window.dispatchEvent(historyUpdate);\n}\n\nwindow.addEventListener('popstate', () => window.dispatchEvent(historyUpdate));\n\nexport const getRouterState = (routes) => {\n    if (!document.location.search) {\n        return {params: {}, path: '/', routes: routes('')}\n    }\n    const params = new URLSearchParams(document.location.search);\n    const stack = [];\n    for (const [param] of params) {\n        if (param[0] === '/') {\n            stack.push(...param.slice(1).split('/'));\n        }\n    }\n    let resultParams = {};\n    let resultPath = null;\n    for (const path in routes({})) {\n        const pathStack = path.split('/');\n        const params = {};\n        let equal = true;\n        for (let i = 0; i < pathStack.length; i++) {\n            if (i === stack.length) {\n                equal = false;\n                break;\n            }\n            const level = pathStack[i];\n            if (level[0] === ':') {\n                params[level.slice(1)] = stack[i];\n            } else if (level !== stack[i]) {\n                equal = false;\n                break;\n            }\n        }\n        if (equal) {\n            resultParams = params;\n            resultPath = path;\n        }\n    }\n    return {params: resultParams, path: resultPath, routes: routes(resultParams)};\n}\n\nexport const RouteLink = Component.RouteLink(({props: {href, children}}) => {\n    return () => {\n        const onLinkClick = (event) => {\n            event.preventDefault();\n            if (href === '/') {\n                pushState({stack: []}, '', '/');\n                return;\n            }\n            if (((window.history.state || {}).stack || []).join('/') === href) {\n                return;\n            }\n            pushState({\n                stack: href.split('/')\n            }, '', '?/' + href);\n        };\n        return E.a.href(href).onClick(onLinkClick)(children);\n    };\n})\n\n\nexport const Switch = Component.Switch(({props, state}) => {\n    state.init(getRouterState(props.routes));\n    window.addEventListener('historyUpdate', function () {\n        state.set(getRouterState(props.routes));\n    });\n    return () => {\n        const {path, routes} = state();\n        return routes[path];\n    }\n});\n","import {E, Component} from './index.js';\n\nlet count  = 0;\nfunction getCustom(name, elements, didMount) {\n    class CustomElement extends HTMLElement {\n        constructor() {\n            super();\n\n            const shadow = this.attachShadow({mode: 'open'});\n            shadow.append(E.slot.name('element-slot')())\n        }\n\n        connectedCallback() {\n            didMount(elements)\n        }\n    }\n    count++;\n    const customName = `custom-${name}-${count}`;\n    customElements.define(customName, CustomElement);\n    return E[customName](\n        E.div.slot('element-slot')(\n            elements\n        )\n    );\n}\n\nexport default Component.Custom(() => {\n    return ({name, children, didMount}) => {\n        return getCustom(name, children, didMount);\n    }\n});\n","export const css = new Proxy({}, {\n    get: (target, name) => text => [`%c${text}%c`, name, '']\n});\n\nexport const color = new Proxy({}, {\n    get: (target, name) => text => css[`color:${name}`](text)\n});\n\n\nexport function consoleStyle(textList, ...args) {\n    const styles = [];\n    const text = [];\n    for (let i = 0; i < textList.length - 1; i++) {\n        const s = textList[i];\n        const v = args[i][0];\n        text.push(s, v);\n        const local = args[i][1];\n        styles.push(...(Array.isArray(local) ? local : [local, args[i][2]]));\n    }\n    text.push(textList[textList.length - 1]);\n    return [text.join(''), styles];\n}\n\nexport const mix = new Proxy({}, {\n    get: (target, name) => styles => styles.map(e => `${e};${name}`)\n});\n\nconst background = color => e => mix[`background-color:${color}`](e);\n\n\nconst _key = text => color['#a53bbb'](text);\nconst _func = text => color['#35a0ed'](text);\nconst _var = text => color['#de4d57'](text);\nconst _const = text => color['#e0994a'](text);\nconst _op = text => color['#4ba6b1'](text);\nconst S = {\n    key: _key,\n    func: _func\n}\n\nconst [text, styles] = consoleStyle`\n${S.key`export`} ${S.key`function`} ${S.func`consoleStyle`}(${_var('textList')}, ...${_var('args')}) {\n    ${_key('const')} ${_var('styles')} ${_op('=')} [];\n    ${_key('const')} ${_var('text')} ${_op('=')} [];\n    ${_key('for')} (${_key('let')} ${_var('i')} ${_op('=')} ${_const('0')}; ${_var('i')} ${_op('<')} ${_var('textList')}.${_var('length')} ${_op('-')} ${_const('1')}; ${_var('i')}${_op('++')}) {\n        ${_key('const')} ${_var('s')} ${_op('=')} ${_var('textList')}[${_var('i')}];\n        ${_key('const')} ${_var('v')} ${_op('=')} ${_var('args')}[${_var('i')}][${_const('0')}];\n        ${_var('text')}.${_op('push')}(${_var('s')}, ${_var('v')});\n        ${_var('styles')}.${_op('push')}(${_var('args')}[${_var('i')}][${_const('1')}], ${_var('args')}[${_var('i')}][${_const('2')}]);\n    }\n    ${_var('text')}.${_op('push')}(${_var('textList')}[${_var('textList')}.${_var('length')} ${_op('-')} ${_const('1')}]);\n    ${_key('return')} [${_var('text')}.${_op('join')}(${_var(`''`)}), ${_var('styles')}];\n}\n`;\n// console.log(text, ...styles);\n\nexport const _b = text => css['font-weight: bold'](text);\nexport const _i = text => css['font-style: italic'](text);\nexport const _pre = text => css['font-family: monospace'](text);\nexport const _h = l => text => css[`font-size: ${21 - l}px`](text);\n\nconst [text1, styles1] = consoleStyle`${_h(1)('Документация')}\nsee http://127.0.0.1:5500/?/blog/1\n${_b('bold')} and ${_i('italic')} and ${_pre('pre')}\n`;\n// console.log(text1, ...styles1);\n\n","export function Class(createClass) {\n    const fields = {};\n    const field = new Proxy({}, {\n        get(target, prop) {\n            return getter => {\n                fields[prop] = getter;\n            }\n        }\n    });\n    return initialValues => {\n        const constructor = create => create(initialValues);\n        createClass({field, constructor});\n        return new Proxy({}, {\n            get(target, prop) {\n                return prop in fields ? fields[prop]() : undefined;\n            }\n        })\n    }\n}\n\n// const Count = Class(({constructor, field}) => {\n//     let a = 0; // private field\n//     constructor(x => {\n//         a = x;\n//     });\n//     field.a(() => a); // public field\n//     const add = () => a++; // private method\n//     field.add(() => add); // public method\n// });\n\n// const counter1 = Count(1);\n// console.log(counter1.a); // 1\n// counter1.add();\n// counter1.add();\n// console.log(counter1.a); // 3\n\n// class PrefixTree {\n//     constructor(...values) {\n//         this.tree = [[]];\n//         for (const [name, value] of values) {\n//             this.set(name, value);\n//         }\n//     }\n\n//     getTree() {\n//         return this.tree;\n//     }\n\n//     set(name, value) {\n//         name = String(name);\n//         let current = this.tree;\n//         if (name === '') {\n//             current[1] = value;\n//             return;\n//         }\n//         const list = name.split('');\n//         for (let i = 0; i < list.length; i++) {\n//             const char = list[i];\n//             if (i === list.length - 1) {\n//                 current[1] = value;\n//             } else {\n//                 let exist = false;\n//                 const l = current[0].length;\n//                 for (let j = 0; j < l; j++) {\n//                     const [c, sub] = current[0][j];\n//                     if (c === char) {\n//                         current = sub;\n//                         exist = true;\n//                         break;\n//                     }\n//                 }\n//                 if (!exist) {\n//                     current[0][l] = [char, [[]]];\n//                     current = current[0][l][1];\n//                 }\n//             }\n//         }\n//     }\n\n//     get(name) {\n//         let current = this.tree;\n//         const list = name.split('');\n//         for (let i = 0; i < list.length; i++) {\n//             const char = list[i];\n//             for (let j = 0; j < current[0].length; j++) {\n//                 const [c, sub] = current[0][j];\n//                 if (c === char) {\n//                     current = sub;\n//                     break;\n//                 }\n//                 if (j === current[0].length - 1) {\n//                     return undefined;\n//                 }\n//             }\n//         }\n//         return current[1];\n//     }\n// }\n\n// const tree = new PrefixTree();\n// const obj = {};\n// const map = new Map();\n\n// console.time('Prefix Tree');\n// for (let j = 0; j < 17; j++) {\n\n//     for (let i = 0; i < 10000; i++) {\n//         tree.set(String(Math.random()).slice(2, j), Math.random());\n//     }\n// }\n// console.timeEnd('Prefix Tree');\n\n// console.time('Native object');\n// for (let j = 0; j < 17; j++) {\n//     for (let i = 0; i < 10000; i++) {\n//         obj[String(Math.random()).slice(2, j)] = Math.random();\n//     }\n// }\n// console.timeEnd('Native object');\n\n// console.time('Native Map');\n// for (let j = 0; j < 17; j++) {\n//     for (let i = 0; i < 10000; i++) {\n//         map.set(String(Math.random()).slice(2, j), Math.random());\n//     }\n// }\n// console.timeEnd('Native Map');\n\n\n// console.log(tree.getTree());\n// console.log(obj);\n\nconst o = {a: 1};\n\nfunction e(object) {}\n\ne(o);\n","export {default as block} from './bem.js';\nexport {default as style} from './style.js';\nexport {default as css} from './css.js';\nexport {E, S, M} from './element.js';\nexport {default as Component} from './component.js';\nexport {Switch, RouteLink, getRouterState} from './router.js';\nexport {default as Custom} from './custom.js';\nexport {log, setLogger, logAllLevels} from './logger.js';\nexport {consoleStyle} from './consoleStyle.js';\nexport {Class} from './class.js';\nexport {diff} from './diff.js';\n","import {\n    E,\n    M,\n    Component,\n    RouteLink,\n    css,\n    block,\n    style\n} from '../../utils/index.js';\n\nimport './Breadcrumbs.less';\n\nconst b = block('breadcrumbs');\n\nconst Breadcrumbs = Component.Breadcrumbs(({props}) => {\n    return () => E.div.class(b())(\n        props.items\n        .map(([name, href], i) => {\n            const last = i === props.items.length - 1;\n            return E.span(\n                E.div.style('display: inline-block')(\n                    last ? name : RouteLink.href(href)(name)\n                ),\n                last ? '' : ' / '\n            );\n        })\n    );\n});\n\nexport default Breadcrumbs;\n","export default {\n    0: {\n        type: 'js',\n        creationTime: '2020-01-15T17:31:44',\n        title: 'Я создал этот сайт',\n        tags: ['web', 'site']\n    },\n    1: {\n        type: 'html',\n        creationTime: '2020-03-09T14:09:41',\n        title: 'Создаём приложение на Filemaker',\n        tags: ['filemaker', 'tutorial']\n    },\n    2: {\n        type: 'js',\n        creationTime: '2020-03-28T22:01:49',\n        title: 'Отказ от нативных es6 модулей в пользу Parcel',\n        tags: ['es6', 'parcel']\n    },\n    3: {\n        type: 'js',\n        creationTime: '2020-04-04T19:38:53',\n        title: 'Переписал движок сайта на virtual DOM',\n        tags: ['js', 'virtual dom']\n    },\n    4: {\n        type: 'js',\n        creationTime: '2020-04-11T09:52:02',\n        title: 'Стандартная модель элементарных частиц — верстаем с CSS Grid',\n        tags: ['css', 'grid', 'physics', 'standard model']\n    },\n    5: {\n        type: 'js',\n        creationTime: '2020-04-20T02:13:59',\n        title: 'Добавляем светлую тему с CSS переменными',\n        tags: ['css', 'css variables']\n    },\n    6: {\n        type: 'js',\n        creationTime: '2020-05-09T04:09:09',\n        title: 'Игра «Жизнь» и клеточные автоматы в браузере',\n        tags: ['js', 'game of life', 'cellular automaton']\n    }\n}\n","import {\n    E,\n    M,\n    Component,\n    block\n} from '../../utils/index.js';\n\nimport './Button.less';\n\nconst b = block('button');\n\nconst Button = Component.Button(({props: {children, size, onClick, class: c, disabled}}) => {\n    return () => E.button.disabled(disabled).onClick(onClick || (() => {})).class(b() + (c ? ` ${c}` : ''))(\n        children\n    )\n})\n\nexport default Button;\n","import {\n    E,\n    M,\n    Component,\n    block\n} from '../../utils/index.js';\n\nimport './Checkbox.less';\n\nconst b = block('checkbox');\n\nconst Checkbox = Component.Checkbox(({props}) => {\n    return () => E.label.class(b())(\n        E.input.type`checkbox`.class(b('input'))._props(props),\n        E.div.class(b('box'))(\n            E.div(\n                '✓'\n            )\n        ),\n        props.children\n    )\n})\n\nexport default Checkbox;\n","import {\n    E,\n    M,\n    Component,\n    block\n} from '../../utils/index.js';\n\nimport './Select.less';\n\nconst b = block('select');\n\nconst Select = Component.Select(({props}) => {\n\n    const heap = Symbol('heap');\n\n    function getPreparedValues() {\n        const groups = {[heap]: []};\n        for (const option of props.values) {\n            if (option.group) {\n                if (!groups[option.group]) {\n                    groups[option.group] = [];\n                }\n                groups[option.group].push(option)\n            } else {\n                groups[heap].push(option);\n            }\n        }\n        return groups;\n    }\n\n    return () => {\n        const groups = getPreparedValues(props.values);\n        return E.div.class(b())(\n            E.select.class(b('native')).onChange(props.onChange)(\n                Object.keys(groups).map(name => {\n                    const options = groups[name];\n                    return E.optgroup.label(name)(\n                        options.map(e => E.option.value(e.value).selected(e.selected)(e.title))\n                    )\n                }),\n                groups[heap].map((e) => {\n                    return E.option.value(e.value).selected(e.selected)(e.title)\n                })\n            ),\n            E.div.class(b('expand'))('▾')\n        );\n    }\n})\n\nexport default Select;\n","export {default as Button} from './Button/Button.js';\nexport {default as Checkbox} from './Checkbox/Checkbox.js';\nexport {default as Select} from './Select/Select.js';\n","import {E} from './element.js';\nimport { consoleStyle, _b, _i, _pre, _h } from './consoleStyle.js';\nimport {Component} from './index.js';\n\nexport function createBook(f) {\n    return {\n        to: type => {\n            const types = {\n                html: () => ({\n                    V: (strings, ...elements) => {\n                        const stringElements = strings.map(s => {\n                            const result = [];\n                            const brs = s.match(/\\n\\n+/g);\n                            if (!brs) {\n                                return s;\n                            }\n                            let tail = s;\n                            let i;\n                            for (const br of brs) {\n                                i = tail.indexOf(br);\n                                const subbrs = [];\n                                if (br.length === 2) {\n                                    subbrs.push(E.br())\n                                } else {\n                                    for (let j = 0; j < 2 * br.length - 4; j++) {\n                                        subbrs.push(E.br());\n                                    }\n                                }\n                                result.push(tail.slice(0, i), ...subbrs);\n                                tail = tail.slice(i + br.length);\n                            }\n                            result.push(tail);\n\n                            return result;\n                        })\n                        const list = [...stringElements[0]];\n                        for (let i = 1; i < strings.length; i++) {\n                            list.push(elements[i-1], ...stringElements[i]);\n                        }\n                        return list;\n                    },\n                    b: t => E.b(t),\n                    i: t => E.i(t),\n                    code: t => E.code(t),\n                    pre: t => E.pre(t),\n                    h: l => t => E[`h${l}`](t),\n                    n: E.br,\n                    p: t => E.p(t),\n                    img: (src, alt) => E.img.src(src).alt(alt),\n                    a: href => text => E.a.href(href)(text),\n                    external: f => f(E, Component)\n                }),\n                markdown: () => ({\n                    V: (strings, ...elements) => {\n                        const list = [strings[0]];\n                        for (let i = 1; i < strings.length; i++) {\n                            list.push(elements[i-1], strings[i]);\n                        }\n                        return list.join('');\n                    },\n                    b: t => `**${t}**`,\n                    i: t => `_${t}_`,\n                    code: t => `\\`${t}\\``,\n                    h: l => t => `${'#'.repeat(l)} ${t}`,\n                    n: '  \\n',\n                    p: t => `\\n\\n${t}\\n\\n`,\n                    img: (src, alt) => `![${alt || ''}](${src})`,\n                    a: href => text => `[${text || ''}](${href})`\n                }),\n                browserConsole: () => ({\n                    V: consoleStyle,\n                    b: _b,\n                    i: _i,\n                    code: _pre,\n                    h: _h,\n                    n: '\\n',\n                    p: t => t,\n                    img: (src, alt) => [`IMG[${src || ''}]: ${alt || ''}`, []],\n                    a: href => text => [`${href} (${text})`, []]\n                })\n            };\n            if (type && type in types) {\n                return f(types[type]());\n            } else {\n                throw new Error(`Invalid type. Available types: ${Object.keys(types).join()}`);\n            }\n        }\n    }\n}\n\n// const bookTemplate = createBook(({b, i, h, code, n, p, img, a, V}) =>\n// V`\n// ${h(1)('Header')}\n// ${p(V`\n// ${b('жирный')} текст ${n}\n// ${i('курсивный')} текст\n// ${img('../assets/images/favicon/favicon-32x32.png', 'favicon')}\n// `)}\n// блок ${code('программного кода')} ${n}\n// ${a('https://github.com')('Гитхаб')} - ссылка\n// `);\n\n// export const book = bookTemplate.to('html');\n\n// console.log(bookTemplate.to('markdown'));\n\n// const [text, styles] = bookTemplate.to('browserConsole');\n// console.log(text, ...styles);\n\n","import {\n    E,\n    M,\n    Component,\n    RouteLink,\n    css,\n    block,\n    style\n} from '../../utils/index.js';\n\nimport blog from '../../data/blog/index.js';\nimport {Button} from '../../blocks/index.js';\nimport {Breadcrumbs} from '../index.js';\nimport {createBook} from '../../utils/book.js';\n\nimport './Post.less';\n\nconst b = block('post');\n\nconst Post = Component.Post(({props, state, hooks: {didMount}}) => {\n    state.init({\n        text: null\n    })\n    didMount(() => {\n        const {id} = props;\n        const {type} = blog[id];\n        const path = `../data/blog/data/${id}/index.${type}?r=${window.appVersion}`;\n        if (type === 'html') {\n            fetch(path).then(e => {\n                // console.log(e.clone().blob());\n                return e.blob()\n            }).then(data => {\n                return 'html' || data.text();\n\n            }).then(text => {\n                // console.log(text);\n                state.set({text: text});\n            });\n        } else if (type === 'js') {\n            import(path).then(data => {\n                // console.log(data);\n                state.set({text: createBook(data.default).to('html')})\n            }).catch(e => {\n                console.error(e);\n                state.set({text: 'Ошибка загрузки контента'});\n            });\n        }\n    })\n\n    return () => {\n        const {id} = props;\n        const {type} = blog[id];\n        const {text} = state();\n        const {title, creationTime} = blog[id];\n        const template = E.div.class(b('content'));\n        let elem;\n        if (type === 'html') {\n            const iframe = E.iframe.id(`iframe-post-${id}`).src(`/data/blog/data/${id}/index.${type}`).style('width: 100%; border:none; object-fit: fill; height: 100vh;')\n            setTimeout(() => {\n                const iframeElem = document.getElementById(`iframe-post-${id}`);\n                iframeElem.style.height = (iframeElem.contentWindow.document.body.clientHeight + 100) + 'px';\n            }, 300)\n            elem = template(iframe);\n        } else if (type === 'js') {\n            elem = template(text);\n        } else {\n            elem = 'Ошибка несоответствия типа контента'\n        }\n        return E.div.class(b())(\n            Breadcrumbs.items([['Блог', 'blog'], [title, `blog/${id}`]]),\n            E.h2(title),\n            E.em((new Date(creationTime)).toLocaleString('ru', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric',\n                timezone: 'UTC',\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric'\n            })),\n            E.div(elem)\n        );\n    }\n});\n\nexport default Post;\n","import {\n    E,\n    M,\n    Component,\n    RouteLink,\n    css,\n    block,\n    style\n} from '../../utils/index.js';\n\nimport blog from '../../data/blog/index.js';\nimport {Button} from '../../blocks/index.js';\n\nimport './Blog.less';\n\nconst b = block('blog');\n\nconst Blog = Component.Blog(() => {\n    const total = Object.keys(blog).length;\n    // console.log(`total ${total}`);\n\n    return () => E.div.class(b())(\n        Object.keys(blog).sort((keyA, keyB) => {\n            const getMs = key => Number(new Date(blog[key].creationTime));\n            return getMs(keyB) - getMs(keyA);\n        })\n        .map(key => {\n            const {type, creationTime, title, tags} = blog[key];\n            return E.div.class(b('post-card'))(\n                E.h3.class(b('title'))(\n                    title,\n                    E.div.class(b('read-button'))(\n                        RouteLink.href(`blog/${key}`)(\n                            Button('Читать')\n                        )\n                    )\n                ),\n                E.p(\n                    E.span.class(b('time'))(\n                        (new Date(creationTime)).toLocaleString('ru', {\n                            year: 'numeric',\n                            month: 'long',\n                            day: 'numeric',\n                            timezone: 'UTC',\n                            hour: 'numeric',\n                            minute: 'numeric',\n                            second: 'numeric'\n                        })\n                    )\n                ),\n                E.p(\n                    tags.map(tag => E.div.class(b('tag'))(tag))\n                )\n            )\n        })\n    );\n});\n\nexport default Blog;\n","import {\n    block,\n    E,\n    style,\n    Component,\n    RouteLink\n} from '../../utils/index.js';\nimport {\n    Button\n} from '../../blocks/index.js';\n\nimport './Physics.less';\n\nconst b = block('physics');\n\nconst Physics = Component.Physics(() => {\n    return () => {\n        return E.div.class(b())(\n            E.h2('Физика'),\n            RouteLink.href('physics/standard-model')(\n                Button(\n                    E.div.style(style({padding: '16px 64px'}))(\n                        'Стандартная модель',\n                        E.br,\n                        E.span.style`font-size: 4em; font-family: serif;`('e', E.sup('–'), ', γ, H')\n                    )\n                )\n            )\n        );\n    }\n});\n\nexport default Physics;\n","import {\n    block,\n    E,\n    style,\n    Component,\n    RouteLink,\n    css\n} from '../../utils/index.js';\n\nimport {Breadcrumbs} from '../index.js';\n\nimport './StandardModel.less';\n\nconst b = block('standard-model');\n\nconst particles = [\n    {\n        name: 'электронное антинейтрино',\n        symbol: E.span(E.span.style`text-decoration: overline`('ν'), E.sub('e')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<1.0 eV/c', E.sup('2'))\n    },\n    {\n        name: 'мюонное антинейтрино',\n        symbol: E.span(E.span.style`text-decoration: overline`('ν'), E.sub('μ')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<0.17 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'тау антинейтрино',\n        symbol: E.span(E.span.style`text-decoration: overline`('ν'), E.sub('τ')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<18.2 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'электронное нейтрино',\n        symbol: E.span('ν', E.sub('e')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<1.0 eV/c', E.sup('2'))\n    },\n    {\n        name: 'мюонное нейтрино',\n        symbol: E.span('ν', E.sub('μ')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<0.17 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'тау нейтрино',\n        symbol: E.span('ν', E.sub('τ')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<18.2 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'W бозон',\n        symbol: E.span('W'),\n        charge: '±1',\n        spin: '1',\n        mass: E.span('≃80.39 GeV/c', E.sup('2')),\n        group: 'SU(2)',\n        interaction: 'weak'\n    },\n    {\n        name: 'Z бозон',\n        symbol: E.span('Z'),\n        charge: '0',\n        spin: '1',\n        mass: E.span('≃91.19 GeV/c', E.sup('2')),\n        group: 'SU(2)',\n        interaction: 'weak'\n    },\n    {\n        name: 'бозон Хиггса',\n        symbol: E.span('H'),\n        charge: '0',\n        spin: '0',\n        mass: E.span('≃124.97 GeV/c', E.sup('2')),\n        interaction: 'mass'\n    },\n    {\n        name: 'позитрон',\n        symbol: E.span('e', E.sup('+')),\n        charge: '+1',\n        spin: '1/2',\n        mass: E.span('≃0.511 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'антимюон',\n        symbol: E.span('μ', E.sup('+')),\n        charge: '+1',\n        spin: '1/2',\n        mass: E.span('≃105.66 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'антитау',\n        symbol: E.span('τ', E.sup('+')),\n        charge: '+1',\n        spin: '1/2',\n        mass: E.span('≃1.7768 GeV/c', E.sup('2'))\n    },\n    {\n        name: 'электрон',\n        symbol: E.span('e', E.sup('–')),\n        charge: '-1',\n        spin: '1/2',\n        mass: E.span('≃0.511 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'мюон',\n        symbol: E.span('μ', E.sup('–')),\n        charge: '-1',\n        spin: '1/2',\n        mass: E.span('≃105.66 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'тау',\n        symbol: E.span('τ', E.sup('–')),\n        charge: '-1',\n        spin: '1/2',\n        mass: E.span('≃1.7768 GeV/c', E.sup('2'))\n    },\n    {\n        name: 'фотон',\n        symbol: E.span('γ'),\n        charge: '0',\n        spin: '1',\n        mass: E.span('0'),\n        modifier: 'y',\n        group: 'U(1)',\n        interaction: 'electromagnetic'\n    },\n    {\n        name: 'верхний',\n        symbol: E.span(E.span.style`text-decoration: overline`('u')),\n        charge: '-2/3',\n        spin: '1/2',\n        mass: E.span('≃2.2 MeV/c', E.sup('2')),\n        category: 'anti-quark',\n        modifier: 'au'\n    },\n    {\n        name: 'очаровательный',\n        symbol: E.span(E.span.style`text-decoration: overline`('c')),\n        charge: '-2/3',\n        spin: '1/2',\n        mass: E.span('≃1.28 GeV/c', E.sup('2')),\n        category: 'anti-quark'\n    },\n    {\n        name: 'истинный',\n        symbol: E.span(E.span.style`text-decoration: overline`('t')),\n        charge: '-2/3',\n        spin: '1/2',\n        mass: E.span('≃173.1 GeV/c', E.sup('2')),\n        category: 'anti-quark'\n    },\n    {\n        name: 'верхний',\n        symbol: E.span('u'),\n        charge: '2/3',\n        spin: '1/2',\n        mass: E.span('≃2.2 MeV/c', E.sup('2')),\n        category: 'quark'\n    },\n    {\n        name: 'очаровательный',\n        symbol: E.span('c'),\n        charge: '2/3',\n        spin: '1/2',\n        mass: E.span('≃1.28 GeV/c', E.sup('2')),\n        category: 'quark'\n    },\n    {\n        name: 'истинный',\n        symbol: E.span('t'),\n        charge: '2/3',\n        spin: '1/2',\n        mass: E.span('≃173.1 GeV/c', E.sup('2')),\n        category: 'quark'\n    },\n    {\n        name: 'глюон',\n        symbol: E.span('g'),\n        charge: '0',\n        spin: '1',\n        mass: E.span('0'),\n        modifier: 'g',\n        group: 'SU(3)',\n        interaction: 'strong'\n    },\n    {\n        name: 'нижний',\n        symbol: E.span(E.span.style`text-decoration: overline`('d')),\n        charge: '1/3',\n        spin: '1/2',\n        mass: E.span('≃4.7 MeV/c', E.sup('2')),\n        category: 'anti-quark',\n        modifier: 'ad'\n    },\n    {\n        name: 'странный',\n        symbol: E.span(E.span.style`text-decoration: overline`('s')),\n        charge: '1/3',\n        spin: '1/2',\n        mass: E.span('≃96 MeV/c', E.sup('2')),\n        category: 'anti-quark'\n    },\n    {\n        name: 'прелестный',\n        symbol: E.span(E.span.style`text-decoration: overline`('b')),\n        charge: '1/3',\n        spin: '1/2',\n        mass: E.span('≃4.18 GeV/c', E.sup('2')),\n        category: 'anti-quark'\n    },\n    {\n        name: 'нижний',\n        symbol: E.span('d'),\n        charge: '-1/3',\n        spin: '1/2',\n        mass: E.span('≃4.7 MeV/c', E.sup('2')),\n        category: 'quark'\n    },\n    {\n        name: 'странный',\n        symbol: E.span('s'),\n        charge: '-1/3',\n        spin: '1/2',\n        mass: E.span('≃96 MeV/c', E.sup('2')),\n        category: 'quark'\n    },\n    {\n        name: 'прелестный',\n        symbol: E.span('b'),\n        charge: '-1/3',\n        spin: '1/2',\n        mass: E.span('≃4.18 GeV/c', E.sup('2')),\n        category: 'quark'\n    }\n]\n\nconst StandardModel = Component.StandardModel(({state}) => {\n\n    function renderTile({name, symbol, charge, spin, mass, category, modifier, group, interaction} = {}, i, view = false) {\n        const {i: current} = state();\n        return E.div.update(false).class(b('tile', modifier ? {mode: modifier} : {}))(E.div.style(`display: grid; grid-template-rows: auto 1fr ${view ? 'auto' : '3em'};cursor: pointer`)['data-interaction'](interaction)['data-i'](i)['data-view'](view ? 1 : 0).class(current === i ? b('current') : '').onClick((e) => {\n            const {interaction, i, view} = (e.target.closest('.' + b('tile')).firstChild.dataset);\n            if (+view) {\n                return;\n            }\n            if (interaction) {\n                state.set({\n                    interaction: state().i === +i ? undefined : interaction\n                });\n            }\n            state.set(prev => ({i: +i === prev.i ? undefined : +i}));\n        })(\n            E.div.style`display:grid;grid-template-columns: 1fr auto`(\n                E.div.style(`font-size: ${view ? '1' : '.8'}em;`)(\n                    view && 'масса: ',\n                    mass\n                )\n            ),\n            E.div.style(view ? '' : `display:grid;grid-template-columns: auto 1fr`)(\n                E.div.style(`font-size: ${view ? '1' : '.8'}em;`)(\n                    E.div(\n                        view && 'спин: ',\n                        spin\n                    ),\n                    E.div(\n                        view && 'заряд: ',\n                        charge\n                    ),\n                    group && E.div(\n                        view && 'группа симметрии: ',\n                        group\n                    ),\n                    view && interaction && interaction !== 'mass' && E.div(\n                        'Переносчик ' + {strong: 'сильного', 'electromagnetic': 'электромагнитного', 'weak': 'слабого'}[interaction] + ' взаимодействия'\n                    )\n                ),\n                E.div.style(`font-size: ${view ? 5 : 3}em;font-weight: 100;font-family:serif; display:flex; justify-content: center; align-items: center;margin-right: .3em; padding: .5em 0 .2em 0;${view ? 'margin-top: .1em;' : ''}`)(E.div.class(b('symbol'))(symbol))\n            ),\n            E.div.style(`font-size: 1em;  display:flex; justify-content: center; align-items: center; text-align: center;  line-height: 1.1em; ${view ? 'padding-bottom: 1em;' : ''}`)(E.div(\n                E.div.style(view ? 'font-size: 2em; line-height: 1.5em;' : '')(\n                    name,\n                    view && category === 'quark' && ' кварк',\n                    view && category === 'anti-quark' && ' антикварк'\n                ),\n            category === 'quark' && E.div.class(b('colors'))(\n                view && ['цветовой заряд:  ', E.br],\n                ['red', 'green', 'blue'].map(color => E.div.class(b('color', {[color]: true})))\n            ),\n            category === 'anti-quark' && E.div.class(b('colors'))(\n                view && ['цветовой заряд: ', E.br],\n                ['antired', 'antigreen', 'antiblue'].map(color => E.div.class(b('color', {[color]: true})))\n            ),\n            name === 'глюон' && E.div.class(b('colors'))(\n                view && ['цветовой заряд: ', E.br],\n                ['red-antiblue', 'blue-antigreen', 'green-antired', 'red-antigreen', 'blue-antired', 'green-antiblue', 'g3', 'g8'].map(color => E.div.class(b('color', {[color]: true, gluon: true}))(\n                    color === 'g3' ? '3' : color === 'g8' ? '8' : null\n                ))\n            )\n        ))))\n    }\n\n    return () => {\n        const {interaction, i} = state();\n        return E.div(\n            Breadcrumbs.items([['Физика', 'physics'], ['Стандартная модель']]),\n            E.div.class(b())(\n                E.h2('Стандартная модель элементарных частиц'),\n                E.div.class(b('table'))(\n                    E.div.class(b('area', {fermions: true}))('фермионы'),\n                    E.div.class(b('area', {bosons: true}))('бозоны'),\n                    E.div.class(b('area', {anti: true}))('античастицы'),\n                    E.div.class(b('area', {normal: true}))('частицы'),\n                    E.div.class(b('area', {vector: true}))('векторные'),\n                    E.div.class(b('area', {scalar: true}))('скалярный'),\n                    E.div.class(b('area', {leptons: true}))(\n                        E.div.style`display: flex; justify-content: flex-end; align-items: flex-end; height: 100%`('лептоны')\n                    ),\n                    E.div.class(b('area', {quarks: true}))(\n                        E.div.style`display: flex; justify-content: flex-end; align-items: flex-start; height: 100%`('кварки')\n                    ),\n                    interaction === 'weak' && [\n                        E.div.class(b('weak', {part: 1})),\n                        E.div.class(b('weak', {part: 2}))\n                    ],\n                    interaction === 'electromagnetic' && [\n                        E.div.class(b('electromagnetic', {part: 1})),\n                        E.div.class(b('electromagnetic', {part: 2})),\n                        E.div.class(b('electromagnetic', {part: 3}))\n                    ],\n                    interaction === 'strong' && [\n                        E.div.class(b('strong', {part: 1})),\n                        E.div.class(b('strong', {part: 2}))\n                    ],\n                    interaction === 'mass' && [\n                        E.div.class(b('higgs', {part: 1})),\n                        E.div.class(b('higgs', {part: 2}))\n                    ],\n                    E.div.class(b('border', {['anti-normal']: true})),\n                    E.div.class(b('border', {['fermions-bosons']: true})),\n                    E.div.class(b('border', {['leptons-quarks']: true})),\n                    E.div.class(b('border', {['vector-scalar']: true})),\n                    particles.map((e, i) => renderTile(e, i)),\n                    i !== undefined && (\n                        E.div.class(b('big-tile'))(renderTile(particles[i], undefined, true))\n                    ),\n                    [1, 2, 3, 1, 2, 3].map((k, i) => E.div.class(b('generation', {start: i === 0}))(k)),\n                    E.div.style`grid-column: 2 / 8; text-align: center`('Поколения')\n                ),\n                E.p.update(false)(\n                    'Взаимодействия: ',\n                    E.span.class(b('interaction', {type: 'strong'}))('сильное'), ', ',\n                    E.span.class(b('interaction', {type: 'electromagnetic'}))('электромагнитное'), ' и ',\n                    E.span.class(b('interaction', {type: 'weak'}))('слабое'), '. Также добавлено ',\n                    E.span.class(b('higgs-field'))('поле Хиггса'),\n                    E`. При нажатии на карточки частиц бозонов — квантов соответствующих полей, будут подсвечены все частицы, на которые действует поле. Значения масс для частиц взяты со страницы ${E.a.href('https://en.wikipedia.org/wiki/Standard_Model')('Стандартной модели')} в википедии. Выделение антинейтрино как отдельных частиц в таблице не значит, что они являются фермионами Дирака, а сделано исключительно для визуального удобства.`\n                )\n            )\n        );\n    }\n});\n\nexport default StandardModel;\n","import {\n    block,\n    E,\n    style,\n    Component,\n    RouteLink,\n    css\n} from '../../utils/index.js';\nimport {\n    Button\n} from '../../blocks/index.js';\n\nimport './Projects.less';\n\nconst b = block('projects');\n\nconst Projects = Component.Projects(() => {\n    return () => {\n        return E.div.class(b())(\n            E.h2('Проекты'),\n            E.div.class(b('list'))(\n                RouteLink.href('projects/unicode')(\n                    Button.class(b('button'))(\n                        E.div.class(b('tile'))(\n                            'Юникод',\n                            E.span.style`font-size: 4em`('✍')\n                        )\n                    )\n                ),\n                RouteLink.href('projects/game-of-life')(\n                    Button.class(b('button'))(\n                        E.div.class(b('tile'))(\n                            'Игра «Жизнь»',\n                            E.div.class(b('glider'))(\n                                E.div,\n                                E.div.class(b('fill')),\n                                E.div,\n                                E.div,\n                                E.div,\n                                E.div.class(b('fill')),\n                                E.div.class(b('fill')),\n                                E.div.class(b('fill')),\n                                E.div.class(b('fill'))\n                            )\n                        )\n                    )\n                )\n            )\n        );\n    }\n});\n\nexport default Projects;\n","import {\n    block,\n    E,\n    css,\n    style,\n    Component\n} from '../../utils/index.js';\n\nimport {Breadcrumbs} from '../index.js';\n\nimport './Colors.less';\n\nconst colors = [\n    'black',\n    'dark-black',\n    'dark',\n    'dark-gray',\n    'gray-dark',\n    'gray',\n    'gray-light-medium',\n    'gray-light',\n    'light-gray-medium',\n    'light-gray',\n    'light',\n    'light-white',\n    'white',\n    'blue',\n    'blue-light',\n    'blue-dark',\n    'blue-sky',\n    'cyan',\n    'red',\n    'red-light',\n    'green-light',\n    'orange-light',\n    'yellow-light',\n    'violet-light',\n];\n\nconst b = block('colors');\n\nlet currentListener;\n\nconst Colors = Component.Colors(({state, hooks}) => {\n    function getContrastCondition(rgb) {\n        if (document.body.classList.contains('theme_light')) {\n            const v = Math.min(...rgb);\n            return v > 230;\n        } else {\n            const v = Math.max(...rgb);\n            return v > 38 && v < 78;\n        }\n    }\n\n    state.init({theme: ''});\n\n    hooks.didMount(() => {\n        if (currentListener) {\n            window.removeEventListener('theme', currentListener);\n            currentListener = null;\n        }\n        currentListener = window.addEventListener('theme', e => {\n            state.set({theme: e.detail.theme});\n        });\n    });\n\n    return () => E.div(\n        Breadcrumbs.items([['Дизайн', 'design'], ['Цвета']]),\n        E.div.class(b())(\n            colors.map(color => {\n                const code = getComputedStyle(document.documentElement).getPropertyValue(`--color-${color}`).trim();\n                const rgb = (s => [s.slice(0,2), s.slice(2,4),s.slice(4)].map(hex => parseInt(hex, 16)))(code.slice(1))\n                const v = Math.max(...rgb);\n                const contrast = v > 162 ? 'black' : 'white';\n                const border = getContrastCondition(rgb) ? 'solid 1px var(--color-border-contrast)' : undefined;\n                const colorNode = E.div(\n                    E.div\n                        .class(b('area', {color}))\n                        .style(style({\n                            ...(border ? {border} : {}),\n                            color: contrast,\n                            backgroundColor: `var(--color-${color})`\n                        }))\n                    (\n                        E.div.class(b('code'))(code)\n                    ),\n                    E.div.class(b('name'))(color)\n                );\n                return colorNode;\n            })\n        )\n    );\n});\n\n\nexport default Colors;\n","import {\n    block,\n    E,\n    Component\n} from '../../utils/index.js';\nimport {\n    Button\n} from '../../blocks/index.js';\n\nimport {Breadcrumbs} from '../index.js';\n\nimport './Unicode.less';\n\nconst b = block('unicode');\n\nconst limit = 5000;\nconst max = 65535;\nconst count = (max - (max % limit)) / limit + 1;\n\nfunction getUnicodeList(start, end) {\n    const table = [];\n    for (let i = start; i < end; i++) {\n        table.push(E.div.title(i)(String.fromCharCode(i)));\n    }\n    return table;\n}\n\nconst Unicode = Component.Unicode(({state}) => {\n    state.init({i: 0});\n\n    return () => {\n        const start = state().i;\n        const startI = start * limit;\n        const end = start * limit + limit;\n        const endI = end > max ? max : end;\n        return E.div(\n            Breadcrumbs.items([['Проекты', 'projects'], ['Юникод']]),\n            E.div.class(b())._forceUpdate(true)\n            (\n                E.div.class(b('menu'))([...(new Array(count)).keys()].map(i =>\n                    E.div\n                        .class(b('button-container'))\n                        .onClick(() => state.set({i}))\n                    (\n                        Button(E.span.class(b('button', {active: i === start}))(`${i}`))\n                    )\n                )),\n                E.div(\n                    E.h2('Юникод'),\n                    E.p(E`Пока представлена только ${E.a.href('https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane')('основная многоязычная плоскость')}`),\n                    E.br,\n                    E.p(`Cимволы ${startI} - ${endI}`),\n                    E.br,\n                    E.div._forceUpdate(true).class(b('table'))(getUnicodeList(startI, endI))\n                )\n            )\n        );\n    }\n});\n\nexport default Unicode;\n","import {\n    block,\n    E,\n    style,\n    Component,\n    RouteLink,\n    css\n} from '../../utils/index.js';\nimport {\n    Button\n} from '../../blocks/index.js';\n\nimport './Design.less';\n\nconst b = block('design');\n\nconst Design = Component.Design(() => {\n    return () => {\n        return E.div.class(b())(\n            E.h2('Дизайн'),\n            RouteLink.href('design/colors')(\n                Button(\n                    E.div.style(style({padding: '24px', fontSize: '64px', fontWeight: '500'}))(\n                        E.span.style('color: #bc514a')('Ц'),\n                        E.span.style('color: #99c27c')('в'),\n                        E.span.style('color: #65b0ed')('е'),\n                        E.span.style('color: #c57bdb')('т'),\n                        E.span.style('color: #d0996a')('а'),\n                    )\n                )\n            )\n        );\n    }\n});\n\nexport default Design;\n","import {\n    S,\n    Component\n} from '../utils/index.js';\n\nexport default Component.BanIcon(({props}) => () =>\n    S.svg\n        ['aria-hidden']`true`\n        .focusable`false`\n        .role`img`\n        .xmlns`http://www.w3.org/2000/svg`\n        .viewBox`0 0 512 512`\n        ._props(props)\n    (\n        S.path\n            .fill`currentColor`\n            .d`M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z`\n    )\n);\n","import {\n    S,\n    Component\n} from '../utils/index.js';\n\nexport default Component.SunIcon(({props}) => () =>\n    S.svg\n        ['aria-hidden']`true`\n        .focusable`false`\n        .role`img`\n        .xmlns`http://www.w3.org/2000/svg`\n        .viewBox`0 0 512 512`\n        ._props(props)\n    (\n        S.path\n            .fill`currentColor`\n            .d`M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z`\n    )\n);\n","import {\n    S,\n    Component\n} from '../utils/index.js';\n\nexport default Component.MoonIcon(({props}) => () =>\n    S.svg\n        ['aria-hidden']`true`\n        .focusable`false`\n        .role`img`\n        .xmlns`http://www.w3.org/2000/svg`\n        .viewBox`0 0 512 512`\n        ._props(props)\n    (\n        S.path\n            .fill`currentColor`\n            .d`M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z`\n    )\n);\n","import {\n    S,\n    Component\n} from '../utils/index.js';\n\nexport default Component.PlayIcon(({props}) => () =>\n    S.svg\n        ['aria-hidden']`true`\n        .focusable`false`\n        .role`img`\n        .xmlns`http://www.w3.org/2000/svg`\n        .viewBox`0 0 448 512`\n        ._props(props)\n    (\n        S.path\n            .fill`currentColor`\n            .d`M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z`\n    )\n);\n","import {\n    S,\n    Component\n} from '../utils/index.js';\n\nexport default Component.PencilAltIcon(({props}) => () =>\n    S.svg\n        ['aria-hidden']`true`\n        .focusable`false`\n        .role`img`\n        .xmlns`http://www.w3.org/2000/svg`\n        .viewBox`0 0 512 512`\n        ._props(props)\n    (\n        S.path\n            .fill`currentColor`\n            .d`M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z`\n    )\n);\n","import {\n    S,\n    Component\n} from '../utils/index.js';\n\nexport default Component.PauseIcon(({props}) => () =>\n    S.svg\n        ['aria-hidden']`true`\n        .focusable`false`\n        .role`img`\n        .xmlns`http://www.w3.org/2000/svg`\n        .viewBox`0 0 448 512`\n        ._props(props)\n    (\n        S.path\n            .fill`currentColor`\n            .d`M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z`\n    )\n);\n","import {\n    S,\n    Component\n} from '../utils/index.js';\n\nexport default Component.StepForwardIcon(({props}) => () =>\n    S.svg\n        ['aria-hidden']`true`\n        .focusable`false`\n        .role`img`\n        .xmlns`http://www.w3.org/2000/svg`\n        .viewBox`0 0 448 512`\n        ._props(props)\n    (\n        S.path\n            .fill`currentColor`\n            .d`M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z`\n    )\n);\n","import Ban from './Ban';\nimport Sun from './Sun';\nimport Moon from './Moon';\nimport Play from './Play';\nimport PencilAlt from './PencilAlt';\nimport Pause from './Pause';\nimport StepForward from './StepForward';\n\nexport const Icon = {\n    Ban,\n    Sun,\n    Moon,\n    Play,\n    Pause,\n    StepForward,\n    PencilAlt\n};\n","import {\n    E,\n    block,\n    Component,\n} from '../../utils/index.js';\nimport {Breadcrumbs} from '../index.js';\nimport {\n    Button,\n    Checkbox,\n    Select\n} from '../../blocks/index.js';\nimport { Icon } from '../../icons/index.js';\n\nimport './GameOfLife.less';\n\nconst b = block('game-of-life');\n\nconst range = (start, end) => {\n    const result = [];\n    for (let i = start; i <= end; i++) {\n        result.push(i);\n    }\n    return result;\n}\n\nconst patternGroups = {\n    spaceship: 'Космические корабли, скорость',\n    puffer: 'Паровозы, скорость',\n    gun: 'Ружья',\n    oscillator: 'Осцилляторы, период',\n    methuselah: 'Долгожители'\n}\n\nconst patterns = {\n    'glider': {\n        name: 'Планер, c/4',\n        code: 'bob$2bo$3o!',\n        group: patternGroups.spaceship\n    },\n    'lightweight-spaceship': {\n        name: 'Лёгкий космический корабль, c/2',\n        code: 'bo2bo$o4b$o3bo$4o!',\n        group: patternGroups.spaceship\n    },\n    'middleweight-spaceship': {\n        name: 'Средний космический корабль, c/2',\n        code: '3bo2b$bo3bo$o5b$o4bo$5o!',\n        group: patternGroups.spaceship\n    },\n    'heavyweight-spaceship': {\n        name: 'Тяжёлый космический корабль, c/2',\n        code: '3b2o2b$bo4bo$o6b$o5bo$6o!',\n        group: patternGroups.spaceship\n    },\n    swan: {\n        name: 'Лебедь, c/4',\n        code: `bo10b2o10b$5o6b2o11b$o2b2o8bo7b2ob$2b2obo5b2o6b3obo$11b2o3bob2o4b$5bob\n        o6b2o8b$10b3obo4bo4b$7b3o3bo4bo5b$8bo7bo7b$8bo6bo8b2$11bo!`,\n        group: patternGroups.spaceship\n    },\n    loafer: {\n        name: 'Бездельник, c/7',\n        code: `b2o2bob2o$o2bo2b2o$bobo$2bo$8bo$6b3o$5bo$6bo$7b2o!`,\n        group: patternGroups.spaceship\n    },\n    lobster: {\n        name: 'Омар, c/7',\n        code: `12b3o$12bo$13bo2b2o$16b2o$12b2o$13b2o$12bo2bo2$14bo2bo$14bo3bo$15b3obo\n        $20bo$2o2bobo13bo$obob2o13bo$o4bo2b2o13b2o$6bo3bo6b2o2b2o2bo$2b2o6bo6b\n        o2bo$2b2o4bobo4b2o$9bo5bo3bo3bo$10bo2bo4b2o$11b2o3bo5bobo$15bo8b2o$15b\n        o4bo$14bo3bo$14bo5b2o$15bo5bo!`,\n        group: patternGroups.spaceship\n    },\n    'weekender': {\n        name: 'Отдыхающий, 2c/7',\n        code: `bo12bob$bo12bob$obo10bobo$bo12bob$bo12bob$2bo3b4o3bo2b$6b4o6b$2b4o4b4o\n        2b2$4bo6bo4b$5b2o2b2o!`,\n        group: patternGroups.spaceship\n    },\n    '3-engine-cordership': {\n        name: 'Трёхмоторный эсминец, c/12',\n        code: `31b3o24b$32bo25b$32bo2bo22b$32bo2bo22b$33bobo22b$48b2o8b$48b2o8b3$32bo\n        25b$31bobo24b$32bo25b$49bo8b$48bo7b2o$30b4o22b2o$30b2o3bo10bo11b$31bo\n        4bo9bobo9b$33bob2o10bo10b$34bo23b3$42bobob2o10b$25bo16bobo13b$24b3o17b\n        o2bo10b$43bo3bo10b$24b3o16b4o2b2o7b$25b2ob2o14bo5b2o6b$27bo21bo8b3$b3o\n        54b$2bo55b$2bo2bo52b$2bo2bo52b$3bobo52b$18b2o38b$18b2o38b$24bo33b$23b\n        3o32b$2bo19b2ob2o31b$bobo18bobo33b$2bo19bo35b3$4o54b$2o3bo13bo38b$bo4b\n        o11bobo37b$3bob2o11bo39b$4bo15b2o36b$21bo36b$18b3o37b$19b2o37b$16bo41b\n        $16b2o40b$16b2o40b$6b2o6b2o42b$6b2o4b2o44b$12b2obo42b$14b2o42b5$14b2o\n        42b$14b2o!`,\n        group: patternGroups.spaceship\n    },\n    'p15-pre-pulsar-spaceship': {\n        name: 'Допульсарный космический корабль(период 15), c/5',\n        code: `3b3o10b3o23b3o10b3o3b$4bobo8bobo25bobo8bobo4b$6bo8bo29bo8bo6b$bob5o6b\n        5obo19bob5o6b5obob$bob2o3b2o2b2o3b2obo19bob2o3b2o2b2o3b2obob$2o5b3o2b\n        3o5b2o17b2o5b3o2b3o5b2o$5b2ob2o2b2ob2o27b2ob2o2b2ob2o5b2$4bo12bo25bo\n        12bo4b$5b3o6b3o27b3o6b3o5b$4b4o6b4o25b4o6b4o4b$3b2o12b2o23b2o12b2o3b$\n        4bo12bo25bo12bo4b$2b3o12b3o21b3o12b3o2b$2bo16bo21bo16bo2b$5bo10bo27bo\n        10bo5b$3bobo10bobo23bobo10bobo3b$2bo3b2o6b2o3bo21bo3b2o6b2o3bo2b$3bo5b\n        o2bo5bo23bo5bo2bo5bo3b$9bo2bo35bo2bo9b$bob2o4bo2bo4b2obo19bob2o4bo2bo\n        4b2obob$bo3b3obo2bob3o3bo19bo3b3obo2bob3o3bob$2bo6bo2bo6bo21bo6bo2bo6b\n        o2b$bo2b2o3bo2bo3b2o2bo19bo2b2o3bo2bo3b2o2bob$bo2b2obobo2bobob2o2bo19b\n        o2b2obobo2bobob2o2bob$5bo2bo4bo2bo27bo2bo4bo2bo5b$6bobo4bobo29bobo4bob\n        o6b$27bo5bo27b$4b2obob4obob2o9bo5bo9b2obob4obob2o4b$10b2o14bobo3bobo\n        14b2o10b$2bob2o10b2obo7bo5bo7bob2o10b2obo2b$2o2bo3b2o2b2o3bo2b2o5bo5bo\n        5b2o2bo3b2o2b2o3bo2b2o$b2obo12bob2o19b2obo12bob2ob$3b2obo8bob2o23b2obo\n        8bob2o3b$4bo2bo6bo2bo25bo2bo6bo2bo4b$b2o2bo2bo4bo2bo2b2o4b2o7b2o4b2o2b\n        o2bo4bo2bo2b2ob$bo5b2o4b2o5bo5bobo3bobo5bo5b2o4b2o5bob$b3o3bo6bo3b3o6b\n        o5bo6b3o3bo6bo3b3ob$3b4o8b4o23b4o8b4o3b$4bo2bo6bo2bo25bo2bo6bo2bo4b$4b\n        o12bo25bo12bo4b$4bob2o6b2obo25bob2o6b2obo4b$5bo10bo27bo10bo!`,\n        group: patternGroups.spaceship\n    },\n    'spaghetti-monster': {\n        name: 'Спагетти монстр, 3c/7',\n        code: `8b3o5b3o$8bobo5bobo$8bobo5bobo$6bob2o3bo3b2obo$6b2o4bobo4b2o$10b2obob\n        2o$9bo7bo$9bobo3bobo$5b5o7b5o$4bo2bo11bo2bo$5bob3o7b3obo$7bob2o5b2obo$\n        6b2obobo3bobob2o$6b3obo5bob3o2$10b2o3b2o$12bobo$9bo7bo$9b2o5b2o$6b2o\n        11b2o$4bob2o11b2obo$4b2o2b2o7b2o2b2o$4bo2bo2bo5bo2bo2bo$5bo4bo5bo4bo$\n        5bo2bo2bo3bo2bo2bo$2bo5bo9bo5bo$3bobo15bobo$7bo11bo$3bo3bobo7bobo3bo$\n        3bo2bo3bo5bo3bo2bo$4b2o2b2o7b2o2b2o$8bo9bo2$8b5ob5o$bo6b2ob2ob2ob2o6bo\n        $3o7bo5bo7b3o$o2b2o5bo5bo5b2o2bo$2bo3b5o5b5o3bo$7bob2o5b2obo$bo3bo15bo\n        3bo$bob2o2bo11bo2b2obo$bob4o13b4obo$4bo17bo2$2bo21bo$bobo19bobo$o25bo$\n        o3bo17bo3bo$5bo15bo$2o23b2o$2bo3bo2bo7bo2bo3bo$2bo3bobobo5bobobo3bo$2b\n        o5bob2o3b2obo5bo$2bo3b2obo7bob2o3bo$6b2o11b2o$4bo17bo$3bo19bo$3bo4bo9b\n        o4bo$2b2o3b2o9b2o3b2o$2b2o3bobo7bobo3b2o$2b2o3b2o3b3o3b2o3b2o$2b3o2b3o\n        bo3bob3o2b3o$6bob2obo3bob2obo$2b2o3b2obo5bob2o3b2o$3bob2o3bobobobo3b2o\n        bo$11bobobo$8bo9bo$8b3o5b3o$10b2obob2o$10b7o$8b3o5b3o$7b2obobobobob2o$\n        6bo3bo5bo3bo$11b2ob2o$5bo2bobobobobobo2bo$6b4o7b4o$9bo7bo$9bo7bo$6b2ob\n        o2bobo2bob2o2$9b2o5b2o3$9bo7bo$9b3o3b3o$8bo2bo3bo2bo$9bo7bo$8bo2bo3bo\n        2bo$11b2ob2o$12bobo$10bobobobo$9bo3bo3bo$9bo7bo$12bobo$7b2obo5bob2o$7b\n        2o2bo3bo2b2o$7bo11bo$8bo9bo$6bobo9bobo$5b4o9b4o$5b2obobo5bobob2o$4bo2b\n        o11bo2bo$9bobo3bobo$8b2obo3bob2o$4bo2bo3b2ob2o3bo2bo$9bo2bobo2bo$6bo2b\n        ob2ob2obo2bo$7bobobobobobobo$8b2o2bobo2b2o$9bobo3bobo$10b2o3b2o$7b2o9b\n        2o$7b3o7b3o$7bobo7bobo$5b2o2bo7bo2b2o$5b2o13b2o$11bo3bo$6bo4bo3bo4bo$\n        6b2o3bo3bo3b2o$7bo2bo5bo2bo$7b3o7b3o$6bobo9bobo$6b2o11b2o$6bobo4bo4bob\n        o$6b2o4b3o4b2o$6b2o3bo3bo3b2o$5b3o4b3o4b3o$3b2o17b2o$2bo5b2o2bobo2b2o\n        5bo2$2bo2bob3ob2ob2ob3obo2bo$8b3o5b3o$10b3ob3o$5bo4b2obob2o4bo$11bo3bo\n        2$11b2ob2o!`,\n        group: patternGroups.spaceship\n    },\n    'puffer-1': {\n        name: 'Паровоз 1, c/2',\n        code: `b3o6bo5bo6b3ob$o2bo5b3o3b3o5bo2bo$3bo4b2obo3bob2o4bo3b$3bo19bo3b$3bo2b\n        o13bo2bo3b$3bo2b2o11b2o2bo3b$2bo3b2o11b2o3bo!`,\n        group: patternGroups.puffer\n    },\n    'puffer-2': {\n        name: 'Паровоз 2, c/2',\n        code: `78bo26b$76b2o27b$77b2o26b2$69bobo33b$69b2o34b$70bo34b2$12bo92b$10bobo\n        29b2o28b2o31b$11b2o29b2o28b2o31b$8b2o95b$7bobo95b$9bo95b2$80b2o23b$57b\n        3o9b2o9bobo4b3o11b3ob$57bo2bo8bobo8bo6bo2bo10bo2bo$57bo11bo17bo6b3o4bo\n        3b$57bo29bo5bo2bo4bo3b$58bobo27bobo2b2obo5bobo25$60bo44b$61b2o42b$60b\n        2o43b3$4bobo98b$4b2o99b$5bo99b$34b2o28b2o39b$36bo29bo38b$2b2o29bo29bo\n        41b$3b2o29b2o21b3o4b2o5b3o13b3o11b3ob$2bo54bo2bo10bo2bo12bo2bo10bo2bo$\n        57bo13bo15bo6b3o4bo3b$5b2o50bo13bo15bo5bo2bo4bo3b$4b2o52bobo11bobo13bo\n        bo2b2obo5bobo$6bo98b4$93bo11b$94bo10b14$55bo49b$56b2o47b$55b2o48b7$5bo\n        99b$3bobo29b2o28b2o38b$4b2o29b2o28b2o38b$b2o102b$obo102b$2bo102b4$64bo\n        40b$63b3o39b$63bob2o38b$64b3o38b$64b2o39b4$57b3o11b3o13b3o11b3ob$57bo\n        2bo10bo2bo12bo2bo10bo2bo$57bo13bo15bo6b3o4bo3b$57bo13bo15bo5bo2bo4bo3b\n        $58bobo11bobo13bobo2b2obo5bobo5$93bo11b$94bo!`,\n        group: patternGroups.puffer\n    },\n    'glider-train': {\n        name: 'Планерный поезд, c/2',\n        code: `32b2o$31b2o$33bo17b6o6b2o$50bo5bo4bo4bo$56bo10bo$26b5o19bo4bo5bo5bo$\n        25bo4bo21b2o8b6o$30bo$18b2o5bo3bo23bo$18b2o7bo24bobo$14b3o4bo29bo5bo$\n        13bob2o5b2o11b2o15bobobobo6bo$b2o9b2obobo3b2o11bo2bo13b2o2bo3bo5b2o$o\n        2bo9b6o9b2o4bobo7b2o5b2o3b2obo4bob2o$b2o11b4o10b2o5bo8b2o7bo5bo4bobo$\n        50bobo11b2o2$50bobo11b2o$b2o11b4o10b2o5bo8b2o7bo5bo4bobo$o2bo9b6o9b2o\n        4bobo7b2o5b2o3b2obo4bob2o$b2o9b2obobo3b2o11bo2bo13b2o2bo3bo5b2o$13bob\n        2o5b2o11b2o15bobobobo6bo$14b3o4bo29bo5bo$18b2o7bo24bobo$18b2o5bo3bo23b\n        o$30bo$25bo4bo21b2o8b6o$26b5o19bo4bo5bo5bo$56bo10bo$50bo5bo4bo4bo$33bo\n        17b6o6b2o$31b2o$32b2o!`,\n        group: patternGroups.puffer\n    },\n    'space-rake': {\n        name: 'Космические грабли, с/2',\n        code: `11b2o5b4o$9b2ob2o3bo3bo$9b4o8bo$10b2o5bo2bob2$8bo13b$7b2o8b2o3b$6bo9bo\n        2bo2b$7b5o4bo2bo2b$8b4o3b2ob2o2b$11bo4b2o4b4$18b4o$o2bo13bo3bo$4bo16bo\n        $o3bo12bo2bob$b4o!`,\n        group: patternGroups.puffer\n    },\n    '3-engine-cordership-rake': {\n        name: 'Грабли для трёхмоторного эсминца, c/2',\n        code: `142b2o317b$126b2o13b2ob2o315b$125b4o13b4o315b$124b2ob2o14b2o316b$125b\n        2o334b$147bo313b$146b3o312b$130bo11bo3b2obo311b$128b4o10bo6bo311b$127b\n        ob5o14bo6bo305b$126b2o6bo18b2o306b$127b3obo3bo18b2o305b$128b3o3bo326b$\n        133bo327b$160bo5b2o293b$126b2o30b2o5b2ob3o290b$125b4o4b4o22b2o5b5o290b\n        $124b2ob2o4bo3bo3bo2bo22b3o291b$125b2o6bo6bo320b$134bo2bo2bo3bo20bo\n        295b$140b4o9b2o8b2o296b$146b3o5b2o8b2o295b$146b2ob2o6b3o301b$146b3o5b\n        2o305b$140b4o9b2o306b$140bo3bo316b$140bo320b$141bo2bo316b$159bo2bo298b\n        $158bo302b$158bo3bo298b$100b2o56b4o299b$99b4o68bo289b$98b2ob2o68bo289b\n        $82b2o15b2o58b3o3bo295b$81b2ob2o72b5o2bo7bo287b$82b4o71b2ob4obo7bo287b\n        $83b2o73b2o301b$103bo357b$97b2o3b3o356b$85b3o9b3ob5o355b$84b2o3bo9b3o\n        8bobo348b$83b2o2bobo9b3o8b2o46b4o299b$84bo5bo9bo10bo46bo3bo298b$85b2o\n        2bo11bo56bo302b$89bo34b3o32bo2bo298b$87bo27bobo5b5o333b$91bo2bo20b2o5b\n        2ob3o333b$82b2o6bo25bo6b2o336b$81b2ob2o4bo3bo366b$82b4o4b4o3b4o360b$\n        83b2o12bo3bo9bo8bobo338b$97bo11b2o9b2o14bo324b$98bo2bo2b2o5b3o7bo12bo\n        3bo322b$103b3o6b3o18bo327b$98bo2bo2b2o5b3o19bo4bo322b$97bo11b2o22b5o\n        323b$97bo3bo9bo349b$97b4o360b2$115b2o344b$114b2ob2o342b$115b4o17b2o\n        323b$116b2o17b3o323b$117bo18b2o323b$115bo3bo2b2o13bobo321b$114bo5bob2o\n        14b2o321b$114bo5b4o337b$114b6o341b2$130b2o46bo2bo279b$129b2ob2o43bo\n        283b$130b4o5b2o36bo3bo279b$131b2o5b2ob4o15b4o13b4o280b$139b6o15bo3bo\n        296b$140b4o16bo300b$161bo2bo296b$181b3o277b$165bo10bobobo3bo276b$163b\n        3o10bo7bo27bobo10bo235b$162bo3bo15b2o5bo22b2o9b2o236b$162bo4b3o19bobo\n        21bo10b2o235b$162b2obob3o8bo10b2o270b$164bo3b2o34bo256b$165bobo34bo3bo\n        254b$194bo6bo259b$194bobo4bo4bo254b$160b4o5b2o23b2o5b5o255b$160bo3bo3b\n        2ob2o4b2o282b$160bo8b4o3b4o281b$161bo2bo5b2o3b2ob2o9bo9bo261b$176b2o\n        11bo9bobo259b$182bobo4b2o2bo5b2o260b$181b2o2bo7bo267b$182bobo4b2o2bo\n        267b$176b2o11bo271b$175b2ob2o9bo271b$176b4o281b$177b2o282b$68b2o125b2o\n        264b$66bo4bo122b4o263b$65bo127b2ob2o263b$57bo2bo4bo5bo68bo2bo50b2o265b\n        $56bo8b6o68bo64bo256b$56bo3bo78bo3bo59bobo255b$56b4o62b4o13b4o55b2o2b\n        2ob3o6bo246b$42b4o76bo3bo66b12ob2o6bobo244b$41b7o4b2o68bo70bo7bo2bo9b\n        2o245b$40b2ob3ob2o2bobo69bo2bo66bo6b2o3b2o254b$41b2o3b2o2bo2b2o93bo45b\n        o266b$50bo2bo73b2o19bobo45b2o263b$44b2o4bobo72b5o18b2o311b$42bo8bo72bo\n        4bo2b3obo63b2o259b$41bo82bo2b3o3bo3b2o60b4o258b$41bo3bo78b2o2bo7bobo\n        14bo44b2ob2o258b$41b4o81b2o7b2obo14bobo10bo32b2o260b$25b2o109b2o15b2o\n        9bo3bo292b$24b4o108bo26bo297b$23b2ob2o135bo4bo292b$24b2o5b2ob3o85b4o5b\n        2o25bo4b5o293b$30bo5b2o84bo3bo3b2ob2o4b2o17bobo300b$29b2o7bo10bo72bo8b\n        4o3b4o16b2o301b$30bo5b2o9bo2bo72bo2bo5b2o3b2ob2o9bo309b$24b2o5b2ob3o\n        10b2o89b2o11bo11b2o296b$9bo2bo5b2o3b2ob2o116bobo4b2o2bo7b2o296b$8bo8b\n        4o3b4o115b2o2bo7bo18b2o285b$8bo3bo3b2ob2o4b2o16b2o99bobo4b2o2bo17b2ob\n        3o282b$8b4o5b2o24bobo3b5o84b2o11bo22b5o282b$43bo5bo4bo82b2ob2o9bo23b3o\n        283b$49bo88b4o319b$50bo3bo21b2o61b2o320b$19b2o17b2o12bo22b2ob4o73b4o\n        302b$10b3o7b2o16bobo26b2o7b6o73bo3bo14b2o285b$10bo6bo2bo17bo27b2ob2o6b\n        4o74bo19b2o284b$10bobo6bo34b2o11b4o85bo17bo286b$11b2o3b2o34bo15b2o88b\n        2o301b$33b2o16bo6bo103b3o296b$33bo17bo8bo94b2o3b2o3bo295b$9bo2bo20bo\n        17b8obo93b2ob3obo2bo296b$8bo22b2o23b2o97b9o108bobo10bo175b$8bo3bo143b\n        4o112b2o9b2o176b$8b4o13b4o118bo22b4o99bo10b2o175b$25bo3bo22b2o94b2o20b\n        o3bo286b$25bo25b2ob2o91b2o21bo8b6o276b$26bo2bo22b4o115bo2bo4bo5bo275b$\n        35bo2bo14b2o124bo281b$34bo28b2o115bo4bo275b$34bo3bo7bo15b2o118b2o277b$\n        34b4o4bo3b3o15bo396b$40b2o5b2o412b$40b3o6bo8bo402b$40b2o5b2o9b2o401b$\n        34b4o4bo3b3o9b2o401b$28bo2bo2bo3bo7bo414b$19b2o6bo6bo426b$18b2ob2o4bo\n        3bo3bo2bo22b3o397b$19b4o4b4o22b2o5b5o396b$20b2o30b2o5b2ob3o396b$54bo5b\n        2o399b$27bo433b$22b3o3bo78b2o352b$21b3obo3bo18b2o56bobo352b$20b2o6bo\n        18b2o59bo156bo195b$21bob5o14bo6bo215bobo193b$22b4o10bo6bo75bo21bo123b\n        2o194b$24bo11bo3b2obo74b2o22bo131bo186b$40b3o75bobo19b3o131bobo184b$\n        41bo10b3o219b2o185b$19b2o30b5o405b$18b2ob2o14b2o11b2ob3o405b$19b4o13b\n        4o11b2o408b$20b2o13b2ob2o421b$36b2o17b2o404b$54b3o31b4o369b$55b2o2b2o\n        26b9o365b$59b2o25b2ob3obo2bo364b$50b2o3bo31b2o3b2o3bo363b$49b2ob4obo\n        36b3o364b$50b7o33b2o369b$51b2o35bo15bo356b$87bo15bobo355b$37b4o46bo3bo\n        13bo355b$36b7o44b4o13bo356b$35b2ob3ob3o416b$36b2o3b2obo416b$69b4o388b$\n        39b2o28bo3bo387b$37bo31bo7bo383b$36bo33bo2bo2b7o378b$36bo3bo34b2ob3o2b\n        o10bo366b$36b4o30bo2bo2b7o9b3o366b$49bo19bo7bo15bobo365b$48b2o5b2o12bo\n        3bo387b$18b4o26bobo3b4o4b4o3b4o388b$18bo3bo10bo19b2ob2o4bo3bo22bo371b$\n        18bo7b2o4bobo19b2o6bo25b2o5b2o364b$19bo2bo2b4o3bo2b2o26bo2bo21bobo3b2o\n        b3o361b$24b2o3bo5bob2o56b5o361b$19bo2bo2b4o3bo2b2o59b3o362b$18bo7b2o4b\n        obo29b2o18bo247bobo10bo115b$4b2o12bo3bo10bo22b2o7bo17b2o247b2o9b2o116b\n        $3b4o4b4o3b4o17bo15b2o5bo2bo17bobo241bo5bo10b2o115b$2b2ob2o4bo3bo22b2o\n        16b2o4b3o263b2o131b$3b2o6bo26bobo3b2o11bo3b2o15bo248b2o132b$12bo2bo27b\n        2ob3o29bo382b$44b5o27bobo382b$16b2o16bo10b3o7b2o20bo383b$6b2o8b2o15b2o\n        19b4o18b2o383b$5bo2bo5bo3bo14bobo17b2ob2o403b$4b2o2bo4bo3bo36b2o15b2o\n        388b$5b2o2bo2bo4bo52b2ob2o386b$6b4o3bobo13bo41b4o210bobo173b$28b2o42b\n        2o212b2o173b$28bobo255bo174b$4b2o335b2o118b$3b4o334bobo117b$2b2ob2o63b\n        2o269bo119b$3b2o15b2o32b2o13b2ob2o387b$19b2ob2o29b4o13b4o387b$20b4o28b\n        2ob2o14b2o388b$21b2o30b2o406b2$325bo135b$67b2o4bo251bobo133b$56b2o9b2o\n        3b3o7bo38b2o198bo3b2o134b$55bo2bo12b2ob2o4b2o23b2o13b2ob2o197bo11bo\n        126b$54b2o2bo11b3ob3o4b2o21b4o13b4o195b3o11bobo124b$55b2o2bo11b2ob3o\n        26b2ob2o14b2o210b2o125b$56b4o12bobo29b2o355b$87bo373b$85b2o7b2o365b$\n        54b2o30b2o5b2ob3o17b2o14bo328b$53b4o4b4o29b5o16bo2bo11b2o329b$52b2ob2o\n        4bo3bo3bo2bo22b3o8b2o13b3o7b2o328b$53b2o6bo6bo23bo12b2o5bo8bo2bo336b$\n        62bo2bo2bo3bo11b2o4b2o14b2o4bo3bo3b2ob2o336b$68b4o11bo7b2o14bo3bo4bo\n        20bo323b$74b3o2b2o7bo25bo20b2o324b$74b3o2b2o8bo46b2o7b2o314b$74b3o2b2o\n        7bo8bo7b2o37b2ob3o311b$68b4o11bo11b2o7b4o4b4o29b5o133b2o38b2o136b$68bo\n        3bo11b2o10b2o5b2ob2o4bo3bo3bo2bo18bo3b3o135b2o38b2o135b$68bo35b2o6bo6b\n        o20b2o141bo39bo137b$69bo2bo40bo2bo2bo3bo7bo9b2o318b$19b2o66bo2bo28b4o\n        4bo3b3o255b3o69b$18b4o64bo38b2o5b2o255bo71b$17b2ob2o64bo3bo34b3o6bo\n        255bo70b$b2o15b2o66b4o35b2o5b2o327b$2ob2o92bo21b4o4bo3b3o321b2o4b$b4o\n        90b2obo20bo3bo7bo190b3o129b2ob4o$2b2o83b3o10bo18bo202bo132b6o$26bobo\n        57b5o9bo19bo2bo28bo131bo38bo132b4ob$26b2o42b2o13b2ob4o5bo2bo37bo2bo8b\n        2o132b2o61b2o112b$4b4o3bobo13bo41b4o13b2o5b2o3bo38bo13b2o130bobo61bobo\n        111b$3b2o2bo2bo4bo52b2ob2o39bo24bo3bo205bo113b$2b2o2bo4bo3bo36b2o15b2o\n        39b2o25b4o320b$3bo2bo5bo3bo14bobo17b2ob2o50bo4b2o37bo310b$4b2o8b2o15b\n        2o19b4o18b2o24b2o4bo43bo243b5o62b$14b2o16bo10b3o7b2o20bo23b2ob2o2b2o\n        30b3o3bo249bo4bo61b$42b5o27bobo23b4ob3o29b5o2bo7bo241bo66b$10bo2bo27b\n        2ob3o29bo24b4o3bob2o24b2ob4obo7bo242bo3bo61b$b2o6bo26bobo3b2o11bo3b2o\n        15bo28bob5o25b2o258bo63b$2ob2o4bo3bo22b2o16b2o4b3o41b2ob2o352b$b4o4b4o\n        3b4o17bo15b2o5bo2bo17bobo22bo354b$2b2o12bo3bo10bo22b2o7bo17b2o19b2ob2o\n        354b$16bo7b2o4bobo29b2o18bo18b5o355b$17bo2bo2b4o3bo2b2o59b3o3b2ob3o\n        355b$22b2o3bo5bob2o56b5o3b2o358b$17bo2bo2b4o3bo2b2o26bo2bo21bobo3b2ob\n        3o363b$16bo7b2o4bobo19b2o6bo25b2o5b2o366b$16bo3bo10bo19b2ob2o4bo3bo22b\n        o373b$16b4o26bobo3b4o4b4o3b4o390b$46b2o5b2o12bo3bo389b$47bo19bo7bo15bo\n        bo367b$34b4o30bo2bo2b7o9b3o188b2o178b$34bo3bo34b2ob3o2bo10bo188bobo\n        177b$34bo33bo2bo2b7o200bo179b$35bo31bo7bo385b$37b2o28bo3bo389b$67b4o\n        390b$34b2o3b2obo418b$33b2ob3ob3o418b$34b7o44b4o13bo358b$35b4o46bo3bo\n        13bo357b$85bo15bobo357b$49b2o35bo15bo358b$48b7o33b2o371b$47b2ob4obo36b\n        3o366b$48b2o3bo31b2o3b2o3bo105b2o258b$57b2o25b2ob3obo2bo104bo4bo256b$\n        53b2o2b2o26b9o104bo262b$52b3o31b4o100bo2bo4bo5bo256b$53b2o134bo8b6o\n        257b$40bo2bo145bo3bo267b$39bo9b2o138b4o268b$39bo3bo4b2ob3o121b4o282b$\n        22b4o13b4o6b5o120b7o4b2o274b$22bo3bo23b3o120b2ob3ob2o2bobo274b$22bo93b\n        obo55b2o3b2o2bo2b2o273b$23bo2bo89b2o65bo2bo274b$43b3o71bo25b2o32b2o4bo\n        bo275b$27bo10bobobo3bo97b2o29bo8bo276b$25b3o10bo7bo59bo36bo30bo14b2o\n        270b$24bo3bo15b2o5bo52bobo67bo3bo10bobo269b$24bo4b3o19bobo51b2o67b4o\n        11bo139b3o129b$24b2obob3o8bo10b2o105b2o169bo131b$26bo3b2o34bo90b4o169b\n        o130b$27bobo34bo3bo87b2ob2o9bo23b3o264b$56bo6bo93b2o11bo22b5o263b$56bo\n        bo4bo4bo94bobo4b2o2bo17b2ob3o64b3o196b$22b4o5b2o23b2o5b5o94b2o2bo7bo\n        18b2o67bo198b$22bo3bo3b2ob2o4b2o122bobo4b2o2bo88bo197b$22bo8b4o3b4o\n        115b2o11bo8b2o106b2o172b$23bo2bo5b2o3b2ob2o19bo80bo2bo5b2o3b2ob2o9bo8b\n        obo105bobo171b$38b2o5b2ob3o12bo77bo8b4o3b4o18bo107bo173b$44bo5b2o8bobo\n        78bo3bo3b2ob2o4b2o301b$43b2o7bo8bo79b4o5b2o30b5o274b$44bo5b2o122b2o6bo\n        4bo273b$38b2o5b2ob3o15bo107bobo5bo56bo221b$37b2ob2o24bobo92bo12bo8bo3b\n        o42b6obo3bo219b$38b4o24b2o77b2o13bo2bo21bo32b2o10bo5bo3b3o218b$39b2o\n        102b2ob2o11bo3bo53b2ob2o8bo5bo5bo218b$55b4o84bo2bo12bo3bo5b2o47b4o9bo\n        3bo3b2obo218b$55bo3bo83bo2bo12bo3bo5bobo47b2o12bo5b3o219b$55bo88b2o9b\n        2o3bobo6bo62b2o227b$56bo98b2o4bo69b4o226b$58b2o170b2ob2o226b$142bo2bo\n        85b2o228b$55b2o3b2obo77bo319b$54b2ob3ob3o77bo3bo315b$55b7o79b4o13b4o\n        51b2o246b$56b4o98bo3bo49b2ob2o8bo235b$70b4o84bo54b4o3bo4bobo233b$70bo\n        3bo84bo2bo51b2o3bo5bo2bo232b$70bo8b6o133bo2bo6bo232b$71bo2bo4bo5bo128b\n        2o3bo5bo2bo8bo223b$79bo133b4o3bo4bobo9b2o222b$80bo4bo126b2ob2o8bo235b$\n        82b2o113b4o5b2o5b2o26bo219b$197bo3bo3b2ob2o22b3o4bo3bo217b$197bo8b4o\n        22bo5bo222b$198bo2bo5b2o24bo4bo4bo217b$238b5o218b$210bo250b$200b2o8b2o\n        15b3o231b$199bo2bo9bo14bo233b$199bo2bo4b5o16bo232b$199b2ob2o3b4o250b$\n        201b2o4bo253b$222b3o236b$222bo238b$223bo237b$197b4o260b$197bo3bo13bo2b\n        o6b2o234b$197bo16bo8bo237b$198bo2bo12bo3bo3bo6b2o3b2o225b$214b4o4bo7bo\n        2bo227b$222b12ob2o224b$227b2o2b2ob3o224b$232bobo226b$233bo227b$223b2o\n        236b$222b2ob2o234b$223b4o234b$224b2o43b3o189b$206b2o61bo191b$205b4o61b\n        o190b$204b2ob2o252b$205b2o5b2ob3o243b$211bo5b2o242b$210b2o7bo241b$211b\n        o5b2o242b$205b2o5b2ob3o9b2o232b$190bo2bo5b2o3b2ob2o18bobo231b$189bo8b\n        4o3b4o18bo233b$189bo3bo3b2ob2o4b2o253b$189b4o5b2o30b5o226b$222b2o6bo4b\n        o225b$222bobo5bo230b$209bo12bo8bo3bo225b$193b2o13bo2bo21bo227b$191b2ob\n        2o11bo3bo249b$191bo2bo12bo3bo5b2o242b$191bo2bo12bo3bo5bobo241b$192b2o\n        9b2o3bobo6bo243b$203b2o4bo24bo226b$225b6obo3bo224b$190bo2bo31bo5bo3b3o\n        223b$189bo35bo5bo5bo223b$189bo3bo32bo3bo3b2obo223b$189b4o13b4o18bo5b3o\n        224b$206bo3bo16b2o232b$206bo19b4o231b$207bo2bo14b2ob2o231b$226b2o11b3o\n        219b$239bo221b$240bo220b$208b2o251b$207b2ob2o8bo240b$208b4o3bo4bobo\n        238b$209b2o3bo5bo2bo237b$213bo2bo6bo237b$209b2o3bo5bo2bo237b$208b4o3bo\n        4bobo238b$207b2ob2o8bo8b3o229b$192b4o5b2o5b2o19bo6bo224b$192bo3bo3b2ob\n        2o25bo3bo3bo222b$192bo8b4o28bo227b$193bo2bo5b2o29bo4bo222b$224b3o6b5o\n        223b$224bo236b$195b2o7bo20bo235b$194bobo3b2o7b5o247b$194bo18bo247b$\n        194b3o13b3o6b3o239b$205b2o4bo7bo241b$205b2o13bo240b3$192b4o265b$192bo\n        3bo13bo2bo247b$192bo16bo251b$193bo2bo12bo3bo247b$209b4o!`,\n        group: patternGroups.puffer\n    },\n    'gosper-glider-gun': {\n        name: 'Планерное ружьё Госпера',\n        code: `24bo11b$22bobo11b$12b2o6b2o12b2o$11bo3bo4b2o12b2o$2o8bo5bo3b2o14b$2o8b\n        o3bob2o4bobo11b$10bo5bo7bo11b$11bo3bo20b$12b2o!`,\n        group: patternGroups.gun\n    },\n    'simkin-glider-gun': {\n        name: 'Планерное ружьё Симкина',\n        code: `2o5b2o$2o5b2o2$4b2o$4b2o5$22b2ob2o$21bo5bo$21bo6bo2b2o$21b3o3bo3b2o$\n        26bo4$20b2o$20bo$21b3o$23bo!`,\n        group: patternGroups.gun\n    },\n    'ak-94': {\n        name: 'AK-94',\n        code: `7bo7bo7b2o$7b3o5b3o5b2o$10bo7bo$9b2o6b2o16b2o$30b2o2bo2bo$30bobo2b2o$\n        33b2o$5bo28bo$5b3o26bob2o$8bo22b2obo2bo$7b2o22b2ob2o3$17bo$2b2ob2o9bob\n        o10b2o$o2bob2o8bo3bo9bo$2obo11bo3bo10b3o$3bo11bo3bo12bo$3b2o11bobo$b2o\n        2bobo9bo$o2bo2b2o$b2o16b2o$19bo$13b2o5b3o$13b2o7bo!`,\n        group: patternGroups.gun\n    },\n    'slide-gun': {\n        name: 'Скользящее ружьё',\n        code: `56b2o51b$56b2o51b2$78bo30b$78bobo28b$81b2o6b2o18b$38b2o27b2o12b2o4bo3b\n        o17b$38b2o16b3o8b2o12b2o3bo5bo8b2o6b$78bobo4b2obo3bo8b2o6b$56bobo19bo\n        7bo5bo16b$55b5o27bo3bo17b$54b2o3b2o4b2o22b2o18b$54b2o3b2o3bo2bo11bo29b\n        $64bo12b2o30b$64bo13b2o29b$64bob2o41b$66b2o41b2$83b2o24b$59b2o4b2o15b\n        2o10bobo12b$59bo5b2o17bo8bo2bo12b$60b3o16b2o11b2o10b2o3b$62bo16bobo8b\n        2o3bo8b2o3b$74b2o6bo9b2o5b2o8b$73bo2bo2bo2bo10bo2bo4bo7b$73b3o6bo11bob\n        o12b$46b3o22b3o5bobo27b$48bo15bo5bobo6b2o28b$47bo14b2o6bo38b$63b2o4b2o\n        38b$55bo53b$35b2o17bobo52b$35bo18b2obo14b2o35b$24bo8bobo18b2ob2o14bo\n        35b$24b4o5b2o19b2obo15bobo10bo22b$8bo16b4o15b2o8bobo4b2o11b2o9b4o20b$\n        7bobo5b2o8bo2bo14bobo9bo5bobo7bo12b2ob4o5b2o11b$5b2o3bo14b4o14bo19bo6b\n        2o11b3ob2o3bo3bo2bo9b$2o3b2o3bo4bobob2o3b4o14b2o19b2o5bobo11b2ob2o3bo\n        7bo8b$2o3b2o3bo5b2o3bo2bo60b5o3bo6bo6b2o$7bobo10bo18b2o45bo3b3o7bo6b2o\n        $8bo8bo2bo10b3o4bobo27b2o26bo2bo9b$33bo3b3o28bo2bo24b2o11b$32bo4b2o70b\n        $40b2o26bo2bo12bo24b$27bo11b3o25bo2bo11b2o25b$28bo38bobo12b3o24b$28bo\n        39bo11b3o26b$24bo2bo11b2o39b2o27b$6bo5b2o9bo15b2o27b2o39b$4bo3bo3b3o\n        10bo42b2o16b2o9bo11b$8bo5b2obo11bo55b4o7bobo10b$3bo5bo4bo2bo10b2o50bob\n        o2bo2b3o5b2obo9b$3b2o9b2obo9b2o4b2o2b2o40bo2bo2b2o9b2ob2o3b2o3b$12b3o\n        11b3o4b2o2b2o31b2o6b2o9bo6b2obo4b2o3b$12b2o13b2o4b2o35b2o4b2o3bo8bo5bo\n        bo10b$28b2o48b2o10bo6bo11b$29bo49bo2bo26b$80bobo!`,\n        group: patternGroups.gun\n    },\n    block: {\n        name: 'Блок, 1',\n        code: `2o$2o!`,\n        group: patternGroups.oscillator\n    },\n    blinker: {\n        name: 'Мигалка, 2',\n        code: `3o!`,\n        group: patternGroups.oscillator\n    },\n    'figure-8': {\n        name: 'Фигура 8, 8',\n        code: `2o4b$2obo2b$4bob$bo4b$2bob2o$4b2o!`,\n        group: patternGroups.oscillator\n    },\n    '43P18': {\n        name: '43P18, 18',\n        code: `4bo$4obo$3obobo$5bobo$6bo$5b2o$5b2o3bo$5b2o2bobob2o$13b2o3$7bo2bo$7bo$\n        6bo4bo$5bobo2b2o$3b2obo3$3bo2bo$5b2o!`,\n        group: patternGroups.oscillator\n    },\n    beluchenko: {\n        name: 'Осциллятор Белученко, 37',\n        code: `11b2o11b2o11b$11b2o11b2o11b3$6bo23bo6b$5bobo5bo9bo5bobo5b$4bo2bo5bob2o\n        3b2obo5bo2bo4b$5b2o10bobo10b2o5b$15bobobobo15b$16bo3bo16b2$2o33b2o$2o\n        33b2o$5b2o23b2o5b2$6bobo19bobo6b$6bo2bo17bo2bo6b$7b2o19b2o7b2$7b2o19b\n        2o7b$6bo2bo17bo2bo6b$6bobo19bobo6b2$5b2o23b2o5b$2o33b2o$2o33b2o2$16bo\n        3bo16b$15bobobobo15b$5b2o10bobo10b2o5b$4bo2bo5bob2o3b2obo5bo2bo4b$5bob\n        o5bo9bo5bobo5b$6bo23bo6b3$11b2o11b2o11b$11b2o11b2o!`,\n        group: patternGroups.oscillator\n    },\n    '60P312': {\n        name: '60P312, 312',\n        code: `20b2o$20b2o4$9b2o$8bo2bo10b2o$9b2o11bo$22bo12bo$23bo10bobo$34bobo$35bo\n        7$32bo2bo$33b3o$2o38b2o$2o38b2o$6b3o$6bo2bo7$6bo$5bobo$5bobo10bo$6bo\n        12bo$19bo11b2o$18b2o10bo2bo$31b2o4$20b2o$20b2o!`,\n        group: patternGroups.oscillator\n    }\n};\n\nconst cache = {};\nfunction getDataFromRLE(RLEString) {\n    if (RLEString in cache) {\n        return cache[RLEString];\n    }\n    const s = RLEString.replace(/\\s|\\n/g, '').split('!')[0];\n    const rows = s.split('$');\n    const result = [];\n    let j = 0; // номер строки\n    let maxI = 0;\n    for (const row of rows) {\n        const parts = row.match(/\\d*[bo]/g);\n        let i = 0; // номер столбца\n        for (const part of parts) {\n            // 5bobo10bo -> 5, 1, 1, 1, 10, 1\n            const l = part.length === 1 ? 1 : Number(part.slice(0, -1));\n            if (part.endsWith('o')) {\n                // живые клетки записываем явно\n                const end = i + l;\n                while (i < end) {\n                    result.push([j, i]);\n                    i++;\n                }\n            } else {\n                // мёртвые пропускаем\n                i += l;\n            }\n        }\n        if (i > maxI) {\n            maxI = i;\n        }\n        const linesCount = row.match(/\\d+$/);\n        if (linesCount) {\n            // пропускаем пустые строки\n            j += Number(linesCount[0]);\n        } else {\n            j++;\n        }\n    }\n    const data = {array: result, width: maxI, height: j}\n    cache[RLEString] = data;\n    return data;\n}\n\n\nlet gameTimeout;\n\nconst Game = Component.Game(({\n    props,\n    state,\n    hooks\n}) => {\n    const {\n        H = 500, W = 1000\n    } = props;\n    state.init({\n        i: 0,\n        size: 0,\n        stop: true,\n        H,\n        W,\n        paint: false,\n        rule: {\n            new: {\n                2: true,\n                3: true\n            },\n            old: {\n                3: true\n            }\n        },\n        custom: false,\n        pattern: '3-engine-cordership-rake'\n    });\n\n    let canvas, img_data, data, ctx, fieldState, fieldStateNext;\n\n\n    hooks.didMount(() => {\n        const {\n            H,\n            W,\n            pattern\n        } = state();\n\n        if (gameTimeout) {\n            window.clearTimeout(gameTimeout);\n            gameTimeout = null;\n        }\n\n        fieldState = new Array(H * W);\n        fieldStateNext = new Array(H * W);\n        for (let i = 0; i < H * W; i++) {\n            fieldState[i] = false;\n            fieldStateNext[i] = false;\n        }\n\n        const startData = getDataFromRLE(patterns[pattern].code);\n        set_life(startData.array, startData.height, startData.width);\n\n        canvas = document.getElementById('field');\n        ctx = canvas.getContext('2d', {\n            alpha: false\n        });\n        img_data = ctx.getImageData(0, 0, W, H);\n        data = img_data.data;\n        for (let k = 0; k < H * W * 4; k++) {\n            data[k] = (k + 1) % 4 == 0 ? 255 : 0;\n        }\n\n        draw();\n        state.set({size: fieldState.reduce((sum, x) => sum += x)});\n    });\n\n    function paintControl() {\n        const {paint} = state();\n        if (!paint) {\n            canvas.onmousedown = null;\n            canvas.onmouseup = null;\n            canvas.onmouseout = null;\n            canvas.onmousemove = null;\n            return;\n        }\n        canvas.onmousedown = startDrawing;\n        canvas.onmouseup = stopDrawing;\n        canvas.onmouseout = stopDrawing;\n        canvas.onmousemove = draw;\n\n        let context = ctx;\n        let isDrawing;\n\n        context.strokeStyle = 'rgb(255,0,0)';\n        context.lineWidth = 1;\n\n        let pause = false;\n        const {x, y} = canvas.getBoundingClientRect();\n\n        function startDrawing(e) {\n\n            // Начинаем рисовать\n            isDrawing = true;\n            if (!state().stop) {\n                state.set({stop: true});\n                pause = true;\n            }\n\n            // Создаем новый путь (с текущим цветом и толщиной линии)\n            context.beginPath();\n\n            // Нажатием левой кнопки мыши помещаем \"кисть\" на холст\n            context.moveTo(e.clientX - x, e.clientY - y);\n        }\n\n\n        function draw(e) {\n            if (isDrawing == true) {\n                // Определяем текущие координаты указателя мыши\n                var xd = e.clientX - x;\n                var yd = e.clientY - y;\n\n                // Рисуем линию до новой координаты\n                context.lineTo(xd, yd);\n                context.stroke();\n            }\n        }\n\n        function stopDrawing() {\n            isDrawing = false;\n\n            const {W, H} = state();\n            img_data = ctx.getImageData(0, 0, W, H);\n            data = img_data.data;\n            for (let k = 0; k < H * W; k++) {\n                fieldState[k] = data[k * 4] === 255;\n            }\n\n            if (pause) {\n                state.set({stop: false, i: 0}, life);\n                pause = false;\n            }\n        }\n    }\n\n\n    function torsum(i, j) {\n        const {\n            H,\n            W\n        } = state();\n        // положение строки над текущей клеткой\n        const i_top_W = (i ? i - 1 : H - 1) * W;\n        // положение строки под текущей клеткой\n        const i_down_W = (H - 1 - i ? i + 1 : 0) * W;\n        // положение строки текущей клетки\n        const i_W = i * W;\n        // столбец слева от текущей клетки\n        const j_l = j ? j - 1 : W - 1;\n        // столбец справа от текущей клетки\n        const j_r = W - 1 - j ? j + 1 : 0;\n        return (\n            +fieldState[i_top_W + j_l] +\n            fieldState[i_top_W + j] +\n            fieldState[i_top_W + j_r] +\n            fieldState[i_W + j_l] +\n            fieldState[i_W + j_r] +\n            fieldState[i_down_W + j_l] +\n            fieldState[i_down_W + j] +\n            fieldState[i_down_W + j_r]\n        );\n    }\n\n    function set_life(array, height, width) {\n        const {W, H} = state();\n        const getMiddle = x => (x - x % 2) / 2;\n        const startX = getMiddle(W - (width || 0));\n        const startY = getMiddle(H - (height || 0));\n        for (const e of array) {\n            const index = (startY + e[0]) * W + startX + e[1];\n            fieldState[index] = true;\n            fieldStateNext[index] = true;\n        }\n        state.set({size: array.length});\n    }\n\n    function clear() {\n        const {W, H} = state();\n        for (let k = 0; k < H * W * 4; k++) {\n            data[k] = (k + 1) % 4 === 0 ? 255 : 0;\n        }\n        for (let k = 0; k < H * W; k++) {\n            fieldState[k] = (data[k * 4] === 255);\n        }\n        ctx.putImageData(img_data, 0, 0);\n        state.set({stop: true, i: 0, size: 0});\n    }\n\n    function draw() {\n        const {H, W} = state();\n        for (let k = 0; k < H * W; k++) {\n            if (+fieldState[k] !== !data[k * 4 + 1]) {\n                data[k * 4] = fieldState[k] ? 255 : 0;\n            }\n        }\n        ctx.putImageData(img_data, 0, 0);\n    }\n\n    function step() {\n        const {rule, H, W} = state();\n        let i, j, k = 0;\n        for (i = 0; i < H; i++) {\n            for (j = 0; j < W; j++) {\n                const sum = torsum(i, j);\n                if (fieldState[k]) {\n                    fieldStateNext[k] = Boolean(rule.new[String(sum)]);\n                } else {\n                    fieldStateNext[k] = Boolean(rule.old[String(sum)]);\n                }\n                k++;\n            }\n        }\n        for (k = 0; k < H * W; k++) {\n            fieldState[k] = fieldStateNext[k];\n        }\n    }\n\n    function one_step() {\n        step();\n        draw();\n        state.set(prevState => ({i: prevState.i + 1}));\n    }\n\n    function life() {\n        const {stop} = state();\n        if (!stop) {\n            one_step();\n            state.set({size: fieldState.reduce((sum, x) => sum += x)});\n            gameTimeout = setTimeout(life, 0);\n        } else if (gameTimeout) {\n            window.clearTimeout(gameTimeout);\n            gameTimeout = null;\n        }\n    }\n\n    function onRuleChange(type, i, e) {\n        const index = String(i);\n        let prevStop;\n        state.set(prev => {\n            prevStop = prev.stop;\n            return {\n                ...prev,\n                stop: true,\n                rule: {\n                    ...prev.rule,\n                    [type]: {\n                        ...prev.rule[type],\n                        [index]: !prev.rule[type][index]\n                    }\n                }\n            };\n        }, () => state.set({stop: prevStop}));\n    }\n\n    function getRuleCaption(type) {\n        const {rule} = state();\n        const result = [];\n        for (const key of Object.keys(rule[type])) {\n            if (rule[type][key]) {\n                result.push(key);\n            }\n        }\n        return result.join('');\n    }\n\n    return () => {\n        const {\n            stop,\n            H,\n            W,\n            i,\n            size,\n            rule,\n            paint,\n            custom,\n            pattern\n        } = state();\n\n        return E.div(\n            Breadcrumbs.items([['Проекты', 'projects'], ['Игра «Жизнь»']]),\n            E.div.class(b())(\n                E.div(\n                    'Начальная конфигурация',\n                    E.br,\n                    E.sup('имеет смысл для классической версии, правила B3/S23'),\n                    E.br,\n                    E.div.style`\n                        margin: 4px 0;\n                        margin-right: 8px;\n                        display: inline-block;\n                    `(\n                        Select.onChange(e => {\n                            const value = e.target.value;\n                            state.set({pattern: value});\n                        })\n                            .values(Object.keys(patterns).map(patternKey => ({\n                                value: patternKey,\n                                title: patterns[patternKey].name,\n                                group: patterns[patternKey].group,\n                                selected: state().pattern === patternKey\n                            })))\n                    ),\n                    Button.onClick(() => {\n                        const {pattern} = state();\n                        const data = getDataFromRLE(patterns[pattern].code);\n                        clear();\n                        set_life(data.array, data.height, data.width);\n                        draw();\n                    })('Установить'),\n                    E.div(\n                        Checkbox\n                            .checked(custom)\n                            .onClick(() => state.set(prev => ({custom: !prev.custom})))\n                            ('код конфигурации'),\n                        E.br,\n                        custom && E.textarea.style`\n                            height: 4em;\n                            min-height: 4em;\n                            max-height: 50vh;\n                            width: ${W}px;\n                            min-width: ${W}px;\n                            max-width: ${W}px;\n                        `(\n                            patterns[state().pattern].code\n                                .replace(/\\s|\\n/g, '')\n                                .split('!')[0]\n                        )\n                    )\n                ),\n                E.div.class(b('actions'))(\n                    Button.onClick(() => {\n                        state.set(prevState => ({\n                            stop: !prevState.stop\n                        }), life);\n                    })(\n                        E.div.title(stop ? 'play' : 'stop').style`\n                            width: 1em;\n                            height: 1em;\n                            margin: 4px 8px;\n                        `(stop ? Icon.Play : Icon.Pause)\n                    ),\n                    Button.disabled(!stop).onClick(() => one_step())(\n                        E.div.title('single step')(\n                            E.div.style`\n                                width: 1em;\n                                height: 1em;\n                                margin: 4px 8px;\n                                margin-right: 2px;\n                                display: inline-block\n                            `(Icon.StepForward),\n                            E.sup('1'),\n                        )\n                    ),\n                    Button.class(b('paint', {active: paint})).onClick(() => {\n                        state.set(prev => ({paint: !prev.paint}), paintControl);\n                    })(\n                        E.div.title('paint').style`\n                            width: 1em;\n                            height: 1em;\n                            margin: 4px 8px;\n                        `(Icon.PencilAlt)\n                    ),\n                    Button.onClick(() => clear())(\n                        E.div.title('clear').style`\n                            width: 1em;\n                            height: 1em;\n                            margin: 4px 8px;\n                        `(Icon.Ban)\n                    ),\n                    E.div.style`\n                        display: inline-grid;\n                        grid-template-columns: repeat(2, auto);\n                        margin-left: 1em; gap: 8px;\n                    `(\n                        E.div`Поколение`,\n                        E.div(E.b(`${i}`)),\n                        E.div`Популяция`,\n                        E.div(E.b(`${size}`)),\n                    ),\n                ),\n                E.br,\n                E.canvas.id('field').width(W).height(H).class(b('canvas', {paint})),\n                E.p(`Текущее правило: B${getRuleCaption('old')}/S${getRuleCaption('new')}`),\n                E.br,\n                E.div(\n                    E.p('Зарождение жизни'),\n                    range(0, 8).map(i =>\n                        Checkbox\n                            .checked(rule.old[`${i}`])\n                            .onChange(onRuleChange.bind(this, 'old', i))\n                        (`${i}`)\n                    )\n                ),\n                E.div(\n                    E.p('Продление жизни'),\n                    range(0, 8).map(i =>\n                        Checkbox\n                            .checked(rule.new[`${i}`])\n                            .onChange(onRuleChange.bind(this, 'new', i))\n                        (`${i}`)\n                    )\n                ),\n                E.br,\n                E.p`\n                    Представлена расширенная версия клеточного автомата ${E.a.href('https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life')('Игра Жизнь')}.\n                    Правила касаются общей суммы клеток в окрестности Мура.\n                    Начальные конфигурации взяты с ${E.a.href('https://www.conwaylife.com/wiki/Main_Page')('тематического вики-сайта')}.\n                    Подробнее о реализации читайте в ${E.a.href('/?/blog/6')('блоге')}.\n                `\n            )\n        );\n    }\n});\n\nexport default Game;\n","import {\n    E,\n    Component,\n    RouteLink,\n    css,\n    block,\n    style\n} from '../../utils/index.js';\nimport {Button} from '../../blocks/index.js';\n\nimport './About.less';\n\nconst b = block('about');\n\nconst about = E.div.class(b())(\n    E.p('Программирую'),\n    E.p(E`Работаю в ${E.a.href('https://yandex.ru')('Яндексе')}`),\n    E.p('Люблю математику'),\n    E.p(E`Мой ${E.a.href('https://github.com/nikalexxx')('Github')}`)\n);\n\nexport default about;\n","import {\n    E,\n    Component,\n    block,\n    style\n} from './utils/index.js';\n\nimport {Button} from './blocks/index.js';\n\nconst b = block('my-component');\n\nconst MyComponent = Component.MyComponent(({props, state}) => {\n    state.init({show: true});\n\n    return () => {\n        const {state: visible} = props;\n        const {show} = state();\n        const elem = show ? E.span('elem') : null;\n        return E.div.class(b())(\n            elem,\n            E.span\n                .style(style({color: {ok: 'green', error: 'red'}[visible]}))\n                .class(b('state'))(\n                    visible\n                ),\n            E.span.onClick((e) => {\n                // console.log({show});\n                state.set(prevState => ({show: !prevState.show}));\n            })((show ? 'hide' : 'show'))\n        )\n    }\n});\n\nexport default MyComponent;\n","const map = {\n\t\"\": {},\n\t\"design\": {\n\t\t\"colors\": {\n\t\t\t\":color\": {}\n\t\t}\n    },\n    \"sandbox\": {\n        \":id\": {}\n    },\n    \"games\": {\n        \"gameOfLife\": {}\n    }\n};\n\nexport default map;\n","import {\n    E,\n    M,\n    Component,\n    RouteLink,\n    getRouterState,\n    Switch,\n    block,\n    style\n} from '../../utils/index.js';\nimport {\n    Colors,\n    GameOfLife,\n    Design,\n    Blog,\n    Post,\n    About,\n    Projects,\n    Unicode,\n    Physics,\n    StandardModel\n} from '../index.js';\nimport {Button} from '../../blocks/index.js';\nimport {Icon} from '../../icons/index.js';\nimport MyComponent from '../../MyComponent.js';\nimport map from '../../map.js';\nimport {book} from '../../utils/book.js';\n\nimport './App.less';\n\nconst b = block('app');\n\nconst routes = params => ({\n    '/': Blog,\n    'about': About,\n    'book': E.div(book),\n    'design': Design,\n    'design/colors': Colors,\n    // 'my/:state': E.div(\n    //     MyComponent.state(params.state),\n    //     MyComponent.state('ok'),\n    //     MyComponent.state('error'),\n    //     E.ul(\n    //         E.li`Поправить движок`,\n    //         E.li`Меню для мобильной версии`,\n    //         E.li`Формат электронной книги`,\n    //         E.li`Калькулятор`,\n    //         E.li`Построитель графиков`,\n    //         E.li`Схема метро(позже интерактивная)`\n    //     )\n    // ),\n    'blog': Blog,\n    'blog/:id': Post.id(params.id),\n    'projects': Projects,\n    'projects/unicode': Unicode,\n    'projects/game-of-life': GameOfLife,\n    'physics': Physics,\n    'physics/standard-model': StandardModel\n})\n\nconst Menu = Component.Menu(({state}) => {\n    const path = () => getRouterState(routes).path;\n    state.init({i: 0});\n    window.addEventListener('historyUpdate', () => state.set(prev => ({i: prev.i++})));\n    function renderLink(href, title) {\n        const current = path().startsWith(href) || path() === '/' && href === 'blog';\n        // console.log(href, path());\n        return RouteLink.href(href)(\n            E.div.class(b('menu-link', {current}))(\n                title\n            )\n        );\n    }\n    return () => E.div(\n        renderLink('blog', 'Блог'),\n        renderLink('about', 'Кто я?'),\n        // renderLink('book', 'Книга'),\n        renderLink('projects', 'Проекты'),\n        renderLink('physics', 'Физика'),\n        renderLink('design', 'Дизайн'),\n        // renderLink('gameOfLife', 'Игра Жизнь'),\n        // renderLink('my/ok', 'тест')\n    )\n});\n\nconst Header = Component.Header(({state, hooks}) => {\n    state.init({\n        theme: 'dark'\n    });\n\n    hooks.didMount(() => {\n        const savedTheme = localStorage.getItem('theme');\n        if (savedTheme) {\n            state.set({theme: savedTheme});\n        }\n        setTheme();\n    });\n\n    function setTheme() {\n        const {theme} = state();\n        localStorage.setItem('theme', theme);\n        const classList = document.body.classList;\n        if (theme === 'light') {\n            classList.add('theme_light');\n        } else {\n            classList.remove('theme_light');\n        }\n        window.dispatchEvent(new CustomEvent('theme', {detail: {theme}}));\n    }\n\n    function toogleTheme() {\n        state.set(prevState => ({\n            theme: prevState.theme === 'dark' ? 'light' : 'dark'\n        }), () => setTheme());\n    }\n\n    function getIcon() {\n        const {theme} = state();\n        return {\n            dark: () => E.div.style('width: 1em; height: 1em;')(Icon.Moon),\n            light: () => E.div.style('width: 1em; height: 1em;')(Icon.Sun)\n        }[theme]();\n    }\n\n    return () => E.header.class(b('header'))(\n        RouteLink.href('/')(\n            E.h1.style(style({textAlign: 'center'}))('Александр Николаичев')\n        ),\n        Button.onClick(toogleTheme)(getIcon())\n    );\n})\n\nconst Page = E.div.class(b())(\n    // E.div.class(b('header-menu'))(\n    //     E.div('Alexandr Nikolaichev'),\n    //     E.div.class(b('scroll-top')).onClick(() => window.scrollTo({top: 0}))('▲ ▲ ▲')\n    // ),\n    Header,\n    E.nav.class(b('menu'))(Menu),\n    E.main.class(b('content'))(Switch.routes(routes)),\n    E.footer.class(b('footer'))('© 2019-2020 Alexandr Nikolaichev')\n);\n\nexport default Page;\n","        export {default as Breadcrumbs} from './Breadcrumbs/Breadcrumbs.js';\n    export {default as Post} from './Post/Post.js';\n    export {default as Blog} from './Blog/Blog.js';\n    export {default as Physics} from './Physics/Physics.js';\n    export {default as StandardModel} from './StandardModel/StandardModel.js';\n    export {default as Projects} from './Projects/Projects.js';\n    export {default as Colors} from './Colors/Colors.js';\n    export {default as Unicode} from './Unicode/Unicode.js';\n    export {default as Design} from './Design/Design.js';\n    export {default as GameOfLife} from './GameOfLife/GameOfLife.js';\n    export {default as About} from './About/About.js';\nexport {default as App} from './App/App.js';\n","import {App} from './components/index.js';\nimport {setLogger, logAllLevels} from './utils/logger.js';\nimport {DOM} from './utils/element.js';\n\nsetLogger({\n    component: {\n        props: {\n            [logAllLevels]: true\n        }\n    }\n});\nsetLogger(false); // for production\n\ndocument.getElementById('root').append(DOM(App));\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}