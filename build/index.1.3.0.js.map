{"version":3,"sources":["utils/bem.js","utils/style.js","utils/symbols.js","utils/clone.js","utils/diff.js","utils/element.js","utils/css.js","utils/children.js","utils/logger.js","utils/component.js","utils/router.js","utils/custom.js","utils/consoleStyle.js","utils/class.js","utils/index.js","components/Breadcrumbs/Breadcrumbs.js","data/blog/index.js","blocks/Button/Button.js","blocks/index.js","utils/book.js","components/Post/Post.js","components/Blog/Blog.js","components/Physics/Physics.js","components/StandardModel/StandardModel.js","components/Projects/Projects.js","components/Colors/Colors.js","components/Unicode/Unicode.js","components/Design/Design.js","components/GameOfLife/GameOfLife.js","components/About/About.js","icons/Sun.js","icons/Moon.js","icons/index.js","MyComponent.js","map.js","components/App/App.js","components/index.js","index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["block","blockName","String","element","modifiers","mixin","cssStack","elementName","push","mod","value","join","props","cssProps","prop","name","replace","x","toLowerCase","elementSymbol","Symbol","componentSymbol","getClone","cloneNode","Error","nodeType","clone","E","tagName","Object","keys","eventListeners","length","eventName","listeners","listener","addEventListener","Array","from","childNodes","child","cloneChild","append","diffObject","t","delete","primitive","array","raw","D","meta","new","isPrimitive","diff","A","B","toString","isArray","lA","lB","max","min","result","i","indexDiff","key","keyDiff","symbols","namespaceKeys","namespaces","getNode","node","elem","strToArray","strings","list","DOM","elementObject","document","createTextNode","namespace","children","createElementNS","startsWith","setAttribute","values","map","e","dom","parent","ref","patchDOM","upd","parentNode","remove","undefined","nodeValue","replaceWith","newDom","removeAttribute","removeEventListener","deleteListeners","updatedChildKeys","_key","removeChild","newChildren","example","div","class","id","style","span","p","elementStructure","T","Number","data","diffStructure","diffFunctionStructure","Function","params","diffElements","_forceUpdate","_update","diffProps","diffEventListeners","diffChildren","k","diffItems","getProps","attributes","attrs","getChildren","hasAttribute","getAttribute","getElementFromDOM","domElement","namespaceURI","getElement","Proxy","get","target","tag","create","toUpperCase","slice","console","error","nodes","filter","dublicatedKeys","Set","index","add","size","stableElement","items","apply","thisArg","argArray","S","M","getDirPath","fileUrl","URL","pathname","split","sourceUrl","relativePath","type","includes","pathRelative","test","sourcePath","fullPath","Promise","resolve","link","rel","href","head","querySelector","less","script","src","update","window","setTimeout","_log","condition","f","log","loggerSymbol","logAllLevels","setLogger","settings","getCondition","levels","current","level","createLogProxy","set","state","arg","newObject","assign","attr","logAdd","color","backgroundColor","logRemove","getElem","component","fragment","createDocumentFragment","isTypeChanged","newElement","nodeName","componentConstructor","componentName","handlerErrors","makeComponent","componentNameSymbol","didMountEvent","source","dispatchEvent","CustomEvent","detail","willUnmountEvent","prevState","handlerIndex","handlers","count","indexes","bump","initState","startState","changedStateFields","setState","newState","callback","newStateObject","change","field","rerender","changeState","names","stateClass","init","onChange","didMount","onDidMount","event","didMountListener","firstAppend","storage","elements","mo","MutationObserver","mutations","observer","closest","first","innerHTML","disconnect","observe","childList","subtree","render","hooks","componentData","diffElement","item","setComponentData","Component","historyUpdate","pushState","title","url","history","replaceState","getRouterState","routes","location","search","path","URLSearchParams","stack","param","resultParams","resultPath","pathStack","equal","RouteLink","onLinkClick","preventDefault","a","onClick","Switch","getCustom","CustomElement","shadow","attachShadow","mode","slot","HTMLElement","customName","customElements","define","Custom","css","text","consoleStyle","textList","styles","args","s","v","local","mix","background","_func","_var","_const","_op","func","_b","_i","_pre","_h","l","text1","styles1","Class","createClass","fields","getter","initialValues","constructor","o","object","b","Breadcrumbs","last","creationTime","tags","Button","button","createBook","to","types","html","V","stringElements","brs","match","tail","br","indexOf","subbrs","j","code","pre","h","n","img","alt","external","markdown","repeat","browserConsole","Post","blog","appVersion","fetch","then","blob","default","catch","template","iframe","iframeElem","getElementById","height","contentWindow","body","clientHeight","h2","em","Date","toLocaleString","year","month","day","timezone","hour","minute","second","Blog","total","sort","keyA","keyB","getMs","h3","Physics","padding","sup","particles","symbol","sub","charge","spin","mass","group","interaction","modifier","category","StandardModel","renderTile","view","firstChild","dataset","prev","strong","fermions","bosons","anti","normal","vector","scalar","leptons","quarks","part","start","Projects","colors","currentListener","Colors","getContrastCondition","rgb","classList","contains","Math","theme","getComputedStyle","documentElement","getPropertyValue","trim","hex","parseInt","contrast","border","colorNode","limit","getUnicodeList","end","table","fromCharCode","Unicode","startI","endI","active","Design","fontSize","fontWeight","range","Game","getState","H","W","stop","canvas","img_data","ctx","rule","old","fieldState","fieldStateNext","startFieldState","set_life","getContext","alpha","getImageData","draw","life","torsum","i_top_W","i_down_W","i_W","j_l","j_r","clear","putImageData","step","sum","one_step","reduce","rules","update_rule","querySelectorAll","checked","width","input","label","initGame","paint","onmousedown","startDrawing","onmouseup","stopDrawing","onmouseout","onmousemove","context","isDrawing","strokeStyle","lineWidth","pause","beginPath","moveTo","pageX","offsetLeft","pageY","offsetTop","y","lineTo","stroke","about","SunIcon","svg","focusable","role","xmlns","viewBox","_props","fill","d","MoonIcon","Icon","Sun","Moon","MyComponent","show","visible","ok","About","book","Menu","renderLink","Header","savedTheme","localStorage","getItem","setTheme","setItem","toogleTheme","getIcon","dark","light","header","h1","textAlign","Page","nav","main","footer","App","bundleURL","getBundleURLCached","getBundleURL","err","matches","getBaseURL","exports","bundle","require","updateLink","newLink","onload","now","insertBefore","nextSibling","cssTimeout","reloadCSS","links","module","OVERLAY_ID","OldModule","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","JSON","parse","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","overlay","createErrorOverlay","appendChild","createElement","stackTrace","innerText","getParents","modules","parents","dep","concat","deps","cached","cache","some","cb"],"mappings":"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CAAU,EAAV,EAAc;AACjBC,MAAAA,GADiB,eACbC,MADa,EACL/H,IADK,EACC;AACd,eAAOA,IAAI,IAAIiU,MAAR,GAAiBA,MAAM,CAACjU,IAAD,CAAN,EAAjB,GAAkCiF,SAAzC;AACH;AAHgB,KAAd,CAAP;AAKH,GARD;AASH,EAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;;;AAEA,IAAMoP,CAAC,GAAG;AAAC3C,EAAAA,CAAC,EAAE;AAAJ,CAAV;;AAEA,SAASjN,CAAT,CAAW6P,MAAX,EAAmB,CAAE;;AAErB7P,CAAC,CAAC4P,CAAD,CAAD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxIA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AwBVA,IAAIoO,SAAS,GAAG,IAAhB;;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAIjiB,KAAJ,EAAN;AACD,GAFD,CAEE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","file":"index.1.3.0.js","sourceRoot":"..","sourcesContent":["const block = blockName => {\n    const block = String(blockName);\n    return function(element, modifiers, mixin) {\n        const cssStack = [];\n        const elementName = block + (element ? `__${element}` : '');\n        cssStack.push(elementName);\n        for (const mod in modifiers) {\n            const value = modifiers[mod];\n            if (typeof value === 'boolean') {\n                if (value) {\n                    cssStack.push(`${elementName}_${mod}`);\n                }\n            } else {\n                cssStack.push(`${elementName}_${mod}_${value}`);\n            }\n        }\n        return cssStack.join(' ');\n    };\n}\n\nexport default block;\n","export default function (props = {}) {\n    const cssProps = [];\n    for (const prop in props) {\n        const name = prop.replace(/[A-Z]/g, x => '-' + x.toLowerCase());\n        cssProps.push(`${name}: ${props[prop]};`);\n    }\n    return cssProps.join(' ');\n}\n","export const elementSymbol = Symbol('element');\nexport const componentSymbol = Symbol('component');\n","import {elementSymbol, componentSymbol} from './symbols.js';\nimport {E} from './element.js';\n\nexport const getClone = element => {\n    // console.log('clone', element);\n    if (!element.cloneNode) {\n        throw new Error('clone не удался')\n        return element;\n    }\n    // console.log({element});\n    if (element.nodeType === 3) {\n        return element.cloneNode(false);\n    }\n    let clone = E[element.tagName.toLowerCase()];\n    if (elementSymbol in element) {\n        clone = clone[Symbol('props')](element[elementSymbol].props)();\n        // clone[elementSymbol] = element[elementSymbol];\n    } else {\n        clone = clone();\n    }\n    if (componentSymbol in element) {\n        clone[componentSymbol] = element[componentSymbol];\n        clone[componentSymbol].element = clone;\n        // element[componentSymbol].element = clone;\n    }\n    if (element[elementSymbol] && Object.keys(element[elementSymbol].eventListeners).length > 0) {\n        for (const eventName of Object.keys(element[elementSymbol].eventListeners)) {\n            const listeners = element[elementSymbol].eventListeners[eventName];\n            for (const listener of listeners) {\n                clone.addEventListener(eventName, listener, false);\n            }\n        }\n    }\n    for (const child of Array.from(element.childNodes)) {\n        const cloneChild = getClone(child);\n        clone.append(cloneChild);\n    }\n    return clone;\n}\n","\nconst diffObject = t => [\n    t.delete, // Symbol('delete') для удаления примитива\n    t.primitive, // новое значение примитива, заменяет предыдущее значение\n    {\n        [t.array]: t`?`(true), // указывает, что значение массив, ключи будут приводится к Number\n        [t.raw]: t`?`(true), // указывает, что объект нужно включать как есть, не разбирая рекурсивно\n        [t(String)]: t`?`(diffObject),\n        [t(Symbol)]: t`?`(diffObject) // для символьных свойств\n    }\n];\n\nconst D = {\n    delete: Symbol('delete'),\n    array: Symbol('array'),\n    raw: Symbol('raw'),\n    meta: Symbol('meta'),\n    new: Symbol('new')\n};\n\nexport const isPrimitive = value => {\n    return value !== new Object(value);\n}\n\nexport const raw = value => {\n    if (isPrimitive(value)) {\n        return value;\n    }\n    // return {\n    //     ...value,\n    //     [D.raw]: true,\n    //     [D.new]: value\n    // }\n    value[D.raw] = true;\n    value[D.new] = value;\n    return value;\n}\n\n\n// TODO: добавить поддержку циклических ссылок\nexport function diff(A, B) {\n    if (A === B) { // равенство по значению(для примитивов), либо по ссылке(для объектов)\n        return {};\n    }\n    if (isPrimitive(A)) {\n        if (isPrimitive(B)) {\n            return B;\n        } else {\n            return raw(B);\n        }\n    } else {\n        if (isPrimitive(B)) {\n            return B;\n        } else {\n            if (typeof A === 'function') { // для функций заменяем всё, возможно стоит добавить другую проверку\n                if (A === B) {\n                    return {};\n                } else if (A.toString() === B.toString()) {\n                    return {};\n                }\n                return raw(B);\n            } else if (Array.isArray(A)) {\n                if (Array.isArray(B)) { // сравнение массивов\n                    const lA = A.length;\n                    const lB = B.length;\n                    const max = lA > lB ? lA : lB;\n                    const min = lA < lB ? lA : lB;\n                    const result = {};\n                    for (let i = 0; i < max; i++) {\n                        if (i < min) { // сравниваем общую часть\n                            const indexDiff = diff(A[i], B[i]); // сравниваем элементы\n                            if (isPrimitive(indexDiff) || indexDiff === D.delete || Object.keys(indexDiff).length > 0 || indexDiff[D.raw]) {\n                                result[String(i)] = indexDiff; // добавляем только отличия\n                            }\n                        } else if (lA < lB) {\n                            result[String(i)] = B[i]; // новые элементы\n                        } else {\n                            result[String(i)] = D.delete; // удаляем лишние\n                        }\n                    }\n                    if (Object.keys(result).length > 0) {\n                        result[D.array] = true;\n                    }\n                    return result;\n                } else { // просто всё затираем\n                    return raw(B);\n                }\n            } else { // обычный объект\n                if (typeof B === 'function' || Array.isArray(B)) { // не обычный объект\n                    return raw(B);\n                } else { // сравнение объектов\n                    const result = {};\n                    for (const key of Object.keys(B)) {\n                        if (!(key in A)) {\n                            result[key] = raw(B[key]); // новые ключи добавляем как есть\n                        }\n                    }\n                    for (const key of Object.keys(A)) {\n                        if (key in B) {\n                            const keyDiff = diff(A[key], B[key]); // сравниваем рекурсивно\n                            if (isPrimitive(keyDiff) || keyDiff === D.delete || Object.keys(keyDiff).length > 0 || keyDiff[D.raw]) {\n                                result[key] = keyDiff; // добавляем только отличия\n                            }\n                        } else {\n                            result[key] = D.delete; // удаляем старые ключи\n                        }\n                    }\n                    return result;\n                }\n            }\n        }\n    }\n}\n\ndiff.symbols = D;\n\n// console.log(diff([1,2,3,6,8], [1,4,3,2]));\n// console.log(diff({a:[1]}, {a:[2]}));\n// console.log(diff({a:1,b:2, c:{}}, {a:2, c: {a:{s:{}}}}));\n// console.log(document.head);\n// console.log(document.body);\n// console.log(diff(document.head, document.body));\n","import {getClone} from './clone.js';\n\nimport {elementSymbol} from './symbols.js';\n\nimport {diff, isPrimitive, raw} from './diff.js';\n\n\n\nconst namespaceKeys = {\n    'http://www.w3.org/1999/xhtml': 0,\n    'http://www.w3.org/2000/svg': 1,\n    'http://www.w3.org/1998/Math/MathML': 2\n}\n\nconst namespaces = {\n    '0': 'http://www.w3.org/1999/xhtml',\n    '1': 'http://www.w3.org/2000/svg',\n    '2': 'http://www.w3.org/1998/Math/MathML'\n}\n\n\nexport function getNode(node) {\n    if (Array.isArray(node)) {\n        const result = [];\n        for (const elem of node) {\n            if (Array.isArray(elem)) {\n                result.push(...getNode(elem));\n            } else {\n                result.push(getNode(elem));\n            }\n        }\n        return result;\n    } else if (typeof node === 'function') {\n        return getNode(node());\n    } else {\n        return node;\n    }\n}\n\nconst strToArray = (strings, ...elements) => {\n    const list = [strings[0]];\n    for (let i = 1; i < strings.length; i++) {\n        list.push(elements[i-1], strings[i]);\n    }\n    return list;\n}\n\nexport const DOM = elementObject => {\n    if (isPrimitive(elementObject)) {\n        return document.createTextNode(elementObject);\n    }\n    const {namespace, tagName, props, children, eventListeners} = elementObject;\n    const element = document.createElementNS(namespaces[String(namespace)], tagName);\n    element[elementSymbol] = {};\n    for (const prop in props) {\n        if (prop.startsWith('_')) {\n            element[elementSymbol][prop] = props[prop];\n        } else {\n            element.setAttribute(prop, String(props[prop]));\n        }\n    }\n    for (const eventName of Object.keys(eventListeners)) {\n        const listener = eventListeners[eventName];\n        element.addEventListener(eventName, listener, false);\n    }\n    if (Object.keys(children).length) {\n        element.append(...Object.values(children).map(e => {\n            const dom = DOM(e);\n            if (!isPrimitive(e)) {\n                e.dom.parent = element;\n            }\n            return dom;\n        }));\n    }\n    elementObject.dom = {ref: element};\n    element[elementSymbol] = elementObject;\n    return element;\n}\n\nexport function patchDOM(dom, diffObject) {\n    const upd = dom.parentNode;\n    if (diffObject === diff.symbols.delete) {\n        if (upd) {\n            delete dom[elementSymbol];\n            dom.remove();\n            return;\n        } else {\n            return undefined;\n        }\n    }\n    if (isPrimitive(diffObject)) {\n\n        if (dom.nodeType === 3) { // текстовый узел\n            if (dom.nodeValue === String(diffObject)) {\n                return undefined; // строки совпали\n            } else {\n                if (upd) {\n                    dom.nodeValue = String(diffObject); // обновляем текст\n                    return;\n                } else {\n                    return document.createTextNode(diffObject);\n                }\n            }\n        } else {\n            if (upd) {\n                dom.replaceWith(document.createTextNode(diffObject));\n                return;\n            } else {\n                return document.createTextNode(diffObject);\n            }\n        }\n    }\n    const {props = {}, children = {}, eventListeners = {}, [diff.symbols.raw]: raw} = diffObject;\n    if (raw) {\n        if (upd) {\n            const newDom = DOM(diffObject);\n            dom.replaceWith(newDom);\n            if (!diffObject[diff.symbols.new].dom) {\n                diffObject[diff.symbols.new].dom = {};\n            }\n            diffObject[diff.symbols.new].dom.ref = newDom;\n\n            return;\n        } else {\n            return DOM(diffObject);\n        }\n    }\n\n    // обновление свойств\n    for (const prop in props) {\n        if (props[prop] === diff.symbols.delete) {\n            if (prop.startsWith('_')) {\n                delete dom[elementSymbol][prop];\n            } else {\n                dom.removeAttribute(prop);\n            }\n        } else {\n            if (prop.startsWith('_')) {\n                dom[elementSymbol][prop] = props[prop];\n            } else {\n                dom.setAttribute(prop, props[prop]);\n            }\n        }\n    }\n\n    // обновление перехватчиков событий\n    for (const eventName of Object.keys(eventListeners)) {\n        const listener = eventListeners[eventName];\n        if (listener === diff.symbols.delete) {\n            dom.removeEventListener(eventName, eventListeners[diff.symbols.meta].deleteListeners[eventName]);\n        } else {\n            if (!listener[diff.symbols.raw]) {\n                dom.removeEventListener(eventName, eventListeners[diff.symbols.meta].deleteListeners[eventName]);\n            }\n            dom.addEventListener(eventName, listener, false);\n        }\n    }\n\n    // обновление существующих потомков\n    const list = Array.from(dom.childNodes);\n    const updatedChildKeys = {};\n    for (let i = 0; i < list.length; i++) {\n        const child = list[i];\n        const key = (child[elementSymbol] || {})._key || String(i);\n        if (key in children) {\n            if (children[key] === diff.symbols.delete) {\n                dom.removeChild(child);\n            } else {\n                patchDOM(child, children[key]);\n                updatedChildKeys[key] = true;\n            }\n        }\n    }\n\n    // добавление новых потомков\n    const newChildren = [];\n    for (const key in children) {\n        if ((!children[key][diff.symbols.raw] && !isPrimitive(children[key])) || children[key] === diff.symbols.delete) {\n            continue;\n        }\n        if (!(key in updatedChildKeys)) {\n            newChildren.push(DOM(children[key]));\n        }\n    }\n    if (newChildren.length > 0) {\n        dom.append(...newChildren);\n    }\n\n    if (!diffObject[diff.symbols.new].dom) {\n        diffObject[diff.symbols.new].dom = {};\n    }\n    diffObject[diff.symbols.new].dom.ref = dom;\n\n    if (!upd) {\n        return dom;\n    }\n}\n\nconst example = E => E.div.class`example`.id`ex`.style(style)['data-value']`1`(\n    'string',\n    E.span`text`,\n    E.p('str'),\n    E`text v = ${E.span(2)}`,\n    [ // Fragment analog\n        E.div.style`color: red;`,\n        E.div.style`color: red;`('red'),\n        E.div.style`color: red;``red`,\n        E.div.style`color: red;``red ${E.span(1)}`, // red [Function]\n        E.div.style`color: red;`(E`red${E.span(1)}`) // red 1\n    ],\n    ...[1,2,3].map(i => E.i._key(i)(i)),\n    [1,2,3].map(i => E.i._key(i)(i))\n)\n\n\n\nconst elementStructure = T => ({\n    nodeType: T(Number),\n    namespace: T(String),\n    tagName: T(String),\n    props: T`?`({\n        [T(String)]: T(String)\n    }),\n    children: T`?`(Object)(T(elementStructure)),\n    data: T(String)\n});\n\nconst diffStructure = t => ({\n    nodeType: t`?`(Number), // перезаписывает тип узла\n    namespace: t`?`(String), // новое пространство имён\n    tagName: t`?`(String), // новый тег\n    props: t`?`({\n        [t(String)]: [t(String), t(null)] // переписать свойство, добавить, если нет, если null - удалить\n    }),\n    children: t`?`(Object)(t(diffStructure)), // рекурсивно повторить для потомков, лишние удалить, недостающие добавить, в будущем сопоставлять по ключу\n    data: t`?`(String), // поменять текстовый узел\n    delete: t`?`(true) // удалить элемент\n});\n\nconst diffFunctionStructure = t => t(Function)(({params}) =>\n    t({\n        params: {\n            A: t(elementStructure), // старый элемент\n            B: t(elementStructure) // новый элемент\n        }\n    })(t(diffStructure))\n);\n\n/*\nИспользовать хэши от пропсов и потомков\nв случае тектсовых нод - от значений\nможно вычислить уже на этапе создания элемента из кода\nхэш используем в качестве ключа элемента\nрассмотреть случай коллизий\n*/\nlet i = 0;\nexport function diffElements(A, B) {\n    // console.log({A, B});\n    if (!B) {\n        return diff.symbols.delete;\n    }\n    if (isPrimitive(A)) {\n        if (isPrimitive(B)) {\n            if (A !== B) {\n                return raw(B);\n            } else {\n                return {};\n            }\n        } else {\n            return raw(B);\n        }\n    }\n    if (isPrimitive(B)) {\n        return raw(B);\n    }\n    if (A.nodeType !== B.nodeType) {\n        return raw(B);\n    }\n    if (A.namespace !== B.namespace) {\n        return raw(B);\n    }\n    if (A.tagName !== B.tagName) {\n        return raw(B);\n    }\n    if (B.props._forceUpdate) {\n        return raw(B);\n    }\n    if ('_update' in B.props && !B.props._update) {\n        return {};\n    }\n    // console.time('diff props');\n    const diffProps = diff(A.props, B.props);\n    // console.timeEnd('diff props');\n    // console.time('diff events');\n    const diffEventListeners = diff(A.eventListeners, B.eventListeners);\n    for (const eventName of Object.keys(diffEventListeners)) {\n        if (diffEventListeners[eventName] === diff.symbols.delete) {\n            if (!diffEventListeners[diff.symbols.meta]) {\n                diffEventListeners[diff.symbols.meta] = {deleteListeners: {}};\n            }\n            diffEventListeners[diff.symbols.meta].deleteListeners[eventName] = A.eventListeners[eventName];\n        }\n    }\n    // console.timeEnd('diff events');\n    // const kc = 'diff children' + i;\n    // console.time(kc);\n\n    const diffChildren = {};\n    for (const key of Object.keys(B.children)) {\n        if (!(key in A.children)) {\n            diffChildren[key] = raw(B.children[key]); // новые ключи добавляем как есть\n        }\n    }\n    for (const key of Object.keys(A.children)) {\n        if (key in B.children) {\n            i++;\n            const k = 'children diff for key ' + key + i;\n            // console.time(k);\n            const diffItems = diffElements(A.children[key], B.children[key]); // сравниваем рекурсивно\n            if (isPrimitive(diffItems) || diffItems === diff.symbols.delete || Object.keys(diffItems).length > 0) {\n                diffChildren[key] = diffItems; // непустые добавляем\n            }\n            // console.timeEnd(k);\n        } else {\n            diffChildren[key] = diff.symbols.delete; // удаляем старые ключи\n        }\n    }\n    // console.timeEnd(kc);\n    // console.time('diff result');\n\n    const result = {};\n    if (Object.keys(diffProps).length > 0) {\n        result.props = diffProps;\n    }\n    if (Object.keys(diffEventListeners).length > 0) {\n        result.eventListeners = diffEventListeners;\n    }\n    if (Object.keys(diffChildren).length > 0) {\n        result.children = diffChildren;\n    }\n    result[diff.symbols.new] = B;\n    // console.timeEnd('diff result');\n\n    return result;\n}\n\nfunction getProps(attributes) {\n    if (!attributes) {\n        return {};\n    }\n    const attrs = Array.from(attributes);\n    const result = {};\n    for (const {name, value} of attrs) {\n        result[name] = value;\n    }\n    return result;\n}\n\nfunction getChildren(childNodes) {\n    if (!childNodes) {\n        return {};\n    }\n    const children = Array.from(childNodes);\n    const result = {};\n    for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        const key = child.hasAttribute && child.hasAttribute('data-key') ? child.getAttribute('data-key') : String(i);\n        result[key] = getElementFromDOM(child);\n    }\n    return result;\n}\n\nfunction getElementFromDOM(domElement) {\n    return {\n        nodeType: domElement.nodeType,\n        namespace: namespaceKeys[domElement.namespaceURI],\n        tagName: domElement.tagName,\n        props: getProps(domElement.attributes),\n        children: getChildren(domElement.childNodes),\n        data: domElement.data\n    }\n}\n\n// console.log(getElementFromDOM(document.head));\n// console.log(getElementFromDOM(document.body));\n// console.log(diffElements(getElementFromDOM(document.head), getElementFromDOM(document.body)));\n\nconst getElement = namespace => new Proxy(strToArray, {\n    get(target, tag) {\n        const create = (tagName = 'div', props = {}, children = []) => {\n            const element = {\n                namespace: namespaceKeys[namespace],\n                tagName,\n                props: {},\n                children: {},\n                eventListeners: {}\n            };\n            for (const prop in props) {\n                if (prop.length > 2 && prop.startsWith('on') && prop[2] === prop[2].toUpperCase()) {\n                    const eventName = prop[2].toLowerCase() + prop.slice(3);\n                    const listener = props[prop];\n                    if (typeof listener !== 'function') {\n                        console.error(new Error(`${eventName} listener is not function`));\n                        continue;\n                    }\n                    element.eventListeners[eventName] = listener;\n                } else {\n                    element.props[prop] = (props[prop]);\n                }\n            }\n            const nodes = [];\n            for (let node of children.filter(e => e)) {\n                node = getNode(node);\n                if (Array.isArray(node)) {\n                    nodes.push(...node.filter(e => e));\n                } else {\n                    nodes.push(node);\n                }\n            }\n            const dublicatedKeys = new Set();\n            for (let i = 0; i < nodes.length; i++) {\n                const node = nodes[i];\n                const key = node.props && node.props._key && String(node.props._key);\n                const index = String(i);\n                if (key && !(key in element.children)) {\n                    element.children[key] = node;\n                } else {\n                    if (key in element.children) {\n                        dublicatedKeys.add(key);\n                    }\n                    element.children[index] = node; // TODO: рекурсивно выбрать уникальное значение\n                }\n            }\n            if (dublicatedKeys.size > 0) {\n                console.error(new Error(`keys ${[...dublicatedKeys]} have been dublicated`));\n            }\n            return element;\n        }\n        function stableElement(name, props) {\n            return new Proxy((...children) => {\n                if (Array.isArray(children[0]) && 'raw' in children[0]) {\n                    return create(name, props, strToArray(...children));\n                }\n                return create(name, props, children);\n            }, {\n                get(target, prop) {\n                    return function (value, ...items) {\n                        if (prop === '_props') {\n                            return stableElement(name, {...props, ...value});\n                        }\n                        if (Array.isArray(value) && 'raw' in value) {\n                            return stableElement(name, {...props, [prop]: strToArray(value, ...items).join('')});\n                        }\n                        return stableElement(name, {...props, [prop]: value});\n                    }\n                },\n                apply(target, thisArg, argArray) {\n                    if (Array.isArray(argArray[0]) && 'raw' in argArray[0]) {\n                        return create(name, props, strToArray(...argArray));\n                    }\n                    return create(name, props, argArray);\n                }\n            })\n        }\n        return stableElement(tag, {})\n    }\n});\n\nexport const E = getElement('http://www.w3.org/1999/xhtml');\nexport const S = getElement('http://www.w3.org/2000/svg');\nexport const M = getElement('http://www.w3.org/1998/Math/MathML');\n\n// console.log(E.div(2));\n// const onHover = () => console.log('hover!');\n// console.log(E.div.id`text`.onclick('alert(2)').onHover(onHover).onClick(() => alert('hi!'))(2, [3,4,[5,6,[7,8, () => 11, {props:{_key: 'a'}, v: 444}]]]));\n// const a = (E.div.class`example`.id`ex`.onHover(onHover).onClick(() => alert('hi!!')).style(`style`)['data-value']`1`(\n//     'string',\n//     E.span`text`,\n//     E.p('str'),\n//     E`text v = ${E.span(2)}`,\n//     [ // Fragment analog\n//         E.div.style`color: red;`,\n//         E.div.style`color: red;`('red'),\n//         E.div.style`color: red;``red`,\n//         E.div.style`color: red;``red ${E.span(1)}`, // red [Function]\n//         E.div.style`color: red;`(E`red${E.span(1)}`) // red 1\n//     ],\n//     ...[1,2,3].map(i => E.i._key(i+'2')(i)),\n//     [1,2,3].map(i => E.i._key(i+'3')(i))\n// ));\n// const b = E.div.onHover(onHover)(55);\n// const c = E.article(\n//     E.span`222${E.span(1+11)}`\n// );\n// console.log({a});\n// console.log({b});\n// console.log(DOM(a));\n// console.log(DOM(b));\n// console.log(diffElements(a, b));\n// const domA = DOM(a);\n// console.log(DOM(a));\n// patchDOM(domA, diffElements(a, b));\n// console.log(domA);\n// const domA2 = DOM(a);\n// const block = DOM(E.div());\n// block.append(domA2);\n// patchDOM(domA2, diffElements(a, b));\n// console.log(diffElements(b, c));\n// patchDOM(domA2, diffElements(b, c));\n// console.log(block);\n// console.dir(block);\n\n\n\n// E.a\n// E['a']\n\n// E[Symbol('a')]\n// E[Symbol('props')]\n// E[Symbol('ref')]\n// // E[E.$`ref`]\n// // E[E.$`props`]\n// // E[E.$({a:1, b:2})]\n// E.$ // внутри []\n\n// E`a` // firstArg.raw - возвратит массив\n\n// E('a'), E([1, 2]), E(1, 2, E.span(1)) // преобразует в DOM\n\n// // резерв\n// E.$a\n// E._\n// E._a\n// E.A\n\n","import {E, DOM} from './element.js';\nconst getDirPath = fileUrl => (new URL(fileUrl)).pathname.split('/').slice(0, -1).join('/');\nexport default function(sourceUrl, relativePath) {\n    const type = relativePath.split('.').slice(-1)[0];\n    if (!['css', 'less'].includes(type)) {\n        throw new Error(`Import file type is ${type}, but 'css' or 'less' types are available only.`);\n    }\n    const pathRelative = /^\\.\\.?\\//.test(relativePath);\n    const sourcePath = getDirPath(sourceUrl).split('/').slice(1).join('/');\n    const fullPath = sourcePath + (pathRelative ? relativePath.replace(/^\\.\\.?/, '') : '/' + relativePath);\n\n    return new Promise(resolve => {\n        const link = DOM(E.link\n            .rel(`stylesheet${type === 'less' ? '/less' : ''}`)\n            .type('text/css')\n            .href(fullPath)());\n        if (type === 'less') {\n            if (!document.head.querySelector('script[src=\"less.js\"]')) {\n                const less = E.script.src('less.js')();\n                document.head.append(DOM(less));\n            }\n            document.head.append(link);\n            function update() {\n                const style = document.head.querySelector(`style[id$=\"${fullPath.split('.')[0].replace(/\\//g, '-')}\"]`);\n                // console.log(1);\n                if (style) {\n                    window.setTimeout(resolve, 100);\n                } else {\n                    window.setTimeout(update, 10);\n                }\n            }\n            update();\n        } else {\n            document.head.append(link);\n            link.addEventListener('load', () => resolve());\n        }\n    });\n}\n","export const getChildren = children => {\n    const nodes = [];\n    for (const node of children) {\n        if (Array.isArray(node)) {\n            nodes.push(...node);\n        } else if ((typeof node) === 'function') {\n            nodes.push(node());\n        } else {\n            nodes.push(node);\n        }\n    }\n    return nodes;\n}\n","const _log = condition => f => {\n    if (condition) {\n        if (typeof f === 'function') {\n            f();\n        } else {\n            console.log(f);\n        }\n    }\n}\nconst loggerSymbol = Symbol('logger');\nexport const logAllLevels = Symbol('all');\nwindow[loggerSymbol] = {};\n\nexport const setLogger = settings => {\n    window[loggerSymbol] = settings;\n};\n\nfunction getCondition(levels) {\n    let current = window[loggerSymbol];\n    for (const level of levels) {\n        if(current && logAllLevels in current) {\n            return true;\n        }\n        if (!(current && level in current)) {\n            return false;\n        }\n        current = current[level];\n    }\n    return true;\n}\n\nfunction createLogProxy(levels) {\n    return new Proxy(f => _log(getCondition(levels))(f), {\n        get: (target, level) => createLogProxy([...levels, level])\n    });\n}\n\nexport const log = createLogProxy([]);\n\n","import {E, DOM, getNode, diffElements, patchDOM} from './element.js';\nimport {getClone} from './clone.js';\nimport {\n    getChildren\n} from './children.js';\nimport style from './style.js';\nimport {log} from './logger.js';\nimport {elementSymbol, componentSymbol} from './symbols.js';\n\nconst set = state => arg => {\n    let newObject;\n    if (typeof arg === 'object') {\n        newObject = arg;\n    } else if (typeof arg === 'function') {\n        newObject = arg(state);\n    }\n    return Object.assign({}, state, newObject);\n}\n\nfunction getProps(element) {\n    if (element.nodeType === 3) { // textNode\n        return {};\n    }\n    const props = {};\n    for (let i = 0; i < element.attributes.length; i++) {\n        const attr = element.attributes[i];\n        props[attr.name] = attr.value;\n    }\n    return props;\n}\n\nfunction logAdd(element) {\n    console.log('%c + ', style({\n        color: 'green',\n        backgroundColor: '#dfd'\n    }), element);\n}\n\nfunction logRemove(element) {\n    console.log('%c - ', style({\n        color: 'red',\n        backgroundColor: '#fdd'\n    }), element);\n}\n\nfunction getElem(component) {\n    if (Array.isArray(component)) {\n        const fragment = document.createDocumentFragment();\n        fragment.append(...component.map(e => getElem(e)));\n        return fragment;\n    }\n    return (typeof component === 'function') ? component() : component;\n}\n\nfunction isTypeChanged(element, newElement) {\n    if (element && !newElement) {\n        return true;\n    }\n    if (element.nodeType !== newElement.nodeType) {\n        return true;\n    }\n    if (element.nodeName !== newElement.nodeName) {\n        return true;\n    }\n    return false;\n}\n\nfunction componentConstructor(componentName) {\n    const handlerErrors = new Proxy({}, {\n        get(target, name) {\n            if (!(name in target)) {\n                target[name] = {};\n            }\n            return target[name];\n        }\n    })\n\n    return function (makeComponent) {\n        const create = (props = {}, children = []) => {\n            // уникальный идентификатор для созданного элемента\n            const componentNameSymbol = Symbol(componentName);\n\n            function didMountEvent(element, source) {\n                // console.group(`didMount[${source}]`);\n                // console.log(element);\n                // console.groupEnd();\n                window.dispatchEvent(new CustomEvent('didMount', {\n                    detail: {\n                        componentNameSymbol: element[componentSymbol].componentNameSymbol\n                    }\n                }));\n            }\n\n            function willUnmountEvent(element, source) {\n                // console.group(`willUnmount[${source}]`);\n                // console.log(element);\n                // console.groupEnd();\n                window.dispatchEvent(new CustomEvent('willUnmount', {\n                    detail: {\n                        componentNameSymbol: element[componentSymbol].componentNameSymbol\n                    }\n                }));\n            }\n\n            // состояние компонента\n            let state = {};\n\n            // предыдущее состояние\n            let prevState = {};\n\n            // элемент DOM, который будет возвращён\n            // TODO: инлайн компоненты, вложенные в одном узле, у списка это родитель\n            // структура цепочки компонентов в элементе\n            // [компонент, который возвращает массив] > [аналогично, только вложенный] > возвращает компонент > который возвращает этот элемент\n\n            let element = {};\n\n            // вызванные обработчики\n            let handlerIndex = 0;\n            const handlers = new Proxy({}, {\n                get(target, name) {\n                    if (!(name in target)) {\n                        target[name] = {\n                            count: 0,\n                            indexes: [],\n                        };\n                        target[name].bump = () => {\n                            handlerIndex++;\n                            target[name].count++;\n                            target[name].indexes.push(handlerIndex);\n                        }\n                    }\n                    return target[name];\n                }\n            });\n            // TODO: отслеживать вызовы и гарантировать порядок\n\n            function initState(startState) {\n                if (handlers.initState.count !== 0) {\n                    if (!handlerErrors.initState.count) {\n                        handlerErrors.initState.count = 1;\n                        console.error(new Error('Повторный вызов инициализации состояния'));\n                    }\n                }\n                handlers.initState.bump();\n                state = startState;\n            }\n\n            let changedStateFields = {};\n\n            function setState(newState, callback) {\n                prevState = state;\n                const newStateObject = typeof newState === 'function' ? newState(state) : newState;\n                const change = {};\n                for (const field of Object.keys(newStateObject)) {\n                    change[field] = true;\n                }\n                changedStateFields = change;\n                // console.log({changedStateFields});\n                state = set(state)(newState);\n                rerender();\n                if (callback) {\n                    callback();\n                }\n            }\n\n            const changeState = (...names) => {\n                for (const name of names) {\n                    if (changedStateFields[name]) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n\n            const stateClass = () => state;\n            stateClass.set = setState;\n            stateClass.init = initState;\n            stateClass.onChange = changeState; // позволит писать _update(state.onChange('name', 'age'))\n            // в перспективе что-то вроде _related(['name', 'age'])\n            // идея - писать в метаинформации объектов state данные о своём state - имя, компонент и т.д.\n            // тогда при обновлении мы посмотрим, и если поля из state.set не имеют отношения к полям, от котрых зависит обновление, то элемент не обновляется\n            // более общий вопрос, как отследить зависимость от некоторого значения из состояния?\n\n            // можно связать свойство элемента со значением свойства, если передавать не само значение, а функцию, что передаёт значение. То есть не Person.age(state.age+1) а Person.age(() => state.age+1). До вызова функции мы посмотрим мету у элемента, а при вызове у значения. Но так будет не так удобно писать, поэтому это может сделать препроцессор? нежелательно!!! к тожу же если передавать просто функцию, профит исчезнет. Не пойдёт!\n            // в общем случае задача почти неразрешима\n            // можно проксировать хоть насквозь, но передай в другую функцию и ничего не выйдет\n            // опять же можно немного подхачить и использовать препроцессор для отслеживания явного применения, он должен быть достаточно умным, чтобы отслеживать зависимости применения переменных;\n            // но можно сделать зависимость от ввода или слуйность и препроцессор такое не поймает\n\n            element[componentNameSymbol] = true;\n\n            const didMount = callback => {\n                function onDidMount(event) {\n                    // console.log('DIDMOUNT', event);\n                    if (event.detail.componentNameSymbol === componentNameSymbol) {\n                        log.component(() => {\n                            // console.group('didMount -- event!!!');\n                            // console.log(element[componentSymbol].element);\n                            // console.log(componentName);\n                            // console.log(event);\n                            // console.log(callback);\n                            // console.groupEnd();\n                        });\n                        callback();\n                        // window.removeEventListener(didMountListener);\n                    }\n                }\n\n                handlers.didMount.bump();\n                const didMountListener = window.addEventListener('didMount', onDidMount, false);\n                // element[elementSymbol].props.onDidMount = onDidMount;\n                // element[elementSymbol].eventListeners.didMount = [onDidMount];\n            }\n\n            let firstAppend = true;\n\n            const storage = {};\n            const elements = [];\n\n            const mo = new MutationObserver(function (mutations, observer) {\n                // console.info('Observer');\n                // console.log({mutations, observer});\n                // console.log('didMount', firstAppend, componentName, element);\n                // console.log(handlers);\n                if (element.dom && element.dom.ref.closest('html')) {\n                    // element = false;\n                    // const componentDOMSymbol = Symbol('componentDOMSymbol');\n                    // if(!storage[componentDOMSymbol]) { // первый рендер\n                    //     storage[componentDOMSymbol] = {first: true};\n                    elements[Object.keys(elements).length] = {\n                        first: true,\n                        element: element.innerHTML\n                    };\n                    // console.log(elements);\n                    // }\n                    // if (storage[componentDOMSymbol].first) {\n                    // console.log('есть', element);\n                    // console.log({storage});\n                    // storage[componentDOMSymbol].first = false;\n                    if (firstAppend) {\n                        window.dispatchEvent(new CustomEvent('didMount', {\n                            detail: {\n                                componentNameSymbol: componentNameSymbol\n                            }\n                        }));\n                        firstAppend = false;\n                        mo.disconnect();\n                    }\n                    // }\n                } else {\n                    // console.log('нет', element);\n                    firstAppend = true;\n                    mo.disconnect();\n                }\n            });\n            mo.observe(document, {\n                attributes: true,\n                childList: true,\n                subtree: true\n            });\n\n\n            props.children = children;\n            const render = makeComponent({\n                props,\n                state: stateClass,\n                hooks: {\n                    didMount\n                }\n            });\n\n            function rerender() {\n                // console.time('get node');\n                const newElement = getNode(render());\n                // console.timeEnd('get node');\n                const dom = element.dom;\n                const componentData = element.component;\n                // console.time('diff');\n                const diffElement = diffElements(element, newElement);\n                // console.log({diffElement});\n                // console.timeEnd('diff');\n\n                // новые элементы создаются без привязки к странице\n\n                element = newElement;\n                // BUG: не сохраняется новый вид элемента\n                element.component = componentData;\n                // console.log('update:', componentName, {element, dom});\n\n                if (dom) { // есть dom\n                    // получить их diff, TODO: учитывая static\n                    // console.log({dom, diffElement});\n                    element.dom = dom;\n                    // надо перепривязать к dom всех потомков\n                    // console.time('patch DOM');\n                    patchDOM(dom.ref, diffElement);\n                    // console.timeEnd('patch DOM');\n                }\n            }\n\n            element = getNode(render()); // первый рендер\n\n            if (Array.isArray(element)) {\n                for (const item of element) {\n                    setComponentData(item, {array: true})\n                }\n            } else {\n                setComponentData(element);\n            }\n\n            function setComponentData(element, {array = false} = {}) {\n                if (!element.component) {\n                    element.component = {level: 0};\n                }\n                const level = element.component.level;\n                element.component[String(level)] = {\n                    array,\n                    name: componentName,\n                    props,\n                    state\n                }\n                element.component.level++;\n            }\n\n            // первое присоединение dom\n            // if (!element.dom) {\n                // element.dom = {};\n            // }\n            // const dom = DOM(element);\n            // element.dom.ref = dom;\n            // if (element.dom.parent) {\n            //     element.dom.parent.append(dom);\n            // }\n\n            // console.log('render:', componentName, {element});\n            return () => element;\n        }\n\n        function stableElement(props) {\n            return new Proxy((...children) => create({}, children), {\n                get(target, prop) {\n                    return function (value) {\n                        // console.log(`added prop ${prop} = ${value}`)\n                        return stableElement({\n                            ...props,\n                            [prop]: value\n                        });\n                    }\n                },\n                apply(target, thisArg, argArray) {\n                    return create(props, argArray);\n                }\n            })\n        }\n        return stableElement({});\n    };\n}\n\nconst Component = new Proxy({}, {\n    get: function (target, componentName) {\n        return componentConstructor(componentName)\n    }\n});\n\nexport default Component;\n","import {\n    E,\n    Component,\n    Custom\n} from './index.js';\n\n\nconst historyUpdate = new CustomEvent('historyUpdate');\n\nfunction pushState(data, title, url) {\n    history.pushState(data, title, url);\n    window.dispatchEvent(historyUpdate);\n}\n\nfunction replaceState(data, title, url) {\n    history.replaceState(data, title, url);\n    window.dispatchEvent(historyUpdate);\n}\n\nwindow.addEventListener('popstate', () => window.dispatchEvent(historyUpdate));\n\nexport const getRouterState = (routes) => {\n    if (!document.location.search) {\n        return {params: {}, path: '/', routes: routes('')}\n    }\n    const params = new URLSearchParams(document.location.search);\n    const stack = [];\n    for (const [param] of params) {\n        if (param[0] === '/') {\n            stack.push(...param.slice(1).split('/'));\n        }\n    }\n    let resultParams = {};\n    let resultPath = null;\n    for (const path in routes({})) {\n        const pathStack = path.split('/');\n        const params = {};\n        let equal = true;\n        for (let i = 0; i < pathStack.length; i++) {\n            if (i === stack.length) {\n                equal = false;\n                break;\n            }\n            const level = pathStack[i];\n            if (level[0] === ':') {\n                params[level.slice(1)] = stack[i];\n            } else if (level !== stack[i]) {\n                equal = false;\n                break;\n            }\n        }\n        if (equal) {\n            resultParams = params;\n            resultPath = path;\n        }\n    }\n    return {params: resultParams, path: resultPath, routes: routes(resultParams)};\n}\n\nexport const RouteLink = Component.RouteLink(({props: {href, children}}) => {\n    return () => {\n        const onLinkClick = (event) => {\n            event.preventDefault();\n            if (href === '/') {\n                pushState({stack: []}, '', '/');\n                return;\n            }\n            if (((window.history.state || {}).stack || []).join('/') === href) {\n                return;\n            }\n            pushState({\n                stack: href.split('/')\n            }, '', '?/' + href);\n        };\n        return E.a.href(href).onClick(onLinkClick)(children);\n    };\n})\n\n\nexport const Switch = Component.Switch(({props, state}) => {\n    state.init(getRouterState(props.routes));\n    window.addEventListener('historyUpdate', function () {\n        state.set(getRouterState(props.routes));\n    });\n    return () => {\n        const {path, routes} = state();\n        return routes[path];\n    }\n});\n","import {E, Component} from './index.js';\n\nlet count  = 0;\nfunction getCustom(name, elements, didMount) {\n    class CustomElement extends HTMLElement {\n        constructor() {\n            super();\n\n            const shadow = this.attachShadow({mode: 'open'});\n            shadow.append(E.slot.name('element-slot')())\n        }\n\n        connectedCallback() {\n            didMount(elements)\n        }\n    }\n    count++;\n    const customName = `custom-${name}-${count}`;\n    customElements.define(customName, CustomElement);\n    return E[customName](\n        E.div.slot('element-slot')(\n            elements\n        )\n    );\n}\n\nexport default Component.Custom(() => {\n    return ({name, children, didMount}) => {\n        return getCustom(name, children, didMount);\n    }\n});\n","export const css = new Proxy({}, {\n    get: (target, name) => text => [`%c${text}%c`, name, '']\n});\n\nexport const color = new Proxy({}, {\n    get: (target, name) => text => css[`color:${name}`](text)\n});\n\n\nexport function consoleStyle(textList, ...args) {\n    const styles = [];\n    const text = [];\n    for (let i = 0; i < textList.length - 1; i++) {\n        const s = textList[i];\n        const v = args[i][0];\n        text.push(s, v);\n        const local = args[i][1];\n        styles.push(...(Array.isArray(local) ? local : [local, args[i][2]]));\n    }\n    text.push(textList[textList.length - 1]);\n    return [text.join(''), styles];\n}\n\nexport const mix = new Proxy({}, {\n    get: (target, name) => styles => styles.map(e => `${e};${name}`)\n});\n\nconst background = color => e => mix[`background-color:${color}`](e);\n\n\nconst _key = text => color['#a53bbb'](text);\nconst _func = text => color['#35a0ed'](text);\nconst _var = text => color['#de4d57'](text);\nconst _const = text => color['#e0994a'](text);\nconst _op = text => color['#4ba6b1'](text);\nconst S = {\n    key: _key,\n    func: _func\n}\n\nconst [text, styles] = consoleStyle`\n${S.key`export`} ${S.key`function`} ${S.func`consoleStyle`}(${_var('textList')}, ...${_var('args')}) {\n    ${_key('const')} ${_var('styles')} ${_op('=')} [];\n    ${_key('const')} ${_var('text')} ${_op('=')} [];\n    ${_key('for')} (${_key('let')} ${_var('i')} ${_op('=')} ${_const('0')}; ${_var('i')} ${_op('<')} ${_var('textList')}.${_var('length')} ${_op('-')} ${_const('1')}; ${_var('i')}${_op('++')}) {\n        ${_key('const')} ${_var('s')} ${_op('=')} ${_var('textList')}[${_var('i')}];\n        ${_key('const')} ${_var('v')} ${_op('=')} ${_var('args')}[${_var('i')}][${_const('0')}];\n        ${_var('text')}.${_op('push')}(${_var('s')}, ${_var('v')});\n        ${_var('styles')}.${_op('push')}(${_var('args')}[${_var('i')}][${_const('1')}], ${_var('args')}[${_var('i')}][${_const('2')}]);\n    }\n    ${_var('text')}.${_op('push')}(${_var('textList')}[${_var('textList')}.${_var('length')} ${_op('-')} ${_const('1')}]);\n    ${_key('return')} [${_var('text')}.${_op('join')}(${_var(`''`)}), ${_var('styles')}];\n}\n`;\n// console.log(text, ...styles);\n\nexport const _b = text => css['font-weight: bold'](text);\nexport const _i = text => css['font-style: italic'](text);\nexport const _pre = text => css['font-family: monospace'](text);\nexport const _h = l => text => css[`font-size: ${21 - l}px`](text);\n\nconst [text1, styles1] = consoleStyle`${_h(1)('Документация')}\nsee http://127.0.0.1:5500/?/blog/1\n${_b('bold')} and ${_i('italic')} and ${_pre('pre')}\n`;\n// console.log(text1, ...styles1);\n\n","export function Class(createClass) {\n    const fields = {};\n    const field = new Proxy({}, {\n        get(target, prop) {\n            return getter => {\n                fields[prop] = getter;\n            }\n        }\n    });\n    return initialValues => {\n        const constructor = create => create(initialValues);\n        createClass({field, constructor});\n        return new Proxy({}, {\n            get(target, prop) {\n                return prop in fields ? fields[prop]() : undefined;\n            }\n        })\n    }\n}\n\n// const Count = Class(({constructor, field}) => {\n//     let a = 0; // private field\n//     constructor(x => {\n//         a = x;\n//     });\n//     field.a(() => a); // public field\n//     const add = () => a++; // private method\n//     field.add(() => add); // public method\n// });\n\n// const counter1 = Count(1);\n// console.log(counter1.a); // 1\n// counter1.add();\n// counter1.add();\n// console.log(counter1.a); // 3\n\n// class PrefixTree {\n//     constructor(...values) {\n//         this.tree = [[]];\n//         for (const [name, value] of values) {\n//             this.set(name, value);\n//         }\n//     }\n\n//     getTree() {\n//         return this.tree;\n//     }\n\n//     set(name, value) {\n//         name = String(name);\n//         let current = this.tree;\n//         if (name === '') {\n//             current[1] = value;\n//             return;\n//         }\n//         const list = name.split('');\n//         for (let i = 0; i < list.length; i++) {\n//             const char = list[i];\n//             if (i === list.length - 1) {\n//                 current[1] = value;\n//             } else {\n//                 let exist = false;\n//                 const l = current[0].length;\n//                 for (let j = 0; j < l; j++) {\n//                     const [c, sub] = current[0][j];\n//                     if (c === char) {\n//                         current = sub;\n//                         exist = true;\n//                         break;\n//                     }\n//                 }\n//                 if (!exist) {\n//                     current[0][l] = [char, [[]]];\n//                     current = current[0][l][1];\n//                 }\n//             }\n//         }\n//     }\n\n//     get(name) {\n//         let current = this.tree;\n//         const list = name.split('');\n//         for (let i = 0; i < list.length; i++) {\n//             const char = list[i];\n//             for (let j = 0; j < current[0].length; j++) {\n//                 const [c, sub] = current[0][j];\n//                 if (c === char) {\n//                     current = sub;\n//                     break;\n//                 }\n//                 if (j === current[0].length - 1) {\n//                     return undefined;\n//                 }\n//             }\n//         }\n//         return current[1];\n//     }\n// }\n\n// const tree = new PrefixTree();\n// const obj = {};\n// const map = new Map();\n\n// console.time('Prefix Tree');\n// for (let j = 0; j < 17; j++) {\n\n//     for (let i = 0; i < 10000; i++) {\n//         tree.set(String(Math.random()).slice(2, j), Math.random());\n//     }\n// }\n// console.timeEnd('Prefix Tree');\n\n// console.time('Native object');\n// for (let j = 0; j < 17; j++) {\n//     for (let i = 0; i < 10000; i++) {\n//         obj[String(Math.random()).slice(2, j)] = Math.random();\n//     }\n// }\n// console.timeEnd('Native object');\n\n// console.time('Native Map');\n// for (let j = 0; j < 17; j++) {\n//     for (let i = 0; i < 10000; i++) {\n//         map.set(String(Math.random()).slice(2, j), Math.random());\n//     }\n// }\n// console.timeEnd('Native Map');\n\n\n// console.log(tree.getTree());\n// console.log(obj);\n\nconst o = {a: 1};\n\nfunction e(object) {}\n\ne(o);\n","export {default as block} from './bem.js';\nexport {default as style} from './style.js';\nexport {default as css} from './css.js';\nexport {E, S, M} from './element.js';\nexport {default as Component} from './component.js';\nexport {Switch, RouteLink, getRouterState} from './router.js';\nexport {default as Custom} from './custom.js';\nexport {log, setLogger, logAllLevels} from './logger.js';\nexport {consoleStyle} from './consoleStyle.js';\nexport {Class} from './class.js';\nexport {diff} from './diff.js';\n","import {\n    E,\n    M,\n    Component,\n    RouteLink,\n    css,\n    block,\n    style\n} from '../../utils/index.js';\n\nimport './Breadcrumbs.less';\n\nconst b = block('breadcrumbs');\n\nconst Breadcrumbs = Component.Breadcrumbs(({props}) => {\n    return () => E.div.class(b())(\n        props.items\n        .map(([name, href], i) => {\n            const last = i === props.items.length - 1;\n            return E.span(\n                E.div.style('display: inline-block')(\n                    last ? name : RouteLink.href(href)(name)\n                ),\n                last ? '' : ' / '\n            );\n        })\n    );\n});\n\nexport default Breadcrumbs;\n","export default {\n    0: {\n        type: 'js',\n        creationTime: '2020-01-15T17:31:44',\n        title: 'Я создал этот сайт',\n        tags: ['web', 'site']\n    },\n    1: {\n        type: 'html',\n        creationTime: '2020-03-09T14:09:41',\n        title: 'Создаём приложение на Filemaker',\n        tags: ['filemaker', 'tutorial']\n    },\n    2: {\n        type: 'js',\n        creationTime: '2020-03-28T22:01:49',\n        title: 'Отказ от нативных es6 модулей в пользу Parcel',\n        tags: ['es6', 'parcel']\n    },\n    3: {\n        type: 'js',\n        creationTime: '2020-04-04T19:38:53',\n        title: 'Переписал движок сайта на virtual DOM',\n        tags: ['js', 'virtual dom']\n    },\n    4: {\n        type: 'js',\n        creationTime: '2020-04-11T09:52:02',\n        title: 'Стандартная модель элементарных частиц — верстаем с CSS Grid',\n        tags: ['css', 'grid', 'physics', 'standard model']\n    },\n    5: {\n        type: 'js',\n        creationTime: '2020-04-20T02:13:59',\n        title: 'Добавляем светлую тему с CSS переменными',\n        tags: ['css', 'css variables']\n    }\n}\n","import {\n    E,\n    M,\n    Component,\n    RouteLink,\n    getRouterState,\n    Switch,\n    css,\n    block,\n    style\n} from '../../utils/index.js';\n\nimport './Button.less';\n\nconst b = block('button');\n\nconst Button = Component.Button(({props: {children, size, onClick}}) => {\n    return () => E.button.onClick(onClick || (() => {})).class(b())(\n        children\n    )\n})\n\nexport default Button;\n","export {default as Button} from './Button/Button.js';\n","import {E} from './element.js';\nimport { consoleStyle, _b, _i, _pre, _h } from './consoleStyle.js';\nimport {Component} from './index.js';\n\nexport function createBook(f) {\n    return {\n        to: type => {\n            const types = {\n                html: () => ({\n                    V: (strings, ...elements) => {\n                        const stringElements = strings.map(s => {\n                            const result = [];\n                            const brs = s.match(/\\n\\n+/g);\n                            if (!brs) {\n                                return s;\n                            }\n                            let tail = s;\n                            let i;\n                            for (const br of brs) {\n                                i = tail.indexOf(br);\n                                const subbrs = [];\n                                if (br.length === 2) {\n                                    subbrs.push(E.br())\n                                } else {\n                                    for (let j = 0; j < 2 * br.length - 4; j++) {\n                                        subbrs.push(E.br());\n                                    }\n                                }\n                                result.push(tail.slice(0, i), ...subbrs);\n                                tail = tail.slice(i + br.length);\n                            }\n                            result.push(tail);\n\n                            return result;\n                        })\n                        const list = [...stringElements[0]];\n                        for (let i = 1; i < strings.length; i++) {\n                            list.push(elements[i-1], ...stringElements[i]);\n                        }\n                        return list;\n                    },\n                    b: t => E.b(t),\n                    i: t => E.i(t),\n                    code: t => E.code(t),\n                    pre: t => E.pre(t),\n                    h: l => t => E[`h${l}`](t),\n                    n: E.br,\n                    p: t => E.p(t),\n                    img: (src, alt) => E.img.src(src).alt(alt),\n                    a: href => text => E.a.href(href)(text),\n                    external: f => f(E, Component)\n                }),\n                markdown: () => ({\n                    V: (strings, ...elements) => {\n                        const list = [strings[0]];\n                        for (let i = 1; i < strings.length; i++) {\n                            list.push(elements[i-1], strings[i]);\n                        }\n                        return list.join('');\n                    },\n                    b: t => `**${t}**`,\n                    i: t => `_${t}_`,\n                    code: t => `\\`${t}\\``,\n                    h: l => t => `${'#'.repeat(l)} ${t}`,\n                    n: '  \\n',\n                    p: t => `\\n\\n${t}\\n\\n`,\n                    img: (src, alt) => `![${alt || ''}](${src})`,\n                    a: href => text => `[${text || ''}](${href})`\n                }),\n                browserConsole: () => ({\n                    V: consoleStyle,\n                    b: _b,\n                    i: _i,\n                    code: _pre,\n                    h: _h,\n                    n: '\\n',\n                    p: t => t,\n                    img: (src, alt) => [`IMG[${src || ''}]: ${alt || ''}`, []],\n                    a: href => text => [`${href} (${text})`, []]\n                })\n            };\n            if (type && type in types) {\n                return f(types[type]());\n            } else {\n                throw new Error(`Invalid type. Available types: ${Object.keys(types).join()}`);\n            }\n        }\n    }\n}\n\n// const bookTemplate = createBook(({b, i, h, code, n, p, img, a, V}) =>\n// V`\n// ${h(1)('Header')}\n// ${p(V`\n// ${b('жирный')} текст ${n}\n// ${i('курсивный')} текст\n// ${img('../assets/images/favicon/favicon-32x32.png', 'favicon')}\n// `)}\n// блок ${code('программного кода')} ${n}\n// ${a('https://github.com')('Гитхаб')} - ссылка\n// `);\n\n// export const book = bookTemplate.to('html');\n\n// console.log(bookTemplate.to('markdown'));\n\n// const [text, styles] = bookTemplate.to('browserConsole');\n// console.log(text, ...styles);\n\n","import {\n    E,\n    M,\n    Component,\n    RouteLink,\n    css,\n    block,\n    style\n} from '../../utils/index.js';\n\nimport blog from '../../data/blog/index.js';\nimport {Button} from '../../blocks/index.js';\nimport {Breadcrumbs} from '../index.js';\nimport {createBook} from '../../utils/book.js';\n\nimport './Post.less';\n\nconst b = block('post');\n\nconst Post = Component.Post(({props, state, hooks: {didMount}}) => {\n    state.init({\n        text: null\n    })\n    didMount(() => {\n        const {id} = props;\n        const {type} = blog[id];\n        const path = `../data/blog/data/${id}/index.${type}?r=${window.appVersion}`;\n        if (type === 'html') {\n            fetch(path).then(e => {\n                // console.log(e.clone().blob());\n                return e.blob()\n            }).then(data => {\n                return 'html' || data.text();\n\n            }).then(text => {\n                // console.log(text);\n                state.set({text: text});\n            });\n        } else if (type === 'js') {\n            import(path).then(data => {\n                // console.log(data);\n                state.set({text: createBook(data.default).to('html')})\n            }).catch(e => {\n                console.error(e);\n                state.set({text: 'Ошибка загрузки контента'});\n            });\n        }\n    })\n\n    return () => {\n        const {id} = props;\n        const {type} = blog[id];\n        const {text} = state();\n        const {title, creationTime} = blog[id];\n        const template = E.div.class(b('content'));\n        let elem;\n        if (type === 'html') {\n            const iframe = E.iframe.id(`iframe-post-${id}`).src(`/data/blog/data/${id}/index.${type}`).style('width: 100%; border:none; object-fit: fill; height: 100vh;')\n            setTimeout(() => {\n                const iframeElem = document.getElementById(`iframe-post-${id}`);\n                iframeElem.style.height = (iframeElem.contentWindow.document.body.clientHeight + 100) + 'px';\n            }, 300)\n            elem = template(iframe);\n        } else if (type === 'js') {\n            elem = template(text);\n        } else {\n            elem = 'Ошибка несоответствия типа контента'\n        }\n        return E.div.class(b())(\n            Breadcrumbs.items([['Блог', 'blog'], [title, `blog/${id}`]]),\n            E.h2(title),\n            E.em((new Date(creationTime)).toLocaleString('ru', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric',\n                timezone: 'UTC',\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric'\n            })),\n            E.div(elem)\n        );\n    }\n});\n\nexport default Post;\n","import {\n    E,\n    M,\n    Component,\n    RouteLink,\n    css,\n    block,\n    style\n} from '../../utils/index.js';\n\nimport blog from '../../data/blog/index.js';\nimport {Button} from '../../blocks/index.js';\n\nimport './Blog.less';\n\nconst b = block('blog');\n\nconst Blog = Component.Blog(() => {\n    const total = Object.keys(blog).length;\n    // console.log(`total ${total}`);\n\n    return () => E.div.class(b())(\n        Object.keys(blog).sort((keyA, keyB) => {\n            const getMs = key => Number(new Date(blog[key].creationTime));\n            return getMs(keyB) - getMs(keyA);\n        })\n        .map(key => {\n            const {type, creationTime, title, tags} = blog[key];\n            return E.div.class(b('post-card'))(\n                E.h3.class(b('title'))(\n                    title,\n                    E.div.class(b('read-button'))(\n                        RouteLink.href(`blog/${key}`)(\n                            Button('Читать')\n                        )\n                    )\n                ),\n                E.p(\n                    E.span.class(b('time'))(\n                        (new Date(creationTime)).toLocaleString('ru', {\n                            year: 'numeric',\n                            month: 'long',\n                            day: 'numeric',\n                            timezone: 'UTC',\n                            hour: 'numeric',\n                            minute: 'numeric',\n                            second: 'numeric'\n                        })\n                    )\n                ),\n                E.p(\n                    tags.map(tag => E.div.class(b('tag'))(tag))\n                )\n            )\n        })\n    );\n});\n\nexport default Blog;\n","import {\n    block,\n    E,\n    style,\n    Component,\n    RouteLink\n} from '../../utils/index.js';\nimport {\n    Button\n} from '../../blocks/index.js';\n\nimport './Physics.less';\n\nconst b = block('physics');\n\nconst Physics = Component.Physics(() => {\n    return () => {\n        return E.div.class(b())(\n            E.h2('Физика'),\n            RouteLink.href('physics/standard-model')(\n                Button(\n                    E.div.style(style({padding: '16px 64px'}))(\n                        'Стандартная модель',\n                        E.br,\n                        E.span.style`font-size: 72px`('e', E.sup('–'))\n                    )\n                )\n            )\n        );\n    }\n});\n\nexport default Physics;\n","import {\n    block,\n    E,\n    style,\n    Component,\n    RouteLink,\n    css\n} from '../../utils/index.js';\n\nimport {Breadcrumbs} from '../index.js';\n\nimport './StandardModel.less';\n\nconst b = block('standard-model');\n\nconst particles = [\n    {\n        name: 'электронное антинейтрино',\n        symbol: E.span(E.span.style`text-decoration: overline`('ν'), E.sub('e')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<1.0 eV/c', E.sup('2'))\n    },\n    {\n        name: 'мюонное антинейтрино',\n        symbol: E.span(E.span.style`text-decoration: overline`('ν'), E.sub('μ')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<0.17 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'тау антинейтрино',\n        symbol: E.span(E.span.style`text-decoration: overline`('ν'), E.sub('τ')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<18.2 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'электронное нейтрино',\n        symbol: E.span('ν', E.sub('e')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<1.0 eV/c', E.sup('2'))\n    },\n    {\n        name: 'мюонное нейтрино',\n        symbol: E.span('ν', E.sub('μ')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<0.17 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'тау нейтрино',\n        symbol: E.span('ν', E.sub('τ')),\n        charge: '0',\n        spin: '1/2',\n        mass: E.span('<18.2 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'W бозон',\n        symbol: E.span('W'),\n        charge: '±1',\n        spin: '1',\n        mass: E.span('≃80.39 GeV/c', E.sup('2')),\n        group: 'SU(2)',\n        interaction: 'weak'\n    },\n    {\n        name: 'Z бозон',\n        symbol: E.span('Z'),\n        charge: '0',\n        spin: '1',\n        mass: E.span('≃91.19 GeV/c', E.sup('2')),\n        group: 'SU(2)',\n        interaction: 'weak'\n    },\n    {\n        name: 'бозон Хиггса',\n        symbol: E.span('H'),\n        charge: '0',\n        spin: '0',\n        mass: E.span('≃124.97 GeV/c', E.sup('2')),\n        interaction: 'mass'\n    },\n    {\n        name: 'позитрон',\n        symbol: E.span('e', E.sup('+')),\n        charge: '+1',\n        spin: '1/2',\n        mass: E.span('≃0.511 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'антимюон',\n        symbol: E.span('μ', E.sup('+')),\n        charge: '+1',\n        spin: '1/2',\n        mass: E.span('≃105.66 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'антитау',\n        symbol: E.span('τ', E.sup('+')),\n        charge: '+1',\n        spin: '1/2',\n        mass: E.span('≃1.7768 GeV/c', E.sup('2'))\n    },\n    {\n        name: 'электрон',\n        symbol: E.span('e', E.sup('–')),\n        charge: '-1',\n        spin: '1/2',\n        mass: E.span('≃0.511 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'мюон',\n        symbol: E.span('μ', E.sup('–')),\n        charge: '-1',\n        spin: '1/2',\n        mass: E.span('≃105.66 MeV/c', E.sup('2'))\n    },\n    {\n        name: 'тау',\n        symbol: E.span('τ', E.sup('–')),\n        charge: '-1',\n        spin: '1/2',\n        mass: E.span('≃1.7768 GeV/c', E.sup('2'))\n    },\n    {\n        name: 'фотон',\n        symbol: E.span('γ'),\n        charge: '0',\n        spin: '1',\n        mass: E.span('0'),\n        modifier: 'y',\n        group: 'U(1)',\n        interaction: 'electromagnetic'\n    },\n    {\n        name: 'верхний',\n        symbol: E.span(E.span.style`text-decoration: overline`('u')),\n        charge: '-2/3',\n        spin: '1/2',\n        mass: E.span('≃2.2 MeV/c', E.sup('2')),\n        category: 'anti-quark',\n        modifier: 'au'\n    },\n    {\n        name: 'очаровательный',\n        symbol: E.span(E.span.style`text-decoration: overline`('c')),\n        charge: '-2/3',\n        spin: '1/2',\n        mass: E.span('≃1.28 GeV/c', E.sup('2')),\n        category: 'anti-quark'\n    },\n    {\n        name: 'истинный',\n        symbol: E.span(E.span.style`text-decoration: overline`('t')),\n        charge: '-2/3',\n        spin: '1/2',\n        mass: E.span('≃173.1 GeV/c', E.sup('2')),\n        category: 'anti-quark'\n    },\n    {\n        name: 'верхний',\n        symbol: E.span('u'),\n        charge: '2/3',\n        spin: '1/2',\n        mass: E.span('≃2.2 MeV/c', E.sup('2')),\n        category: 'quark'\n    },\n    {\n        name: 'очаровательный',\n        symbol: E.span('c'),\n        charge: '2/3',\n        spin: '1/2',\n        mass: E.span('≃1.28 GeV/c', E.sup('2')),\n        category: 'quark'\n    },\n    {\n        name: 'истинный',\n        symbol: E.span('t'),\n        charge: '2/3',\n        spin: '1/2',\n        mass: E.span('≃173.1 GeV/c', E.sup('2')),\n        category: 'quark'\n    },\n    {\n        name: 'глюон',\n        symbol: E.span('g'),\n        charge: '0',\n        spin: '1',\n        mass: E.span('0'),\n        modifier: 'g',\n        group: 'SU(3)',\n        interaction: 'strong'\n    },\n    {\n        name: 'нижний',\n        symbol: E.span(E.span.style`text-decoration: overline`('d')),\n        charge: '1/3',\n        spin: '1/2',\n        mass: E.span('≃4.7 MeV/c', E.sup('2')),\n        category: 'anti-quark',\n        modifier: 'ad'\n    },\n    {\n        name: 'странный',\n        symbol: E.span(E.span.style`text-decoration: overline`('s')),\n        charge: '1/3',\n        spin: '1/2',\n        mass: E.span('≃96 MeV/c', E.sup('2')),\n        category: 'anti-quark'\n    },\n    {\n        name: 'прелестный',\n        symbol: E.span(E.span.style`text-decoration: overline`('b')),\n        charge: '1/3',\n        spin: '1/2',\n        mass: E.span('≃4.18 GeV/c', E.sup('2')),\n        category: 'anti-quark'\n    },\n    {\n        name: 'нижний',\n        symbol: E.span('d'),\n        charge: '-1/3',\n        spin: '1/2',\n        mass: E.span('≃4.7 MeV/c', E.sup('2')),\n        category: 'quark'\n    },\n    {\n        name: 'странный',\n        symbol: E.span('s'),\n        charge: '-1/3',\n        spin: '1/2',\n        mass: E.span('≃96 MeV/c', E.sup('2')),\n        category: 'quark'\n    },\n    {\n        name: 'прелестный',\n        symbol: E.span('b'),\n        charge: '-1/3',\n        spin: '1/2',\n        mass: E.span('≃4.18 GeV/c', E.sup('2')),\n        category: 'quark'\n    }\n]\n\nconst StandardModel = Component.StandardModel(({state}) => {\n\n    function renderTile({name, symbol, charge, spin, mass, category, modifier, group, interaction} = {}, i, view = false) {\n        const {i: current} = state();\n        return E.div.update(false).class(b('tile', modifier ? {mode: modifier} : {}))(E.div.style(`display: grid; grid-template-rows: auto 1fr ${view ? 'auto' : '3em'};cursor: pointer`)['data-interaction'](interaction)['data-i'](i)['data-view'](view ? 1 : 0).class(current === i ? b('current') : '').onClick((e) => {\n            const {interaction, i, view} = (e.target.closest('.' + b('tile')).firstChild.dataset);\n            if (+view) {\n                return;\n            }\n            if (interaction) {\n                state.set({\n                    interaction: state().i === +i ? undefined : interaction\n                });\n            }\n            state.set(prev => ({i: +i === prev.i ? undefined : +i}));\n        })(\n            E.div.style`display:grid;grid-template-columns: 1fr auto`(\n                E.div.style(`font-size: ${view ? '1' : '.8'}em;`)(\n                    view && 'масса: ',\n                    mass\n                )\n            ),\n            E.div.style(view ? '' : `display:grid;grid-template-columns: auto 1fr`)(\n                E.div.style(`font-size: ${view ? '1' : '.8'}em;`)(\n                    E.div(\n                        view && 'спин: ',\n                        spin\n                    ),\n                    E.div(\n                        view && 'заряд: ',\n                        charge\n                    ),\n                    group && E.div(\n                        view && 'группа симметрии: ',\n                        group\n                    ),\n                    view && interaction && interaction !== 'mass' && E.div(\n                        'Переносчик ' + {strong: 'сильного', 'electromagnetic': 'электромагнитного', 'weak': 'слабого'}[interaction] + ' взаимодействия'\n                    )\n                ),\n                E.div.style(`font-size: ${view ? 5 : 3}em;font-weight: 100;font-family:serif; display:flex; justify-content: center; align-items: center;margin-right: .3em; padding: .5em 0 .2em 0;${view ? 'margin-top: .1em;' : ''}`)(E.div.class(b('symbol'))(symbol))\n            ),\n            E.div.style(`font-size: 1em;  display:flex; justify-content: center; align-items: center; text-align: center;  line-height: 1.1em; ${view ? 'padding-bottom: 1em;' : ''}`)(E.div(\n                E.div.style(view ? 'font-size: 2em; line-height: 1.5em;' : '')(\n                    name,\n                    view && category === 'quark' && ' кварк',\n                    view && category === 'anti-quark' && ' антикварк'\n                ),\n            category === 'quark' && E.div.class(b('colors'))(\n                view && ['цветовой заряд:  ', E.br],\n                ['red', 'green', 'blue'].map(color => E.div.class(b('color', {[color]: true})))\n            ),\n            category === 'anti-quark' && E.div.class(b('colors'))(\n                view && ['цветовой заряд: ', E.br],\n                ['antired', 'antigreen', 'antiblue'].map(color => E.div.class(b('color', {[color]: true})))\n            ),\n            name === 'глюон' && E.div.class(b('colors'))(\n                view && ['цветовой заряд: ', E.br],\n                ['red-antiblue', 'blue-antigreen', 'green-antired', 'red-antigreen', 'blue-antired', 'green-antiblue', 'g3', 'g8'].map(color => E.div.class(b('color', {[color]: true, gluon: true}))(\n                    color === 'g3' ? '3' : color === 'g8' ? '8' : null\n                ))\n            )\n        ))))\n    }\n\n    return () => {\n        const {interaction, i} = state();\n        return E.div(\n            Breadcrumbs.items([['Физика', 'physics'], ['Стандартная модель']]),\n            E.div.class(b())(\n                E.h2('Стандартная модель элементарных частиц'),\n                E.div.class(b('table'))(\n                    E.div.class(b('area', {fermions: true}))('фермионы'),\n                    E.div.class(b('area', {bosons: true}))('бозоны'),\n                    E.div.class(b('area', {anti: true}))('античастицы'),\n                    E.div.class(b('area', {normal: true}))('частицы'),\n                    E.div.class(b('area', {vector: true}))('векторные'),\n                    E.div.class(b('area', {scalar: true}))('скалярный'),\n                    E.div.class(b('area', {leptons: true}))(\n                        E.div.style`display: flex; justify-content: flex-end; align-items: flex-end; height: 100%`('лептоны')\n                    ),\n                    E.div.class(b('area', {quarks: true}))(\n                        E.div.style`display: flex; justify-content: flex-end; align-items: flex-start; height: 100%`('кварки')\n                    ),\n                    interaction === 'weak' && [\n                        E.div.class(b('weak', {part: 1})),\n                        E.div.class(b('weak', {part: 2}))\n                    ],\n                    interaction === 'electromagnetic' && [\n                        E.div.class(b('electromagnetic', {part: 1})),\n                        E.div.class(b('electromagnetic', {part: 2})),\n                        E.div.class(b('electromagnetic', {part: 3}))\n                    ],\n                    interaction === 'strong' && [\n                        E.div.class(b('strong', {part: 1})),\n                        E.div.class(b('strong', {part: 2}))\n                    ],\n                    interaction === 'mass' && [\n                        E.div.class(b('higgs', {part: 1})),\n                        E.div.class(b('higgs', {part: 2}))\n                    ],\n                    E.div.class(b('border', {['anti-normal']: true})),\n                    E.div.class(b('border', {['fermions-bosons']: true})),\n                    E.div.class(b('border', {['leptons-quarks']: true})),\n                    E.div.class(b('border', {['vector-scalar']: true})),\n                    particles.map((e, i) => renderTile(e, i)),\n                    i !== undefined && (\n                        E.div.class(b('big-tile'))(renderTile(particles[i], undefined, true))\n                    ),\n                    [1, 2, 3, 1, 2, 3].map((k, i) => E.div.class(b('generation', {start: i === 0}))(k)),\n                    E.div.style`grid-column: 2 / 8; text-align: center`('Поколения')\n                ),\n                E.p.update(false)(\n                    'Взаимодействия: ',\n                    E.span.class(b('interaction', {type: 'strong'}))('сильное'), ', ',\n                    E.span.class(b('interaction', {type: 'electromagnetic'}))('электромагнитное'), ' и ',\n                    E.span.class(b('interaction', {type: 'weak'}))('слабое'), '. Также добавлено ',\n                    E.span.class(b('higgs-field'))('поле Хиггса'),\n                    E`. При нажатии на карточки частиц бозонов — квантов соответствующих полей, будут подсвечены все частицы, на которые действует поле. Значения масс для частиц взяты со страницы ${E.a.href('https://en.wikipedia.org/wiki/Standard_Model')('Стандартной модели')} в википедии. Выделение антинейтрино как отдельных частиц в таблице не значит, что они являются фермионами Дирака, а сделано исключительно для визуального удобства.`\n                )\n            )\n        );\n    }\n});\n\nexport default StandardModel;\n","import {\n    block,\n    E,\n    style,\n    Component,\n    RouteLink,\n    css\n} from '../../utils/index.js';\nimport {\n    Button\n} from '../../blocks/index.js';\n\nimport './Projects.less';\n\nconst b = block('projects');\n\nconst Projects = Component.Projects(() => {\n    return () => {\n        return E.div.class(b())(\n            E.h2('Проекты'),\n            RouteLink.href('projects/unicode')(\n                Button(\n                    E.div.style(style({padding: '16px 64px'}))(\n                        'Юникод',\n                        E.br,\n                        E.span.style`font-size: 72px`('✍')\n                    )\n                )\n            )\n        );\n    }\n});\n\nexport default Projects;\n","import {\n    block,\n    E,\n    css,\n    style,\n    Component\n} from '../../utils/index.js';\n\nimport {Breadcrumbs} from '../index.js';\n\nimport './Colors.less';\n\nconst colors = [\n    'black',\n    'dark-black',\n    'dark',\n    'dark-gray',\n    'gray-dark',\n    'gray',\n    'gray-light-medium',\n    'gray-light',\n    'light-gray-medium',\n    'light-gray',\n    'light',\n    'light-white',\n    'white',\n    'blue',\n    'blue-light',\n    'blue-dark',\n    'blue-sky',\n    'cyan',\n    'red',\n    'red-light',\n    'green-light',\n    'orange-light',\n    'yellow-light',\n    'violet-light',\n];\n\nconst b = block('colors');\n\nlet currentListener;\n\nconst Colors = Component.Colors(({state, hooks}) => {\n    function getContrastCondition(rgb) {\n        if (document.body.classList.contains('theme_light')) {\n            const v = Math.min(...rgb);\n            return v > 230;\n        } else {\n            const v = Math.max(...rgb);\n            return v > 38 && v < 78;\n        }\n    }\n\n    state.init({theme: ''});\n\n    hooks.didMount(() => {\n        if (currentListener) {\n            window.removeEventListener('theme', currentListener);\n            currentListener = null;\n        }\n        currentListener = window.addEventListener('theme', e => {\n            state.set({theme: e.detail.theme});\n        });\n    });\n\n    return () => E.div(\n        Breadcrumbs.items([['Дизайн', 'design'], ['Цвета']]),\n        E.div.class(b())(\n            colors.map(color => {\n                const code = getComputedStyle(document.documentElement).getPropertyValue(`--color-${color}`).trim();\n                const rgb = (s => [s.slice(0,2), s.slice(2,4),s.slice(4)].map(hex => parseInt(hex, 16)))(code.slice(1))\n                const v = Math.max(...rgb);\n                const contrast = v > 162 ? 'black' : 'white';\n                const border = getContrastCondition(rgb) ? 'solid 1px var(--color-border-contrast)' : undefined;\n                const colorNode = E.div(\n                    E.div\n                        .class(b('area', {color}))\n                        .style(style({\n                            ...(border ? {border} : {}),\n                            color: contrast,\n                            backgroundColor: `var(--color-${color})`\n                        }))\n                    (\n                        E.div.class(b('code'))(code)\n                    ),\n                    E.div.class(b('name'))(color)\n                );\n                return colorNode;\n            })\n        )\n    );\n});\n\n\nexport default Colors;\n","import {\n    block,\n    E,\n    style,\n    Component,\n    RouteLink,\n    css\n} from '../../utils/index.js';\nimport {\n    Button\n} from '../../blocks/index.js';\n\nimport {Breadcrumbs} from '../index.js';\n\nimport './Unicode.less';\n\nconst b = block('unicode');\n\nconst limit = 5000;\nconst max = 65535;\nconst count = (max - (max % limit)) / limit + 1;\n\nfunction getUnicodeList(start, end) {\n    const table = [];\n    for (let i = start; i < end; i++) {\n        table.push(E.div.title(i)(String.fromCharCode(i)));\n    }\n    return table;\n}\n\nconst Unicode = Component.Unicode(({state}) => {\n    state.init({i: 0});\n\n    return () => {\n        const start = state().i;\n        const startI = start * limit;\n        const end = start * limit + limit;\n        const endI = end > max ? max : end;\n        return E.div(\n            Breadcrumbs.items([['Проекты', 'projects'], ['Юникод']]),\n            E.div.class(b())._forceUpdate(true)\n            (\n                E.div.class(b('menu'))([...(new Array(count)).keys()].map(i =>\n                    E.div\n                        .class(b('button-container'))\n                        .onClick(() => state.set({i}))\n                    (\n                        Button(E.span.class(b('button', {active: i === start}))(`${i}`))\n                    )\n                )),\n                E.div(\n                    E.h2('Юникод'),\n                    E.p(E`Пока представлена только ${E.a.href('https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane')('основная многоязычная плоскость')}`),\n                    E.br,\n                    E.p(`Cимволы ${startI} - ${endI}`),\n                    E.br,\n                    E.div._forceUpdate(true).class(b('table'))(getUnicodeList(startI, endI))\n                )\n            )\n        );\n    }\n});\n\nexport default Unicode;\n","import {\n    block,\n    E,\n    style,\n    Component,\n    RouteLink,\n    css\n} from '../../utils/index.js';\nimport {\n    Button\n} from '../../blocks/index.js';\n\nimport './Design.less';\n\nconst b = block('design');\n\nconst Design = Component.Design(() => {\n    return () => {\n        return E.div.class(b())(\n            E.h2('Дизайн'),\n            RouteLink.href('design/colors')(\n                Button(\n                    E.div.style(style({padding: '24px', fontSize: '64px', fontWeight: '500'}))(\n                        E.span.style('color: #bc514a')('Ц'),\n                        E.span.style('color: #99c27c')('в'),\n                        E.span.style('color: #65b0ed')('е'),\n                        E.span.style('color: #c57bdb')('т'),\n                        E.span.style('color: #d0996a')('а'),\n                    )\n                )\n            )\n        );\n    }\n});\n\nexport default Design;\n","import {\n    E,\n    block,\n    Component,\n    css\n} from '../../utils/index.js';\n\nimport './GameOfLife.less';\n\nconst b = block('game-of-life');\n// console.log('game of life!!!!!!!!!')\n\nconst range = (start, end) => {\n    const result = [];\n    for (let i = start; i <= end; i++) {\n        result.push(i);\n    }\n    return result;\n}\n\nconst Game = Component.Game(({\n    props,\n    getState,\n    setState,\n    initState,\n    didMount\n}) => {\n    const {\n        H = 200, W = 400\n    } = props;\n    initState({\n        i: 0,\n        size: 0,\n        stop: true,\n        H,\n        W\n    });\n\n    let canvas, img_data, data, ctx, rule = {\n        new: [2,3],\n        old: [3]\n    }, fieldState, fieldStateNext;\n\n\n    didMount(() => {\n        const {\n            startFieldState\n        } = props;\n        const {\n            H,\n            W\n        } = getState();\n\n        fieldState = new Array(H * W);\n        fieldStateNext = new Array(H * W);\n        for (let i = 0; i < H * W; i++) {\n            fieldState[i] = false;\n            fieldStateNext[i] = false;\n        }\n\n        if (startFieldState) {\n            set_life(startFieldState);\n        }\n        canvas = document.getElementById('field');\n        ctx = canvas.getContext('2d', {\n            alpha: false\n        });\n        img_data = ctx.getImageData(0, 0, W, H);\n        data = img_data.data;\n        for (let k = 0; k < H * W * 4; k++) {\n            data[k] = (k + 1) % 4 == 0 ? 255 : 0;\n        }\n\n        // paint();\n        // rules();\n\n        draw();\n        life();\n    })\n\n\n    function torsum(i, j) {\n        const {\n            H,\n            W,\n            fieldState: state\n        } = getState();\n        // положение строки над текущей клеткой\n        const i_top_W = (i ? i - 1 : H - 1) * W;\n        // положение строки под текущей клеткой\n        const i_down_W = (H - 1 - i ? i + 1 : 0) * W;\n        // положение строки текущей клетки\n        const i_W = i * W;\n        // столбец слева от текущей клетки\n        const j_l = j ? j - 1 : W - 1;\n        // столбец справа от текущей клетки\n        const j_r = W - 1 - j ? j + 1 : 0;\n        return (\n            +state[i_top_W + j_l] +\n            state[i_top_W + j] +\n            state[i_top_W + j_r] +\n            state[i_W + j_l] +\n            state[i_W + j_r] +\n            state[i_down_W + j_l] +\n            state[i_down_W + j] +\n            state[i_down_W + j_r]\n        );\n    }\n\n    function set_life(array) {\n        const {\n            W\n        } = getState();\n        for (const e of array) {\n            fieldState[(e[1] + 50) * W + e[0] + 50] = true;\n            fieldStateNext[(e[1] + 50) * W + e[0] + 50] = true;\n        }\n    }\n\n    function clear() {\n        const {W, H} = getState();\n        for (let k = 0; k < H * W * 4; k++) {\n            data[k] = (k + 1) % 4 === 0 ? 255 : 0;\n        }\n        for (let k = 0; k < H * W; k++) {\n            fieldState[k] = (data[k * 4] === 255);\n        }\n        ctx.putImageData(img_data, 0, 0);\n        setState({stop: true, i: 0});\n    }\n\n    function draw() {\n        const {H, W} = getState();\n        console.log(ctx);\n        for (let k = 0; k < H * W; k++) {\n            if (+fieldState[k] !== !data[k * 4 + 1]) {\n                data[k * 4] = fieldState[k] ? 255 : 0;\n            }\n        }\n        ctx.putImageData(img_data, 0, 0);\n    }\n\n    function step() {\n        let i, j, sum, k = 0;\n        for (i = 0; i < H; i++) {\n            for (j = 0; j < W; j++) {\n                sum = torsum(i, j);\n                if (fieldState[k]) {\n                    fieldStateNext[k] = rule.new.includes(sum);\n                } else {\n                    fieldStateNext[k] = rule.old.includes(sum);\n                }\n                k++;\n            }\n        }\n        for (k = 0; k < H * W; k++) {\n            fieldState[k] = fieldStateNext[k];\n        }\n    }\n\n    function one_step() {\n        step();\n        draw();\n        setState(prevState => ({i: prevState.i + 1}));\n    }\n\n    function life() {\n        const {stop} = getState();\n        if (!stop) {\n            one_step();\n        }\n        setState({size: fieldState.reduce((sum, x) => sum += x)});\n        setTimeout(life, 1000);\n    }\n\n    function rules() {\n        document.getElementById('cells_new').addEventListener('click', update_rule);\n        document.getElementById('cells_old').addEventListener('click', update_rule);\n\n        update(document.getElementById('cells_new').querySelector('input'));\n        update(document.getElementById('cells_old').querySelector('input'));\n\n        function update_rule(e) {\n            let elem = e.target;\n            if (elem.tagName !== 'INPUT') return;\n            update(elem);\n        }\n\n        function update(elem) {\n            type = elem.name;\n            list = elem.closest(`#cells_${type}`).querySelectorAll('input');\n            list = Array.from(list).filter(x => x.checked).map(x => +x.id);\n            rule[type] = list;\n        }\n    }\n\n    function update(elem) {\n        type = elem.name;\n        list = elem.closest(`#cells_${type}`).querySelectorAll('input');\n        list = Array.from(list).filter(x => x.checked).map(x => +x.id);\n        rule[type] = list;\n    }\n\n    return () => {\n        const {\n            stop,\n            H,\n            W,\n            i,\n            size\n        } = getState();\n        return E.div.class(b())(\n            E.canvas.id('field').width(W).height(H),\n            E.p('Поколение ', E.span.id('old')(i)),\n            E.p('Популяция ', E.span.id('size')(size)),\n            E.input.type('button')\n            .value(stop ? '>' : '||')\n            .onClick(() => {\n                setState(prevState => ({\n                    stop: !prevState.stop\n                }))\n            }).id('play'),\n            E.input.type('button').value('1>').onClick(() => one_step()),\n            E.input.type('button').value('X').onClick(() => clear()).id('btn_clear'),\n            E.br,\n            E.div.id('cells_new')(\n                E.p('Рождение'),\n                range(0, 8).map(i =>\n                    E.label(\n                        E.input.type('checkbox').name('new').id(i),\n                        i\n                    )\n                )\n            ),\n            E.br,\n            E.div.id('cells_old')(\n                E.p('Смерть'),\n                range(0, 8).map(i => E.label(E.input.type('checkbox').name('old').id(i), i))\n            )\n        );\n    }\n}).startFieldState([\n    [3, 0],\n    [4, 1],\n    [0, 2],\n    [4, 2],\n    [1, 3],\n    [2, 3],\n    [3, 3],\n    [4, 3],\n    [0, 7],\n    [1, 8],\n    [2, 8],\n    [2, 9],\n    [2, 10],\n    [1, 11],\n    [3, 14],\n    [4, 15],\n    [0, 16],\n    [4, 16],\n    [1, 17],\n    [2, 17],\n    [3, 17],\n    [4, 17]\n]);\n\n\n\n\nfunction initGame() {\n\n\n    function paint() {\n        canvas.onmousedown = startDrawing;\n        canvas.onmouseup = stopDrawing;\n        canvas.onmouseout = stopDrawing;\n        canvas.onmousemove = draw;\n\n        let context = ctx;\n        let isDrawing;\n\n        context.strokeStyle = 'rgb(255,0,0)';\n        context.lineWidth = 1;\n\n        let pause = false;\n\n        function startDrawing(e) {\n\n            // Начинаем рисовать\n            isDrawing = true;\n            if (!stop) {\n                stop = true;\n                pause = true;\n            }\n\n            // Создаем новый путь (с текущим цветом и толщиной линии)\n            context.beginPath();\n\n            // Нажатием левой кнопки мыши помещаем \"кисть\" на холст\n            context.moveTo(e.pageX - canvas.offsetLeft, e.pageY - canvas.offsetTop);\n        }\n\n\n        function draw(e) {\n            if (isDrawing == true) {\n                // Определяем текущие координаты указателя мыши\n                var x = e.pageX - canvas.offsetLeft;\n                var y = e.pageY - canvas.offsetTop;\n\n                // Рисуем линию до новой координаты\n                context.lineTo(x, y);\n                context.stroke();\n            }\n        }\n\n        function stopDrawing() {\n            isDrawing = false;\n            if (pause) {\n                stop = false;\n                pause = false;\n            }\n\n\n            img_data = ctx.getImageData(0, 0, W, H);\n            data = img_data.data;\n            for (let k = 0; k < H * W; k++) {\n                state[k] = (data[k * 4] == 255);\n            }\n        }\n    }\n\n    function rules() {\n        document.getElementById('cells_new').addEventListener('click', update_rule);\n        document.getElementById('cells_old').addEventListener('click', update_rule);\n\n        update(document.getElementById('cells_new').querySelector('input'));\n        update(document.getElementById('cells_old').querySelector('input'));\n\n        function update_rule(e) {\n            let elem = e.target;\n            if (elem.tagName !== 'INPUT') return;\n            update(elem);\n\n        }\n\n        function update(elem) {\n            type = elem.name;\n            list = elem.closest(`#cells_${type}`).querySelectorAll('input');\n            list = Array.from(list).filter(x => x.checked).map(x => +x.id);\n            rule[type] = list;\n        }\n    }\n}\n\nexport default Game;\n","import {\n    E,\n    Component,\n    RouteLink,\n    css,\n    block,\n    style\n} from '../../utils/index.js';\nimport {Button} from '../../blocks/index.js';\n\nimport './About.less';\n\nconst b = block('about');\n\nconst about = E.div.class(b())(\n    E.p('Программирую'),\n    E.p(E`Работаю в ${E.a.href('https://yandex.ru')('Яндексе')}`),\n    E.p('Люблю математику'),\n    E.p(E`Мой ${E.a.href('https://github.com/nikalexxx')('Github')}`)\n);\n\nexport default about;\n","import {\n    S,\n    Component\n} from '../utils/index.js';\n\nexport default Component.SunIcon(({props}) => () =>\n    S.svg\n        ['aria-hidden']`true`\n        .focusable`false`\n        .role`img`\n        .xmlns`http://www.w3.org/2000/svg`\n        .viewBox`0 0 512 512`\n        ._props(props)\n    (\n        S.path\n            .fill`currentColor`\n            .d`M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z`\n    )\n)\n","import {\n    S,\n    Component\n} from '../utils/index.js';\n\nexport default Component.MoonIcon(({props}) => () =>\n    S.svg\n        ['aria-hidden']`true`\n        .focusable`false`\n        .role`img`\n        .xmlns`http://www.w3.org/2000/svg`\n        .viewBox`0 0 512 512`\n        ._props(props)\n    (\n        S.path\n            .fill`currentColor`\n            .d`M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z`\n    )\n)\n","import Sun from './Sun';\nimport Moon from './Moon';\n\nexport const Icon = {\n    Sun,\n    Moon\n};\n","import {\n    E,\n    Component,\n    block,\n    style\n} from './utils/index.js';\n\nimport {Button} from './blocks/index.js';\n\nconst b = block('my-component');\n\nconst MyComponent = Component.MyComponent(({props, state}) => {\n    state.init({show: true});\n\n    return () => {\n        const {state: visible} = props;\n        const {show} = state();\n        const elem = show ? E.span('elem') : null;\n        return E.div.class(b())(\n            elem,\n            E.span\n                .style(style({color: {ok: 'green', error: 'red'}[visible]}))\n                .class(b('state'))(\n                    visible\n                ),\n            E.span.onClick((e) => {\n                // console.log({show});\n                state.set(prevState => ({show: !prevState.show}));\n            })((show ? 'hide' : 'show'))\n        )\n    }\n});\n\nexport default MyComponent;\n","const map = {\n\t\"\": {},\n\t\"design\": {\n\t\t\"colors\": {\n\t\t\t\":color\": {}\n\t\t}\n    },\n    \"sandbox\": {\n        \":id\": {}\n    },\n    \"games\": {\n        \"gameOfLife\": {}\n    }\n};\n\nexport default map;\n","import {\n    E,\n    M,\n    Component,\n    RouteLink,\n    getRouterState,\n    Switch,\n    block,\n    style\n} from '../../utils/index.js';\nimport {\n    Colors,\n    GameOfLife,\n    Design,\n    Blog,\n    Post,\n    About,\n    Projects,\n    Unicode,\n    Physics,\n    StandardModel\n} from '../index.js';\nimport {Button} from '../../blocks/index.js';\nimport {Icon} from '../../icons/index.js';\nimport MyComponent from '../../MyComponent.js';\nimport map from '../../map.js';\nimport {book} from '../../utils/book.js';\n\nimport './App.less';\n\nconst b = block('app');\n\nconst routes = params => ({\n    '/': Blog,\n    'about': About,\n    'book': E.div(book),\n    'design': Design,\n    'design/colors': Colors,\n    // 'my/:state': E.div(\n    //     MyComponent.state(params.state),\n    //     MyComponent.state('ok'),\n    //     MyComponent.state('error'),\n    //     E.ul(\n    //         E.li`Поправить движок`,\n    //         E.li`Меню для мобильной версии`,\n    //         E.li`Игра Жизнь`,\n    //         E.li`Формат электронной книги`,\n    //         E.li`Калькулятор`,\n    //         E.li`Построитель графиков`,\n    //         E.li`Схема метро(позже интерактивная)`\n    //     )\n    // ),\n    // 'gameOfLife': GameOfLife,\n    'blog': Blog,\n    'blog/:id': Post.id(params.id),\n    'projects': Projects,\n    'projects/unicode': Unicode,\n    'physics': Physics,\n    'physics/standard-model': StandardModel\n})\n\nconst Menu = Component.Menu(({state}) => {\n    const path = () => getRouterState(routes).path;\n    state.init({i: 0});\n    window.addEventListener('historyUpdate', () => state.set(prev => ({i: prev.i++})));\n    function renderLink(href, title) {\n        const current = path().startsWith(href) || path() === '/' && href === 'blog';\n        // console.log(href, path());\n        return RouteLink.href(href)(\n            E.div.class(b('menu-link', {current}))(\n                title\n            )\n        );\n    }\n    return () => E.div(\n        renderLink('blog', 'Блог'),\n        renderLink('about', 'Кто я?'),\n        // renderLink('book', 'Книга'),\n        renderLink('projects', 'Проекты'),\n        renderLink('physics', 'Физика'),\n        renderLink('design', 'Дизайн')\n        // renderLink('gameOfLife', 'Игра Жизнь'),\n        // renderLink('my/ok', 'тест')\n    )\n});\n\nconst Header = Component.Header(({state, hooks}) => {\n    state.init({\n        theme: 'dark'\n    });\n\n    hooks.didMount(() => {\n        const savedTheme = localStorage.getItem('theme');\n        if (savedTheme) {\n            state.set({theme: savedTheme});\n        }\n        setTheme();\n    });\n\n    function setTheme() {\n        const {theme} = state();\n        localStorage.setItem('theme', theme);\n        const classList = document.body.classList;\n        if (theme === 'light') {\n            classList.add('theme_light');\n        } else {\n            classList.remove('theme_light');\n        }\n        window.dispatchEvent(new CustomEvent('theme', {detail: {theme}}));\n    }\n\n    function toogleTheme() {\n        state.set(prevState => ({\n            theme: prevState.theme === 'dark' ? 'light' : 'dark'\n        }), () => setTheme());\n    }\n\n    function getIcon() {\n        const {theme} = state();\n        return {\n            dark: () => E.div.style('width: 1em; height: 1em;')(Icon.Moon),\n            light: () => E.div.style('width: 1em; height: 1em;')(Icon.Sun)\n        }[theme]();\n    }\n\n    return () => E.header.class(b('header'))(\n        RouteLink.href('/')(\n            E.h1.style(style({textAlign: 'center'}))('Александр Николаичев')\n        ),\n        Button.onClick(toogleTheme)(getIcon())\n    );\n})\n\nconst Page = E.div.class(b())(\n    // E.div.class(b('header-menu'))(\n    //     E.div('Alexandr Nikolaichev'),\n    //     E.div.class(b('scroll-top')).onClick(() => window.scrollTo({top: 0}))('▲ ▲ ▲')\n    // ),\n    Header,\n    E.nav.class(b('menu'))(Menu),\n    E.main.class(b('content'))(Switch.routes(routes)),\n    E.footer.class(b('footer'))('© 2019-2020 Alexandr Nikolaichev')\n);\n\nexport default Page;\n","        export {default as Breadcrumbs} from './Breadcrumbs/Breadcrumbs.js';\n    export {default as Post} from './Post/Post.js';\n    export {default as Blog} from './Blog/Blog.js';\n    export {default as Physics} from './Physics/Physics.js';\n    export {default as StandardModel} from './StandardModel/StandardModel.js';\n    export {default as Projects} from './Projects/Projects.js';\n    export {default as Colors} from './Colors/Colors.js';\n    export {default as Unicode} from './Unicode/Unicode.js';\n    export {default as Design} from './Design/Design.js';\n    export {default as GameOfLife} from './GameOfLife/GameOfLife.js';\n    export {default as About} from './About/About.js';\nexport {default as App} from './App/App.js';\n","import {App} from './components/index.js';\nimport {setLogger, logAllLevels} from './utils/logger.js';\nimport {DOM} from './utils/element.js';\n\nsetLogger({\n    component: {\n        props: {\n            [logAllLevels]: true\n        }\n    }\n});\nsetLogger(false); // for production\n\ndocument.getElementById('root').append(DOM(App));\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}